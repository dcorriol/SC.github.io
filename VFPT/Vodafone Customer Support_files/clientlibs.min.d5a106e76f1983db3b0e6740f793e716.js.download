Vue.component("contact-options",{mixins:[utils],template:"#contactOptionsCmp",props:{cards:"",expandable:""},data:function(){return{contacts:[],filteredContacts:[],contactsList:[],openContact:-1,i18nLabels:{title:this.i18nUtils().getProperty("contact_options_title"),moreInformation:this.i18nUtils().getProperty("contact_options_more_information"),lessInformation:this.i18nUtils().getProperty("contact_options_less_information")},isContactTypeSelected:!1,haveElementToExpand:!0}},created:function(){var b=this;document.addEventListener("click",function(a){var c=document.getElementById("contactInfoOption_"+b.openContact);a=a.target;do{if(a===c)return;a=a.parentNode}while(a);contactOptions.$refs.contactOptionsCmp.lessInformation()});if(this.cards){this.contacts=JSON.parse("["+this.cards+"]");this.filteredContacts=JSON.parse("["+this.cards+"]");for(var a=0;a<this.filteredContacts.length;a++){var c=this.filteredContacts[a].description,d=/<p[^>]*>\n<s*\/\/*p>/g;d.test(c)&&(c=c.replace(d,""),this.filteredContacts[a].description=c)}this.contactsList=this.filteredContacts}this.expandable&&((this.haveElementToExpand="true"===this.expandable?!0:!1)||this.accordionToggle());b=this;DigitalHelpEventBus.$on("current-selected-contact",function(a){b.loadContactList(a)})},mounted:function(){DigitalHelpEventBus.$emit("contact-options-loaded")},methods:{accordionToggle:function(){(this.isContactTypeSelected=!this.isContactTypeSelected)?this.tealiumContacts("Expand Suggestions of Contacts"):this.tealiumContacts("Collapse Suggestions of Contacts")},loadContactList:function(b){this.contactsList=[];if(this.filteredContacts&&0<this.filteredContacts.length)for(var a=0;a<this.filteredContacts.length;a++)for(var c=this.filteredContacts[a].reference.split("|"),d=0;d<c.length;d++)c[d]!==b&&""!==c[d]||this.contactsList.push(this.filteredContacts[a]);this.isContactTypeSelected=!0},moreLessInformation:function(b,a){this.openContact=this.openContact===b?-1:b;this.doAnchor(-1==this.openContact?"#contactOptions":"#contactOption_"+b);a=-1==this.openContact?"Collapse "+a:"Expand "+a;this.tealiumContacts(a)},lessInformation:function(){var b=this;setTimeout(function(){b.openContact=-1},1)},doAnchor:function(b){this.$nextTick(function(){if(void 0!=b&&0<$(b).length){var a=$(b).position().top,c=$("#contactSection").position().top;$("html, body").animate({scrollTop:a+c},1E3)}})},setTarget:function(b){return/^https?:\/\/|^\/\//.test(b)?"_blank":"_self"},tealiumContacts:function(b){var a=helpNSupportUtils.checkIfUserIsLogged();tealiumHelpAndSupport.methods.handleContact("Suggestions of Contacts",b,a)}}});