/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

window.Granite = window.Granite || {};

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

/**
 * A helper class providing a set of Sling-related utilities.
 * @static
 * @singleton
 * @class Granite.Sling
 */
Granite.Sling = {

    /**
     * The selector for infinite hierarchy depth when retrieving
     * repository content.
     * @static
     * @final
     * @type String
     */
    SELECTOR_INFINITY: ".infinity",

    /**
     * The parameter name for the used character set.
     * @static
     * @final
     * @type String
     */
    CHARSET: "_charset_",

    /**
     * The parameter name for the status.
     * @static
     * @final
     * @type String
     */
    STATUS: ":status",

    /**
     * The parameter value for the status type "browser".
     * @static
     * @final
     * @type String
     */
    STATUS_BROWSER: "browser",

    /**
     * The parameter name for the operation.
     * @static
     * @final
     * @type String
     */
    OPERATION: ":operation",

    /**
     * The parameter value for the delete operation.
     * @static
     * @final
     * @type String
     */
    OPERATION_DELETE: "delete",

    /**
     * The parameter value for the move operation.
     * @static
     * @final
     * @type String
     */
    OPERATION_MOVE: "move",

    /**
     * The parameter name suffix for deleting.
     * @static
     * @final
     * @type String
     */
    DELETE_SUFFIX: "@Delete",

    /**
     * The parameter name suffix for setting a type hint.
     * @static
     * @final
     * @type String
     */
    TYPEHINT_SUFFIX: "@TypeHint",

    /**
     * The parameter name suffix for copying.
     * @static
     * @final
     * @type String
     */
    COPY_SUFFIX: "@CopyFrom",

    /**
     * The parameter name suffix for moving.
     * @static
     * @final
     * @type String
     */
    MOVE_SUFFIX: "@MoveFrom",

    /**
     * The parameter name for the ordering.
     * @static
     * @final
     * @type String
     */
    ORDER: ":order",

    /**
     * The parameter name for the replace flag.
     * @static
     * @final
     * @type String
     */
    REPLACE: ":replace",

    /**
     * The parameter name for the destination flag.
     * @static
     * @final
     * @type String
     */
    DESTINATION: ":dest",

    /**
     * The parameter name for the save parameter prefix.
     * @static
     * @final
     * @type String
     */
    SAVE_PARAM_PREFIX: ":saveParamPrefix",

    /**
     * The parameter name for input fields that should
     * be ignored by Sling.
     * @static
     * @final
     * @type String
     */
    IGNORE_PARAM: ":ignore",

    /**
     * The parameter name for login requests.
     * @static
     * @final
     * @type String
     */
    REQUEST_LOGIN_PARAM: "sling:authRequestLogin",

    /**
     * Login URL
     * @static
     * @final
     * @type String
     */
    LOGIN_URL: "/system/sling/login.html",

    /**
     * Logout URL
     * @static
     * @final
     * @type String
     */
    LOGOUT_URL: "/system/sling/logout.html"
};

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
(function(Granite, $) {
    /**
     * A helper class providing a set of general utilities.
     * @static
     * @singleton
     * @class Granite.Util
     */
    Granite.Util = (function() {

        var self = {

            /**
             * Replaces occurrences of <code>{n}</code> in the specified text with
             * the texts from the snippets.
             * <p>Example 1 (single snippet):<pre><code>
    var text = Granite.Util.patchText("{0} has signed in.", "Jack");
               </code></pre>Result 1:<pre><code>
    Jack has signed in.
               </code></pre></p>
             * <p>Example 2 (multiple snippets):<pre><code>
    var text = "{0} {1} has signed in from {2}.";
    text = Granite.Util.patchText(text, ["Jack", "McFarland", "x.x.x.x"]);
               </code></pre>Result 2:<pre><code>
    Jack McFarland has signed in from x.x.x.x.
               </code></pre></p>
             * @static
             * @param {String} text The text
             * @param {String/String[]} snippets The text(s) replacing
             *        <code>{n}</code>
             * @return {String} The patched text
             */
            patchText: function(text, snippets) {
                if (snippets) {
                    if (!$.isArray(snippets)) {
                        text = text.replace("{0}", snippets);
                    } else {
                        for (var i = 0; i < snippets.length; i++) {
                            text = text.replace(("{" + i + "}"), snippets[i]);
                        }
                    }
                }
                return text;
            },

            /**
             * Returns the top most accessible window. Check {@link setIFrameMode} to avoid security exception message
             * on WebKit browsers if this method is called in an iFrame included in a window from different domain.
             * @static
             * @return {Window} The top window
             */
            getTopWindow: function() {
                var win = window;
                if (this.iFrameTopWindow) {
                    return this.iFrameTopWindow;
                }
                try {
                    // try to access parent
                    // win.parent.location.href throws an exception if not authorized (e.g. different location in a portlet)
                    while (win.parent && win !== win.parent && win.parent.location.href) {
                        win = win.parent;
                    }
                } catch (error) {}
                return win;
            },

            /**
             * Allows to define if Granite.Util is running in an iFrame and parent window is in another domain
             * (and optionally define what would be the top window in that case.
             * This is necessary to use {@link getTopWindow} in a iFrame on WebKit based browsers because
             * {@link getTopWindow} iterates on parent windows to find the top one which triggers a security exception
             * if one parent window is in a different domain. Exception cannot be caught but is not breaking the JS
             * execution.
             * @param {Object} topWindow (optional) The iFrame top window. Must be running on the same host to avoid
             * security exception. Defaults to window.
             */
            setIFrameMode: function(topWindow) {
                this.iFrameTopWindow = topWindow || window;
            },

            /**
             * Applies default properties if inexistent inzo the base object.
             * Child objects are merged recursively.
             * REMARK:
             *   - objects are recursively merged
             *   - simple type obejct properties are copied over the base
             *   - arrays are cloned and override the base (no value merging)
             *
             * @static
             * @param {Object} base object
             * @param {Object} pass objects to be copied onto the base
             * @return {Object} The base object with defaults
             */
            applyDefaults: function() {
                var override;
                var base = arguments[0] || {};

                for (var i = 1; i < arguments.length; i++) {
                    override = arguments[i];

                    for (var name in override) {
                        var value = override[name];

                        if (override.hasOwnProperty(name) && value !== undefined) {

                            if (value !== null && typeof value === "object" && !(value instanceof Array)) {
                                // nested object
                                base[name] = self.applyDefaults(base[name], value);
                            } else if (value instanceof Array) {
                                // override array
                                base[name] = value.slice(0);
                            } else {
                                // simple type
                                base[name] = value;
                            }
                        }

                    }
                }

                return base;
            },

            /**
             * Get keycode from event
             * @param event Event
             * @returns {Number} Keycode
             */
            getKeyCode: function(event) {
                return event.keyCode ? event.keyCode : event.which;
            }

        };

        return self;

    }());

}(Granite, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
/* global CQURLInfo:false, G_XHR_HOOK:false */
(function(Granite, util, sling, $) {

    /**
     * A helper class providing a set of HTTP-related utilities.
     * @static
     * @singleton
     * @class Granite.HTTP
     */
    Granite.HTTP = (function() {
        /**
         * The context path used on the server.
         * May only be set by {@link #detectContextPath}.
         * @private
         * @type String
         */
        var contextPath = null;

        /**
         * The regular expression to detect the context path used
         * on the server using the URL of this script.
         * @private
         * @final
         * @type RegExp
         */
        var SCRIPT_URL_REGEXP = /^(?:http|https):\/\/[^\/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/;

        /**
         * The regular expression to detect unescaped special characters in a path.
         * @private
         * @final
         * @type RegExp
         */
        var ENCODE_PATH_REGEXP = /[^1\w-\.!~\*'\(\)\/%;:@&=\$,]/;

        /**
         * Indicates after a session timeout if a refresh has already been triggered
         * in order to avoid multiple alerts.
         * @private
         * @type String
         */
        var loginRedirected = false;

        var self = {};

        /**
         * Returns the scheme and authority (user, hostname, port) part of
         * the specified URL or an empty string if the URL does not include
         * that part.
         * @static
         * @param {String} url The URL
         * @return {String} The scheme and authority part
         */
        self.getSchemeAndAuthority = function(url) {
            var end;

            try {
                // e.g. url was /en.html
                if (url.indexOf("://") === -1) {
                    return "";
                }
                end = url.indexOf("/", url.indexOf("://") + 3);

                return (end === -1)
                    ? url   // e.g. url was http://www.day.com
                    : url.substring(0, end);  // e.g. url was http://www.day.com/en.html
            } catch (e) {
                return "";
            }
        };

        /**
         * Returns the context path used on the server.
         * @static
         * @return {String} The context path
         */
        self.getContextPath = function() {
            return contextPath;
        };

        /**
         * Detects the context path used on the server.
         * @private
         * @static
         */
        self.detectContextPath = function() {
            try {
                if (window.CQURLInfo) {
                    contextPath = CQURLInfo.contextPath || "";
                } else {
                    var scripts = document.getElementsByTagName("script");
                    for (var i = 0; i < scripts.length; i++) {
                        // in IE the first script is not the expected widgets js: loop
                        // until it is found
                        var result = SCRIPT_URL_REGEXP.exec(scripts[i].src);
                        if (result) {
                            contextPath = result[1];
                            return;
                        }
                    }
                    contextPath = "";
                }
            } catch (e) {
            }
        };

        /**
         * Makes sure the specified relative URL starts with the context path
         * used on the server. If an absolute URL is passed, it will be returned
         * as-is.
         * @static
         * @param {String} url The URL
         * @return {String} The externalized URL
         */
        self.externalize = function(url) {
            try {
                if (url.indexOf("/") === 0 && contextPath && url.indexOf(contextPath + "/") !== 0) {
                    url = contextPath + url;
                }
            } catch (e) {
            }
            return url;
        };

        /**
         * Removes scheme, authority and context path from the specified
         * absolute URL if it has the same scheme and authority as the
         * specified document (or the current one). If a relative URL is passed,
         * the context path will be stripped if present.
         * @static
         * @param {String} url The URL
         * @param {String} doc (optional) The document
         * @return {String} The internalized URL
         */
        self.internalize = function(url, doc) {
            if (url.charAt(0) === "/") {
                if (contextPath === url) {
                    return "";
                } else if (contextPath && url.indexOf(contextPath + "/") === 0) {
                    return url.substring(contextPath.length);
                } else {
                    return url;
                }
            }

            if (!doc) {
                doc = document;
            }
            var docHost = self.getSchemeAndAuthority(doc.location.href);
            var urlHost = self.getSchemeAndAuthority(url);
            if (docHost === urlHost) {
                return url.substring(urlHost.length + (contextPath ? contextPath.length : 0));
            } else {
                return url;
            }
        };

        /**
         * Removes all parts but the path from the specified URL.
         * <p>Examples:<pre><code>
         /x/y.sel.html?param=abc => /x/y
         </code></pre>
         * <pre><code>
         http://www.day.com/foo/bar.html => /foo/bar
         </code></pre><p>
         * @static
         * @param {String} url The URL, may be empty. If empty <code>window.location.href</code> is taken.
         * @return {String} The path
         */
        self.getPath = function(url) {

            if (!url) {
                if (window.CQURLInfo && CQURLInfo.requestPath) {
                    return CQURLInfo.requestPath;
                } else {
                    url = window.location.pathname;
                }
            } else {
                url = self.removeParameters(url);
                url = self.removeAnchor(url);
            }

            url = self.internalize(url);
            var i = url.indexOf(".", url.lastIndexOf("/"));
            if (i !== -1) {
                url = url.substring(0, i);
            }
            return url;
        };

        /**
         * Removes the anchor from the specified URL.
         * @static
         * @param {String} url The URL
         * @return {String} The URL without anchor
         */
        self.removeAnchor = function(url) {
            if (url.indexOf("#") !== -1) {
                return url.substring(0, url.indexOf("#"));
            }
            return url;
        };

        /**
         * Removes all parameter from the specified URL.
         * @static
         * @param {String} url The URL
         * @return {String} The URL without parameters
         */
        self.removeParameters = function(url) {
            if (url.indexOf("?") !== -1) {
                return url.substring(0, url.indexOf("?"));
            }
            return url;
        };

        /**
         * Encodes the path of the specified URL if it is not already encoded.
         * Path means the part of the URL before the first question mark or
         * hash sign.<br>
         * See {@link #encodePath} for details about the encoding.<br>
         * Sample:<br>
         * <code>/x/y+z.png?path=/x/y+z >> /x/y%2Bz.png?path=x/y+z</code><br>
         * Note that the sample would not work because the "+" in the request
         * parameter would be interpreted as a space. Parameters must be encoded
         * separately.
         * @param {String} url The URL to encoded
         * @return {String} The encoded URL
         */
        self.encodePathOfURI = function(url) {
            var parts;
            var delim;
            if (url.indexOf("?") !== -1) {
                parts = url.split("?");
                delim = "?";
            } else if (url.indexOf("#") !== -1) {
                parts = url.split("#");
                delim = "#";
            } else {
                parts = [ url ];
            }
            if (ENCODE_PATH_REGEXP.test(parts[0])) {
                parts[0] = self.encodePath(parts[0]);
            }
            return parts.join(delim);
        };

        /**
         * Encodes the specified path using encodeURI. Additionally <code>+</code>,
         * <code>#</code> and <code>?</code> are encoded.<br>
         * The following characters are not encoded:<br>
         * <code>0-9 a-z A-Z</code><br>
         * <code>- _ . ! ~ * ( )</code><br>
         * <code>/ : @ & =</code><br>
         * @param {String} path The path to encode
         * @return {String} The encoded path
         */
        self.encodePath = function(path) {
            // ensure IPV6 address square brackets are not encoded - see bug #34844
            path = encodeURI(path).replace(/%5B/g, "[").replace(/%5D/g, "]");
            path = path.replace(/\+/g, "%2B");
            path = path.replace(/\?/g, "%3F");
            path = path.replace(/;/g, "%3B");
            path = path.replace(/#/g, "%23");
            path = path.replace(/=/g, "%3D");
            path = path.replace(/\$/g, "%24");
            path = path.replace(/,/g, "%2C");
            path = path.replace(/'/g, "%27");
            path = path.replace(/"/g, "%22");
            return path;
        };

        /**
        * Returns if the redirect to the login page has already been triggered.
        * @return {Boolean}
        */
        self.handleLoginRedirect = function() {
            if (!loginRedirected) {
                loginRedirected = true;
                alert(Granite.I18n.get("Your request could not be completed because you have been signed out."));
                var l = util.getTopWindow().document.location;
                l.href = self.externalize(sling.LOGIN_URL) +
                    "?resource=" + encodeURIComponent(l.pathname + l.search + l.hash);
            }
        };

        /**
        * Gets the XHR hooked URL if called in a portlet context
        * @param {String} url The URL to get
        * @param {String} method The method to use to retrieve the XHR hooked URL
        * @param {Object} params The parameters
        * @return {String} The XHR hooked URL if available, the provided URL otherwise
        */
        self.getXhrHook = function(url, method, params) {
            method = method || "GET";
            if (window.G_XHR_HOOK && $.isFunction(G_XHR_HOOK)) {
                var p = {
                    "url": url,
                    "method": method
                };
                if (params) {
                    p["params"] = params;
                }
                return G_XHR_HOOK(p);
            }
            return null;
        };

        /**
         * Evaluates and returns the body of the specified response object.
         * Alternatively, a URL can be specified, in which case it will be
         * requested using a synchornous {@link #get} in order to acquire
         * the response object.
         * @static
         * @param {Object/String} response The response object or URL
         * @return {Object} The evaluated response body
         * @since 5.3
         */
        self.eval = function(response) {
            if (typeof response !== "object") {
                response = $.ajax({
                    url: response,
                    type: "get",
                    async: false
                });
            }
            try {
                // support responseText for backward compatibility (pre 5.3)
                return eval("(" + (response.body ? response.body
                    : response.responseText) + ")");
            } catch (e) {
            }
            return null;
        };

        return self;
    }());

}(Granite, Granite.Util, Granite.Sling, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

(function(document, Granite, util, http, $) {
    /**
     * A helper class providing a set of utilities related to internationalization (i18n).
     *
     * <h3>Locale Priorities</h3>
     * <p>The locale is read based on the following priorities:</p>
     * <ol>
     *   <li>manually specified locale</li>
     *   <li><code>document.documentElement.lang</code></li>
     *   <li><code>Granite.I18n.LOCALE_DEFAULT</code></li>
     * </ol>
     *
     * <h3>Dictionary Priorities</h3>
     * <p>The dictionary URL is read based on the following priorities:</p>
     * <ol>
     *   <li>manually specified URL (<code>urlPrefix</code, <code>urlSuffix</code>)</li>
     *   <li><code>data-i18n-dictionary-src</code> attribute at &lt;html&gt; element, which has the type of <a href="http://tools.ietf.org/html/rfc6570">URI Template</a> string</li>
     *   <li>The URL resolved from default <code>urlPrefix</code> and <code>urlSuffix</code></li>
     * </ol>
     *
     * <h3>URI Template of data-i18n-dictionary-src</h3>
     * <p>It expects the variable named <code>locale</code>, which will be fetched from the locale (based on priorities above).
     * E.g. <code>&lt;html lang="en" data-i18n-dictionary-src="/libs/cq/i18n/dict.{+locale}.json"&gt;</code>.</p>
     *
     * @static
     * @singleton
     * @class Granite.I18n
     */
    Granite.I18n = (function() {

        /**
         * The map where the dictionaries are stored under their locale.
         * @private
         * @type Object
         */
        var dicts = {};

        /**
         * The prefix for the URL used to request dictionaries from the server.
         * @private
         * @type String
         */
        var urlPrefix = "/libs/cq/i18n/dict.";

        /**
         * The suffix for the URL used to request dictionaries from the server.
         * @private
         * @type String
         */
        var urlSuffix = ".json";

        /**
         * The manually specified locale as a String or a function that returns the locale as a string.
         * @private
         * @static
         * @type String
         */
        var manualLocale = undefined;

        /**
         * If the current locale represents pseudo translations.
         * In that case the dictionary is expected to provide just a special
         * translation pattern to automatically convert all original strings.
         */
        var pseudoTranslations = false;

        var languages = null;

        var self = {};

        /**
         * Indicates if the dictionary parameters are specified manually.
         */
        var manualDictionary = false;

        var getDictionaryUrl = function(locale) {
            if (manualDictionary) {
                return urlPrefix + locale + urlSuffix;
            }

            var dictionarySrc = $("html").attr("data-i18n-dictionary-src");

            if (!dictionarySrc) {
                return urlPrefix + locale + urlSuffix;
            }

            // dictionarySrc is a URITemplate
            // Use simple string replacement for now; for more complicated scenario, please use Granite.URITemplate
            return dictionarySrc.replace("{locale}", encodeURIComponent(locale)).replace("{+locale}", locale);
        };

        /**
         * The default locale (en).
         * @static
         * @final
         * @type String
         */
        self.LOCALE_DEFAULT = "en";

        /**
         * Language code for pseudo translations.
         * @static
         * @final
         * @type String
         */
        self.PSEUDO_LANGUAGE = "zz";

        /**
         * Dictionary key for pseudo translation pattern.
         * @static
         * @final
         * @type String
         */
        self.PSEUDO_PATTERN_KEY = "_pseudoPattern_";

        /**
         * Initializes I18n with the given config options:
         * <ul>
         * <li>locale: the current locale (defaults to "en")</li>
         * <li>urlPrefix: the prefix for the URL used to request dictionaries from
         * the server (defaults to "/libs/cq/i18n/dict.")</li>
         * <li>urlSuffix: the suffix for the URL used to request dictionaries from
         * the server (defaults to ".json")</li>
         * </ul>
         * Sample config. The dictioniary would be requested from
         * "/apps/i18n/dict.fr.json":
         <code><pre>{
         "locale": "fr",
         "urlPrefix": "/apps/i18n/dict.",
         "urlSuffix": ".json"
         }</pre></code>
         * @param {Object} config The config
         */
        self.init = function(config) {
            config  = config || {};

            this.setLocale(config.locale);
            this.setUrlPrefix(config.urlPrefix);
            this.setUrlSuffix(config.urlSuffix);
        };

        /**
         * Sets the current locale.
         * @static
         * @param {String/Function} locale The locale or a function that returns the locale as a string
         */
        self.setLocale = function(locale) {
            if (!locale) {
                return;
            }

            manualLocale = locale;
        };

        /**
         * Returns the current locale based on the priorities.
         * @static
         * @return {String} The locale
         */
        self.getLocale = function() {
            if ($.isFunction(manualLocale)) {
                // execute function first time only and store result in currentLocale
                manualLocale = manualLocale();
            }

            return manualLocale || document.documentElement.lang || self.LOCALE_DEFAULT;
        };

        /**
         * Sets the prefix for the URL used to request dictionaries from
         * the server. The locale and URL suffix will be appended.
         * @static
         * @param {String} prefix The URL prefix
         */
        self.setUrlPrefix = function(prefix) {
            if (!prefix) {
                return;
            }

            urlPrefix = prefix;
            manualDictionary = true;
        };

        /**
         * Sets the suffix for the URL used to request dictionaries from
         * the server. It will be appended to the URL prefix and locale.
         * @static
         * @param {String} suffix The URL suffix
         */
        self.setUrlSuffix = function(suffix) {
            if (!suffix) {
                return;
            }

            urlSuffix = suffix;
            manualDictionary = true;
        };

        /**
         * Returns the dictionary for the specified locale. This method
         * will request the dictionary using the URL prefix, the locale,
         * and the URL suffix. If no locale is specified, the current
         * locale is used.
         * @static
         * @param {String} locale (optional) The locale
         * @return {Object} The dictionary
         */
        self.getDictionary = function(locale) {
            locale = locale || self.getLocale();

            if (!dicts[locale]) {
                pseudoTranslations = (locale.indexOf(self.PSEUDO_LANGUAGE) === 0);

                try {
                    var response = $.ajax(getDictionaryUrl(locale), {
                        async: false,
                        dataType: "json"
                    });
                    dicts[locale] = $.parseJSON(response.responseText);
                } catch (e) {}
                if (!dicts[locale]) {
                    dicts[locale] = {};
                }
            }
            return dicts[locale];
        };

        /**
         * Translates the specified text into the current language.
         * @static
         * @param {String} text The text to translate
         * @param {String[]} snippets The snippets replacing <code>{n}</code> (optional)
         * @param {String} note A hint for translators (optional)
         * @return {String} The translated text
         */
        self.get = function(text, snippets, note) {
            var dict;
            var newText;
            var lookupText;

            dict = self.getDictionary();

            // note that pseudoTranslations is initialized in the getDictionary() call above
            lookupText = pseudoTranslations ? self.PSEUDO_PATTERN_KEY
                : note ? text + " ((" + note + "))"
                    : text;
            if (dict) {
                newText = dict[lookupText];
            }
            if (!newText) {
                newText = text;
            }
            if (pseudoTranslations) {
                newText = newText.replace("{string}", text).replace("{comment}", note ? note : "");
            }
            return util.patchText(newText, snippets);
        };

        /**
         * Translates the specified text into the current language. Use this
         * method to translate String variables, e.g. data from the server.
         * @static
         * @param {String} text The text to translate
         * @param {String} note A hint for translators (optional)
         * @return {String} The translated text
         */
        self.getVar = function(text, note) {
            if (!text) {
                return null;
            }
            return self.get(text, null, note);
        };

        /**
         * Returns the available languages, including a "title" property with a display name:
         * for instance "German" for "de" or "German (Switzerland)" for "de_ch".
         * @static
         * @return {Object} An object with language codes as keys and an object with "title",
         *                  "language", "country" and "defaultCountry" members.
         */
        self.getLanguages = function() {
            if (!languages) {
                try {
                    // use overlay servlet so customers can define /apps/wcm/core/resources/languages
                    var json = http.eval("/libs/wcm/core/resources/languages.overlay.infinity.json"); // TODO: broken!!!
                    $.each(json, function(name, lang) {
                        lang.title = self.getVar(lang.language);
                        if (lang.title && lang.country && lang.country !== "*") {
                            lang.title += " (" + self.getVar(lang.country) + ")";
                        }
                    });
                    languages = json;
                } catch (e) {
                    languages = {};
                }
            }
            return languages;
        };

        /**
         * Parses a language code string such as "de_CH" and returns an object with
         * language and country extracted. The delimiter can be "_" or "-".
         * @static
         * @param {String} langCode a language code such as "de" or "de_CH" or "de-ch"
         * @return {Object} an object with "code" ("de_CH"), "language" ("de") and "country" ("CH")
         *                  (or null if langCode was null)
         */
        self.parseLocale = function(langCode) {
            if (!langCode) {
                return null;
            }
            var pos = langCode.indexOf("_");
            if (pos < 0) {
                pos = langCode.indexOf("-");
            }

            var language;
            var country;
            if (pos < 0) {
                language = langCode;
                country = null;
            } else {
                language = langCode.substring(0, pos);
                country = langCode.substring(pos + 1);
            }
            return {
                code: langCode,
                language: language,
                country: country
            };
        };

        return self;

    }());

}(document, Granite, Granite.Util, Granite.HTTP, jQuery));

/*
 *
 * ADOBE CONFIDENTIAL
 * __________________
 *
 *  Copyright 2012 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */

/**
 * Implements the "Adobe Dynamic Touch Indicator" that tracks touch events and displays a visual indicator for
 * screen sharing and presentation purposes.
 *
 * To enable it call <code>Granite.TouchIndicator.init()</code> e.g. on document ready:
 * <pre><code>

 Granite.$(document).ready(function() {
     Granite.TouchIndicator.init();
 });

 </code></pre>
 *
 * AdobePatentID="2631US01"
 */
(function(Granite, $) {

    var touchIndicator = function() {

        var CSS = {
            "visibility": "hidden",
            "position": "absolute", // fixed would be better, but flickers on ipad while scrolling
            "width": "30px",
            "height": "30px",
            "-webkit-border-radius": "20px",
            "border-radius": "20px",
            "border": "5px solid orange",
            "-webkit-user-select": "none",
            "user-select": "none",
            "opacity": "0.5",
            "z-index": "2000",
            "pointer-events": "none"
        };

        var used = {};

        var unused = [];

        return {
            debugWithMouse: false,

            init: function() {
                var self = this;

                $(document).on("touchstart.touchindicator touchmove.touchindicator touchend.touchindicator", function(e) {
                    var touches = e.originalEvent.touches;
                    self.update(touches);
                    return true;
                });

                if (this.debugWithMouse) {
                    $(document).on("mousemove.touchindicator", function(e){
                        e.identifer = "fake";
                        self.update([ e ]);
                        return true;
                    });
                }
            },

            update: function(touches) {
                // go over all touch events present in the array
                var retained = {};
                for (var i = 0; i < touches.length; i++) {
                    var touch = touches[i];
                    var id = touch.identifier;

                    // check if we already have a indicator with the correct id
                    var indicator = used[id];
                    if (!indicator) {
                        // if not, check if we have an unused one
                        indicator = unused.pop();

                        // if not, create a new one and append it to the dom
                        if (!indicator) {
                            indicator = $("<div></div>").css(CSS);
                            $("body").append(indicator);
                        }
                    }

                    retained[id] = indicator;
                    indicator.offset({
                        left: touch.pageX - 20,
                        top: touch.pageY - 20
                    });
                    indicator.css("visibility", "visible");
                }

                // now hide all unused ones and stuff them in the unused array
                for (id in used) {
                    if (used.hasOwnProperty(id) && !retained[id]) {
                        indicator = used[id];
                        indicator.css("visibility", "hidden");
                        unused.push(indicator);
                    }
                }
                used = retained;
            }
        };
    };
    Granite.TouchIndicator = new touchIndicator();

}(Granite, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
(function(Granite, util, http, $) {

    /**
     * A tool to determine whether any opt-out cookie is set and whether a given cookie name
     * is white-listed. The opt-out and white-list cookie names are determined by a server
     * side configuration (com.adobe.granite.security.commons.OptOutService) and provided to
     * this tool by an optionally included component (/libs/granite/security/components/optout)
     * which provides a global JSON object named <code>GraniteOptOutConfig</code>.
     *
     * @static
     * @singleton
     * @class Granite.OptOutUtil
     */
    Granite.OptOutUtil = (function() {

        var self = {};

        /**
         * Contains the names of cookies the presence of which indicates the user has opted out.
         * @private
         * @type Array
         */
        var optOutCookieNames = [];

        /**
         * Contains the names of cookies which may still be set in spite of the user having opted out.
         * @private
         * @type Array
         */
        var whitelistedCookieNames = [];

        /**
         * Initializes this tool with an opt-out configuration. The following options are supported:
         * <ul>
         *     <li>cookieNames: an array of cookie names representing opt-out cookies. Defaults to empty.</li>
         *     <li>whitelistCookieNames: an array of cookies representing white-listed cookies. Defaults to empty.</li>
         * </ul>
         * Sample config:
         * <code>
         *     <pre>
         *         {
         *         "cookieNames":["omniture_optout","cq-opt-out"],
         *         "whitelistCookieNames":["someAppCookie", "anotherImportantAppCookie"]
         *         }
         *     </pre>
         * </code>
         * @param config The opt-out configuration
         */
        self.init = function(config) {
            if (config) {
                optOutCookieNames = config.cookieNames
                    ? config.cookieNames
                    : optOutCookieNames;
                whitelistedCookieNames = config.whitelistCookieNames
                    ? config.whitelistCookieNames
                    : whitelistedCookieNames;
            }
        };

        /**
         * Returns the array of configured cookie names representing opt-out cookies.
         * @static
         * @return {Array} The cookie names
         */
        self.getCookieNames = function() {
            return optOutCookieNames;
        };

        /**
         * Returns the array of configured cookie names representing white-listed cookies.
         * @static
         * @return {Array} The cookie names
         */
        self.getWhitelistCookieNames = function() {
            return whitelistedCookieNames;
        };

        /**
         * Determines whether the user (browser) has elected to opt-out. This is indicated by the presence of
         * one of the cookies retrieved through #getCookieNames().
         * @return {Boolean} True if an opt-cookie was found in the browser's cookies.
         */
        self.isOptedOut = function() {
            var browserCookies = document.cookie.split(";");
            for (var i = 0; i < browserCookies.length; i++) {
                var cookie = browserCookies[i];
                var cookieName = $.trim(cookie.split("=")[0]);
                if ($.inArray(cookieName, self.getCookieNames()) > -1) {
                    return true;
                }
            }

            return false;
        };

        /**
         * Determines whether the given <code>cookieName</code> may be used to set a cookie. This is the case
         * if either opt-out is inactive (#isOptedOut() == false) or it is active and the give cookie name was
         * found in the white-list (#getWhitelistCookieNames()).
         * @param cookieName The name of the cookie to check.
         * @return {Boolean} True if a cookie of this name may be used with respect to the opt-out status.
         */
        self.maySetCookie = function(cookieName) {
            return !(self.isOptedOut() && $.inArray(cookieName, self.getWhitelistCookieNames()) === -1);
        };

        return self;

    }());

}(Granite, Granite.Util, Granite.HTTP, jQuery));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */


//------------------------------------------------------------------------------
// Initialize the Granite utils library

Granite.OptOutUtil.init(window.GraniteOptOutConfig);
Granite.HTTP.detectContextPath();

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
/* global G_IS_HOOKED:false */
(function($, window, undefined) {

    var http;

    // namespacing
    window.Granite = window.Granite || {};
    window.Granite.$ = window.Granite.$ || $;

    // for deprecated "shared" support (GRANITE-1602)
    window._g = window._g || {};
    window._g.$ = window._g.$ || $;

    // grab Granite.HTTP
    http = Granite.HTTP;

    $.ajaxSetup({ // necessary global modifications for ajax calls
        externalize: true,
        encodePath: true,
        hook: true,
        beforeSend: function(jqXHR, s) { // s: settings provided by the ajax call or default values
            if (typeof G_IS_HOOKED === "undefined" || !G_IS_HOOKED(s.url)) {
                if (s.externalize) { // add context to calls
                    s.url = http.externalize(s.url);
                }
                if (s.encodePath) {
                    s.url = http.encodePathOfURI(s.url);
                }
            }
            if (s.hook) { // portlet XHR hook
                var hook = http.getXhrHook(s.url, s.type, s.data);
                if (hook) {
                    s.url = hook.url;
                    if (hook.params) {
                        if (s.type.toUpperCase() === "GET") {
                            s.url += "?" + $.param(hook.params);
                        } else {
                            s.data = $.param(hook.params);
                        }
                    }
                }
            }
        },
        statusCode: {
            403: function(jqXHR) {
                if (jqXHR.getResponseHeader("X-Reason") === "Authentication Failed") {
                    // login session expired: redirect to login page
                    http.handleLoginRedirect();
                }
            }
        }
    });

    $.ajaxSettings.traditional = true;

}(jQuery, this));

/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader = false;
	if (typeof define === 'function' && define.amd) {
		define(factory);
		registeredInModuleLoader = true;
	}
	if (typeof exports === 'object') {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function init (converter) {
		function api (key, value, attributes) {
			var result;
			if (typeof document === 'undefined') {
				return;
			}

			// Write

			if (arguments.length > 1) {
				attributes = extend({
					path: '/'
				}, api.defaults, attributes);

				if (typeof attributes.expires === 'number') {
					var expires = new Date();
					expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
					attributes.expires = expires;
				}

				// We're using "expires" because "max-age" is not supported by IE
				attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

				try {
					result = JSON.stringify(value);
					if (/^[\{\[]/.test(result)) {
						value = result;
					}
				} catch (e) {}

				if (!converter.write) {
					value = encodeURIComponent(String(value))
						.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
				} else {
					value = converter.write(value, key);
				}

				key = encodeURIComponent(String(key));
				key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
				key = key.replace(/[\(\)]/g, escape);

				var stringifiedAttributes = '';

				for (var attributeName in attributes) {
					if (!attributes[attributeName]) {
						continue;
					}
					stringifiedAttributes += '; ' + attributeName;
					if (attributes[attributeName] === true) {
						continue;
					}
					stringifiedAttributes += '=' + attributes[attributeName];
				}
				return (document.cookie = key + '=' + value + stringifiedAttributes);
			}

			// Read

			if (!key) {
				result = {};
			}

			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all. Also prevents odd result when
			// calling "get()"
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var rdecode = /(%[0-9A-Z]{2})+/g;
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!this.json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = parts[0].replace(rdecode, decodeURIComponent);
					cookie = converter.read ?
						converter.read(cookie, name) : converter(cookie, name) ||
						cookie.replace(rdecode, decodeURIComponent);

					if (this.json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					if (key === name) {
						result = cookie;
						break;
					}

					if (!key) {
						result[name] = cookie;
					}
				} catch (e) {}
			}

			return result;
		}

		api.set = api;
		api.get = function (key) {
			return api.call(api, key);
		};
		api.getJSON = function () {
			return api.apply({
				json: true
			}, [].slice.call(arguments));
		};
		api.defaults = {};

		api.remove = function (key, attributes) {
			api(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));
/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Vue=t()}(this,function(){"use strict";var y=Object.freeze({});function M(e){return null==e}function D(e){return null!=e}function S(e){return!0===e}function T(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function P(e){return null!==e&&"object"==typeof e}var r=Object.prototype.toString;function l(e){return"[object Object]"===r.call(e)}function i(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function t(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function F(e){var t=parseFloat(e);return isNaN(t)?e:t}function s(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var c=s("slot,component",!0),u=s("key,ref,slot,slot-scope,is");function f(e,t){if(e.length){var n=e.indexOf(t);if(-1<n)return e.splice(n,1)}}var n=Object.prototype.hasOwnProperty;function p(e,t){return n.call(e,t)}function e(t){var n=Object.create(null);return function(e){return n[e]||(n[e]=t(e))}}var o=/-(\w)/g,g=e(function(e){return e.replace(o,function(e,t){return t?t.toUpperCase():""})}),d=e(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),a=/\B([A-Z])/g,_=e(function(e){return e.replace(a,"-$1").toLowerCase()});var v=Function.prototype.bind?function(e,t){return e.bind(t)}:function(n,r){function e(e){var t=arguments.length;return t?1<t?n.apply(r,arguments):n.call(r,e):n.call(r)}return e._length=n.length,e};function h(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function m(e,t){for(var n in t)e[n]=t[n];return e}function b(e){for(var t={},n=0;n<e.length;n++)e[n]&&m(t,e[n]);return t}function $(e,t,n){}var O=function(e,t,n){return!1},w=function(e){return e};function C(t,n){if(t===n)return!0;var e=P(t),r=P(n);if(!e||!r)return!e&&!r&&String(t)===String(n);try{var i=Array.isArray(t),o=Array.isArray(n);if(i&&o)return t.length===n.length&&t.every(function(e,t){return C(e,n[t])});if(i||o)return!1;var a=Object.keys(t),s=Object.keys(n);return a.length===s.length&&a.every(function(e){return C(t[e],n[e])})}catch(e){return!1}}function x(e,t){for(var n=0;n<e.length;n++)if(C(e[n],t))return n;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var E="data-server-rendered",k=["component","directive","filter"],A=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:$,parsePlatformTagName:w,mustUseProp:O,_lifecycleHooks:A};function N(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var L=/[^\w.$]/;var I,H="__proto__"in{},B="undefined"!=typeof window,U="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,V=U&&WXEnvironment.platform.toLowerCase(),z=B&&window.navigator.userAgent.toLowerCase(),K=z&&/msie|trident/.test(z),J=z&&0<z.indexOf("msie 9.0"),q=z&&0<z.indexOf("edge/"),W=(z&&z.indexOf("android"),z&&/iphone|ipad|ipod|ios/.test(z)||"ios"===V),G=(z&&/chrome\/\d+/.test(z),{}.watch),Z=!1;if(B)try{var X={};Object.defineProperty(X,"passive",{get:function(){Z=!0}}),window.addEventListener("test-passive",null,X)}catch(e){}var Y=function(){return void 0===I&&(I=!B&&!U&&"undefined"!=typeof global&&"server"===global.process.env.VUE_ENV),I},Q=B&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ee(e){return"function"==typeof e&&/native code/.test(e.toString())}var te,ne="undefined"!=typeof Symbol&&ee(Symbol)&&"undefined"!=typeof Reflect&&ee(Reflect.ownKeys);te="undefined"!=typeof Set&&ee(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var re=$,ie=0,oe=function(){this.id=ie++,this.subs=[]};oe.prototype.addSub=function(e){this.subs.push(e)},oe.prototype.removeSub=function(e){f(this.subs,e)},oe.prototype.depend=function(){oe.target&&oe.target.addDep(this)},oe.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},oe.target=null;var ae=[];function se(e){oe.target&&ae.push(oe.target),oe.target=e}function ce(){oe.target=ae.pop()}var le=function(e,t,n,r,i,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ue={child:{configurable:!0}};ue.child.get=function(){return this.componentInstance},Object.defineProperties(le.prototype,ue);var fe=function(e){void 0===e&&(e="");var t=new le;return t.text=e,t.isComment=!0,t};function pe(e){return new le(void 0,void 0,void 0,String(e))}function de(e){var t=new le(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.isCloned=!0,t}var ve=Array.prototype,he=Object.create(ve);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var a=ve[o];N(he,o,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=a.apply(this,e),i=this.__ob__;switch(o){case"push":case"unshift":n=e;break;case"splice":n=e.slice(2)}return n&&i.observeArray(n),i.dep.notify(),r})});var me=Object.getOwnPropertyNames(he),ye=!0;function ge(e){ye=e}var _e=function(e){(this.value=e,this.dep=new oe,this.vmCount=0,N(e,"__ob__",this),Array.isArray(e))?((H?be:$e)(e,he,me),this.observeArray(e)):this.walk(e)};function be(e,t,n){e.__proto__=t}function $e(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];N(e,o,t[o])}}function we(e,t){var n;if(P(e)&&!(e instanceof le))return p(e,"__ob__")&&e.__ob__ instanceof _e?n=e.__ob__:ye&&!Y()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new _e(e)),t&&n&&n.vmCount++,n}function Ce(n,e,r,t,i){var o=new oe,a=Object.getOwnPropertyDescriptor(n,e);if(!a||!1!==a.configurable){var s=a&&a.get;s||2!==arguments.length||(r=n[e]);var c=a&&a.set,l=!i&&we(r);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(n):r;return oe.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&function e(t){for(var n=void 0,r=0,i=t.length;r<i;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(e))),e},set:function(e){var t=s?s.call(n):r;e===t||e!=e&&t!=t||(c?c.call(n,e):r=e,l=!i&&we(e),o.notify())}})}}function xe(e,t,n){if(Array.isArray(e)&&i(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Ce(r.value,t,n),r.dep.notify(),n):e[t]=n}function ke(e,t){if(Array.isArray(e)&&i(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||p(e,t)&&(delete e[t],n&&n.dep.notify())}}_e.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ce(e,t[n])},_e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)we(e[t])};var Ae=j.optionMergeStrategies;function Oe(e,t){if(!t)return e;for(var n,r,i,o=Object.keys(t),a=0;a<o.length;a++)r=e[n=o[a]],i=t[n],p(e,n)?l(r)&&l(i)&&Oe(r,i):xe(e,n,i);return e}function Se(n,r,i){return i?function(){var e="function"==typeof r?r.call(i,i):r,t="function"==typeof n?n.call(i,i):n;return e?Oe(e,t):t}:r?n?function(){return Oe("function"==typeof r?r.call(this,this):r,"function"==typeof n?n.call(this,this):n)}:r:n}function Te(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function Ee(e,t,n,r){var i=Object.create(e||null);return t?m(i,t):i}Ae.data=function(e,t,n){return n?Se(e,t,n):t&&"function"!=typeof t?e:Se(e,t)},A.forEach(function(e){Ae[e]=Te}),k.forEach(function(e){Ae[e+"s"]=Ee}),Ae.watch=function(e,t,n,r){if(e===G&&(e=void 0),t===G&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in m(i,e),t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ae.props=Ae.methods=Ae.inject=Ae.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return m(i,e),t&&m(i,t),i},Ae.provide=Se;var je=function(e,t){return void 0===t?e:t};function Ne(n,r,i){"function"==typeof r&&(r=r.options),function(e,t){var n=e.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[g(i)]={type:null});else if(l(n))for(var a in n)i=n[a],o[g(a)]=l(i)?i:{type:i};e.props=o}}(r),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?m({from:o},a):{from:a}}}}(r),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(r);var e=r.extends;if(e&&(n=Ne(n,e,i)),r.mixins)for(var t=0,o=r.mixins.length;t<o;t++)n=Ne(n,r.mixins[t],i);var a,s={};for(a in n)c(a);for(a in r)p(n,a)||c(a);function c(e){var t=Ae[e]||je;s[e]=t(n[e],r[e],i,e)}return s}function Le(e,t,n,r){if("string"==typeof n){var i=e[t];if(p(i,n))return i[n];var o=g(n);if(p(i,o))return i[o];var a=d(o);return p(i,a)?i[a]:i[n]||i[o]||i[a]}}function Ie(e,t,n,r){var i=t[e],o=!p(n,e),a=n[e],s=Pe(Boolean,i.type);if(-1<s)if(o&&!p(i,"default"))a=!1;else if(""===a||a===_(e)){var c=Pe(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(!p(t,"default"))return;var r=t.default;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof r&&"Function"!==Me(t.type)?r.call(e):r}(r,i,e);var l=ye;ge(!0),we(a),ge(l)}return a}function Me(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function De(e,t){return Me(e)===Me(t)}function Pe(e,t){if(!Array.isArray(t))return De(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(De(t[n],e))return n;return-1}function Fe(e,t,n){if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,e,t,n))return}catch(e){Re(e,r,"errorCaptured hook")}}Re(e,t,n)}function Re(e,t,n){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,n)}catch(e){He(e,null,"config.errorHandler")}He(e,t,n)}function He(e,t,n){if(!B&&!U||"undefined"==typeof console)throw e;console.error(e)}var Be,Ue,Ve=[],ze=!1;function Ke(){ze=!1;for(var e=Ve.slice(0),t=Ve.length=0;t<e.length;t++)e[t]()}var Je=!1;if("undefined"!=typeof setImmediate&&ee(setImmediate))Ue=function(){setImmediate(Ke)};else if("undefined"==typeof MessageChannel||!ee(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Ue=function(){setTimeout(Ke,0)};else{var qe=new MessageChannel,We=qe.port2;qe.port1.onmessage=Ke,Ue=function(){We.postMessage(1)}}if("undefined"!=typeof Promise&&ee(Promise)){var Ge=Promise.resolve();Be=function(){Ge.then(Ke),W&&setTimeout($)}}else Be=Ue;function Ze(e,t){var n;if(Ve.push(function(){if(e)try{e.call(t)}catch(e){Fe(e,t,"nextTick")}else n&&n(t)}),ze||(ze=!0,Je?Ue():Be()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}var Xe=new te;function Ye(e){!function e(t,n){var r,i;var o=Array.isArray(t);if(!o&&!P(t)||Object.isFrozen(t)||t instanceof le)return;if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=t.length;r--;)e(t[r],n);else for(i=Object.keys(t),r=i.length;r--;)e(t[i[r]],n)}(e,Xe),Xe.clear()}var Qe,et=e(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}});function tt(e){function i(){var e=arguments,t=i.fns;if(!Array.isArray(t))return t.apply(null,arguments);for(var n=t.slice(),r=0;r<n.length;r++)n[r].apply(null,e)}return i.fns=e,i}function nt(e,t,n,r,i){var o,a,s,c;for(o in e)a=e[o],s=t[o],c=et(o),M(a)||(M(s)?(M(a.fns)&&(a=e[o]=tt(a)),n(c.name,a,c.once,c.capture,c.passive,c.params)):a!==s&&(s.fns=a,e[o]=s));for(o in t)M(e[o])&&r((c=et(o)).name,t[o],c.capture)}function rt(e,t,n){var r;e instanceof le&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function o(){n.apply(this,arguments),f(r.fns,o)}M(i)?r=tt([o]):D(i.fns)&&S(i.merged)?(r=i).fns.push(o):r=tt([i,o]),r.merged=!0,e[t]=r}function it(e,t,n,r,i){if(D(t)){if(p(t,n))return e[n]=t[n],i||delete t[n],!0;if(p(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function ot(e){return T(e)?[pe(e)]:Array.isArray(e)?function e(t,n){var r=[];var i,o,a,s;for(i=0;i<t.length;i++)M(o=t[i])||"boolean"==typeof o||(a=r.length-1,s=r[a],Array.isArray(o)?0<o.length&&(at((o=e(o,(n||"")+"_"+i))[0])&&at(s)&&(r[a]=pe(s.text+o[0].text),o.shift()),r.push.apply(r,o)):T(o)?at(s)?r[a]=pe(s.text+o):""!==o&&r.push(pe(o)):at(o)&&at(s)?r[a]=pe(s.text+o.text):(S(t._isVList)&&D(o.tag)&&M(o.key)&&D(n)&&(o.key="__vlist"+n+"_"+i+"__"),r.push(o)));return r}(e):void 0}function at(e){return D(e)&&D(e.text)&&!1===e.isComment}function st(e,t){return(e.__esModule||ne&&"Module"===e[Symbol.toStringTag])&&(e=e.default),P(e)?t.extend(e):e}function ct(e){return e.isComment&&e.asyncFactory}function lt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(D(n)&&(D(n.componentOptions)||ct(n)))return n}}function ut(e,t,n){n?Qe.$once(e,t):Qe.$on(e,t)}function ft(e,t){Qe.$off(e,t)}function pt(e,t,n){Qe=e,nt(t,n||{},ut,ft),Qe=void 0}function dt(e,t){var n={};if(!e)return n;for(var r=0,i=e.length;r<i;r++){var o=e[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(vt)&&delete n[l];return n}function vt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ht(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?ht(e[n],t):t[e[n].key]=e[n].fn;return t}var mt=null;function yt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function gt(e,t){if(t){if(e._directInactive=!1,yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)gt(e.$children[n]);_t(e,"activated")}}function _t(t,n){se();var e=t.$options[n];if(e)for(var r=0,i=e.length;r<i;r++)try{e[r].call(t)}catch(e){Fe(e,t,n+" hook")}t._hasHookEvent&&t.$emit("hook:"+n),ce()}var bt=[],$t=[],wt={},Ct=!1,xt=!1,kt=0;function At(){var e,t;for(xt=!0,bt.sort(function(e,t){return e.id-t.id}),kt=0;kt<bt.length;kt++)t=(e=bt[kt]).id,wt[t]=null,e.run();var n=$t.slice(),r=bt.slice();kt=bt.length=$t.length=0,wt={},Ct=xt=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,gt(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&_t(r,"updated")}}(r),Q&&j.devtools&&Q.emit("flush")}var Ot=0,St=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ot,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new te,this.newDepIds=new te,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!L.test(e)){var n=e.split(".");return function(e){for(var t=0;t<n.length;t++){if(!e)return;e=e[n[t]]}return e}}}(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};St.prototype.get=function(){var e;se(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Fe(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Ye(e),ce(),this.cleanupDeps()}return e},St.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},St.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},St.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==wt[t]){if(wt[t]=!0,xt){for(var n=bt.length-1;kt<n&&bt[n].id>e.id;)n--;bt.splice(n+1,0,e)}else bt.push(e);Ct||(Ct=!0,Ze(At))}}(this)},St.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||P(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Fe(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},St.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},St.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},St.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||f(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Tt={enumerable:!0,configurable:!0,get:$,set:$};function Et(e,t,n){Tt.get=function(){return this[t][n]},Tt.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Tt)}function jt(e){e._watchers=[];var t=e.$options;t.props&&function(n,r){var i=n.$options.propsData||{},o=n._props={},a=n.$options._propKeys=[];n.$parent&&ge(!1);var e=function(e){a.push(e);var t=Ie(e,r,i,n);Ce(o,e,t),e in n||Et(n,"_props",e)};for(var t in r)e(t);ge(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?$:v(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){se();try{return e.call(t,t)}catch(e){return Fe(e,t,"data()"),{}}finally{ce()}}(t,e):t||{})||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);for(;i--;){var o=n[i];r&&p(r,o)||(void 0,36!==(a=(o+"").charCodeAt(0))&&95!==a&&Et(e,"_data",o))}var a;we(t,!0)}(e):we(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=Y();for(var i in t){var o=t[i],a="function"==typeof o?o:o.get;r||(n[i]=new St(e,a||$,$,Nt)),i in e||Lt(e,i,o)}}(e,t.computed),t.watch&&t.watch!==G&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Mt(e,n,r[i]);else Mt(e,n,r)}}(e,t.watch)}var Nt={lazy:!0};function Lt(e,t,n){var r=!Y();"function"==typeof n?(Tt.get=r?It(t):n,Tt.set=$):(Tt.get=n.get?r&&!1!==n.cache?It(t):n.get:$,Tt.set=n.set?n.set:$),Object.defineProperty(e,t,Tt)}function It(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),oe.target&&e.depend(),e.value}}function Mt(e,t,n,r){return l(n)&&(n=(r=n).handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Dt(t,e){if(t){for(var n=Object.create(null),r=ne?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),i=0;i<r.length;i++){for(var o=r[i],a=t[o].from,s=e;s;){if(s._provided&&p(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var c=t[o].default;n[o]="function"==typeof c?c.call(e):c}}return n}}function Pt(e,t){var n,r,i,o,a;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(P(e))for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=t(e[a],a,r);return D(n)&&(n._isVList=!0),n}function Ft(e,t,n,r){var i,o=this.$scopedSlots[e];if(o)n=n||{},r&&(n=m(m({},r),n)),i=o(n)||t;else{var a=this.$slots[e];a&&(a._rendered=!0),i=a||t}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Rt(e){return Le(this.$options,"filters",e)||w}function Ht(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Bt(e,t,n,r,i){var o=j.keyCodes[t]||n;return i&&r&&!j.keyCodes[t]?Ht(i,r):o?Ht(o,e):r?_(r)!==t:void 0}function Ut(n,r,i,o,a){if(i)if(P(i)){var s;Array.isArray(i)&&(i=b(i));var e=function(t){if("class"===t||"style"===t||u(t))s=n;else{var e=n.attrs&&n.attrs.type;s=o||j.mustUseProp(r,e,t)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}t in s||(s[t]=i[t],a&&((n.on||(n.on={}))["update:"+t]=function(e){i[t]=e}))};for(var t in i)e(t)}else;return n}function Vt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||Kt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function zt(e,t,n){return Kt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Kt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Jt(e[r],t+"_"+r,n);else Jt(e,t,n)}function Jt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function qt(e,t){if(t)if(l(t)){var n=e.on=e.on?m({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Wt(e){e._o=zt,e._n=F,e._s=t,e._l=Pt,e._t=Ft,e._q=C,e._i=x,e._m=Vt,e._f=Rt,e._k=Bt,e._b=Ut,e._v=pe,e._e=fe,e._u=ht,e._g=qt}function Gt(e,t,n,o,r){var a,s=r.options;p(o,"_uid")?(a=Object.create(o))._original=o:o=(a=o)._original;var i=S(s._compiled),c=!i;this.data=e,this.props=t,this.children=n,this.parent=o,this.listeners=e.on||y,this.injections=Dt(s.inject,o),this.slots=function(){return dt(n,o)},i&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=e.scopedSlots||y),s._scopeId?this._c=function(e,t,n,r){var i=rn(a,e,t,n,r,c);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(e,t,n,r){return rn(a,e,t,n,r,c)}}function Zt(e,t,n,r){var i=de(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function Xt(e,t){for(var n in t)e[g(n)]=t[n]}Wt(Gt.prototype);var Yt={init:function(e,t,n,r){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Yt.prepatch(i,i)}else{(e.componentInstance=function(e,t,n,r){var i={_isComponent:!0,parent:t,_parentVnode:e,_parentElm:n||null,_refElm:r||null},o=e.data.inlineTemplate;D(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns);return new e.componentOptions.Ctor(i)}(e,mt,n,r)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,i){var o=!!(i||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==y);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,e.$attrs=r.data.attrs||y,e.$listeners=n||y,t&&e.$options.props){ge(!1);for(var a=e._props,s=e.$options._propKeys||[],c=0;c<s.length;c++){var l=s[c],u=e.$options.props;a[l]=Ie(l,u,t,e)}ge(!0),e.$options.propsData=t}n=n||y;var f=e.$options._parentListeners;e.$options._parentListeners=n,pt(e,n,f),o&&(e.$slots=dt(i,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,_t(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,$t.push(t)):gt(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,yt(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);_t(t,"deactivated")}}(t,!0):t.$destroy())}},Qt=Object.keys(Yt);function en(e,t,n,r,i){if(!M(e)){var o=n.$options._base;if(P(e)&&(e=o.extend(e)),"function"==typeof e){var a,s,c,l,u,f,p;if(M(e.cid)&&void 0===(e=function(t,n,e){if(S(t.error)&&D(t.errorComp))return t.errorComp;if(D(t.resolved))return t.resolved;if(S(t.loading)&&D(t.loadingComp))return t.loadingComp;if(!D(t.contexts)){var r=t.contexts=[e],i=!0,o=function(){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate()},a=R(function(e){t.resolved=st(e,n),i||o()}),s=R(function(e){D(t.errorComp)&&(t.error=!0,o())}),c=t(a,s);return P(c)&&("function"==typeof c.then?M(t.resolved)&&c.then(a,s):D(c.component)&&"function"==typeof c.component.then&&(c.component.then(a,s),D(c.error)&&(t.errorComp=st(c.error,n)),D(c.loading)&&(t.loadingComp=st(c.loading,n),0===c.delay?t.loading=!0:setTimeout(function(){M(t.resolved)&&M(t.error)&&(t.loading=!0,o())},c.delay||200)),D(c.timeout)&&setTimeout(function(){M(t.resolved)&&s(null)},c.timeout))),i=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(e)}(a=e,o,n)))return s=a,c=t,l=n,u=r,f=i,(p=fe()).asyncFactory=s,p.asyncMeta={data:c,context:l,children:u,tag:f},p;t=t||{},dn(e),D(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var i=t.on||(t.on={});D(i[r])?i[r]=[t.model.callback].concat(i[r]):i[r]=t.model.callback}(e.options,t);var d=function(e,t,n){var r=t.options.props;if(!M(r)){var i={},o=e.attrs,a=e.props;if(D(o)||D(a))for(var s in r){var c=_(s);it(i,a,s,c,!0)||it(i,o,s,c,!1)}return i}}(t,e);if(S(e.options.functional))return function(e,t,n,r,i){var o=e.options,a={},s=o.props;if(D(s))for(var c in s)a[c]=Ie(c,s,t||y);else D(n.attrs)&&Xt(a,n.attrs),D(n.props)&&Xt(a,n.props);var l=new Gt(n,a,i,r,e),u=o.render.call(null,l._c,l);if(u instanceof le)return Zt(u,n,l.parent,o);if(Array.isArray(u)){for(var f=ot(u)||[],p=new Array(f.length),d=0;d<f.length;d++)p[d]=Zt(f[d],n,l.parent,o);return p}}(e,d,t,n,r);var v=t.on;if(t.on=t.nativeOn,S(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Qt.length;n++){var r=Qt[n];t[r]=Yt[r]}}(t);var m=e.options.name||i;return new le("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:d,listeners:v,tag:i,children:r},a)}}}var tn=1,nn=2;function rn(e,t,n,r,i,o){return(Array.isArray(n)||T(n))&&(i=r,r=n,n=void 0),S(o)&&(i=nn),function(e,t,n,r,i){if(D(n)&&D(n.__ob__))return fe();D(n)&&D(n.is)&&(t=n.is);if(!t)return fe();Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===nn?r=ot(r):i===tn&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r));var o,a;if("string"==typeof t){var s;a=e.$vnode&&e.$vnode.ns||j.getTagNamespace(t),o=j.isReservedTag(t)?new le(j.parsePlatformTagName(t),n,r,void 0,void 0,e):D(s=Le(e.$options,"components",t))?en(s,n,e,r,t):new le(t,n,r,void 0,void 0,e)}else o=en(t,n,e,r);return Array.isArray(o)?o:D(o)?(D(a)&&function e(t,n,r){t.ns=n;"foreignObject"===t.tag&&(n=void 0,r=!0);if(D(t.children))for(var i=0,o=t.children.length;i<o;i++){var a=t.children[i];D(a.tag)&&(M(a.ns)||S(r)&&"svg"!==a.tag)&&e(a,n,r)}}(o,a),D(n)&&function(e){P(e.style)&&Ye(e.style);P(e.class)&&Ye(e.class)}(n),o):fe()}(e,t,n,r,i)}var on,an,sn,cn,ln,un,fn,pn=0;function dn(e){var t=e.options;if(e.super){var n=dn(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.extendOptions,i=e.sealedOptions;for(var o in n)n[o]!==i[o]&&(t||(t={}),t[o]=vn(n[o],r[o],i[o]));return t}(e);r&&m(e.extendOptions,r),(t=e.options=Ne(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function vn(e,t,n){if(Array.isArray(e)){var r=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++)(0<=t.indexOf(e[i])||n.indexOf(e[i])<0)&&r.push(e[i]);return r}return e}function hn(e){this._init(e)}function mn(e){e.cid=0;var a=1;e.extend=function(e){e=e||{};var t=this,n=t.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var i=e.name||t.options.name,o=function(e){this._init(e)};return((o.prototype=Object.create(t.prototype)).constructor=o).cid=a++,o.options=Ne(t.options,e),o.super=t,o.options.props&&function(e){var t=e.options.props;for(var n in t)Et(e.prototype,"_props",n)}(o),o.options.computed&&function(e){var t=e.options.computed;for(var n in t)Lt(e.prototype,n,t[n])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,k.forEach(function(e){o[e]=t[e]}),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=e,o.sealedOptions=m({},o.options),r[n]=o}}function yn(e){return e&&(e.Ctor.options.name||e.tag)}function gn(e,t){return Array.isArray(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):(n=e,"[object RegExp]"===r.call(n)&&e.test(t));var n}function _n(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var a=n[o];if(a){var s=yn(a.componentOptions);s&&!t(s)&&bn(n,o,r,i)}}}function bn(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,f(n,t)}hn.prototype._init=function(e){var t,n,r,i,o=this;o._uid=pn++,o._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r,n._parentElm=t._parentElm,n._refElm=t._refElm;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(o,e):o.$options=Ne(dn(o.constructor),e||{},o),function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}((o._renderProxy=o)._self=o),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&pt(e,t)}(o),function(i){i._vnode=null,i._staticTrees=null;var e=i.$options,t=i.$vnode=e._parentVnode,n=t&&t.context;i.$slots=dt(e._renderChildren,n),i.$scopedSlots=y,i._c=function(e,t,n,r){return rn(i,e,t,n,r,!1)},i.$createElement=function(e,t,n,r){return rn(i,e,t,n,r,!0)};var r=t&&t.data;Ce(i,"$attrs",r&&r.attrs||y,null,!0),Ce(i,"$listeners",e._parentListeners||y,null,!0)}(o),_t(o,"beforeCreate"),(n=Dt((t=o).$options.inject,t))&&(ge(!1),Object.keys(n).forEach(function(e){Ce(t,e,n[e])}),ge(!0)),jt(o),(i=(r=o).$options.provide)&&(r._provided="function"==typeof i?i.call(r):i),_t(o,"created"),o.$options.el&&o.$mount(o.$options.el)},on=hn,an={get:function(){return this._data}},sn={get:function(){return this._props}},Object.defineProperty(on.prototype,"$data",an),Object.defineProperty(on.prototype,"$props",sn),on.prototype.$set=xe,on.prototype.$delete=ke,on.prototype.$watch=function(e,t,n){if(l(t))return Mt(this,e,t,n);(n=n||{}).user=!0;var r=new St(this,e,t,n);return n.immediate&&t.call(this,r.value),function(){r.teardown()}},ln=/^hook:/,(cn=hn).prototype.$on=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.$on(e[n],t);else(this._events[e]||(this._events[e]=[])).push(t),ln.test(e)&&(this._hasHookEvent=!0);return this},cn.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},cn.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)this.$off(e[r],t);return n}var o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;if(t)for(var a,s=o.length;s--;)if((a=o[s])===t||a.fn===t){o.splice(s,1);break}return n},cn.prototype.$emit=function(t){var n=this,e=n._events[t];if(e){e=1<e.length?h(e):e;for(var r=h(arguments,1),i=0,o=e.length;i<o;i++)try{e[i].apply(n,r)}catch(e){Fe(e,n,'event handler for "'+t+'"')}}return n},(un=hn).prototype._update=function(e,t){var n=this;n._isMounted&&_t(n,"beforeUpdate");var r=n.$el,i=n._vnode,o=mt;(mt=n)._vnode=e,i?n.$el=n.__patch__(i,e):(n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),mt=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},un.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},un.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){_t(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||f(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),_t(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}},Wt((fn=hn).prototype),fn.prototype.$nextTick=function(e){return Ze(e,this)},fn.prototype._render=function(){var t,n=this,e=n.$options,r=e.render,i=e._parentVnode;i&&(n.$scopedSlots=i.data.scopedSlots||y),n.$vnode=i;try{t=r.call(n._renderProxy,n.$createElement)}catch(e){Fe(e,n,"render"),t=n._vnode}return t instanceof le||(t=fe()),t.parent=i,t};var $n,wn,Cn,xn=[String,RegExp,Array],kn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:xn,exclude:xn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)bn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){_n(e,function(e){return gn(t,e)})}),this.$watch("exclude",function(t){_n(e,function(e){return!gn(t,e)})})},render:function(){var e=this.$slots.default,t=lt(e),n=t&&t.componentOptions;if(n){var r=yn(n),i=this.include,o=this.exclude;if(i&&(!r||!gn(i,r))||o&&r&&gn(o,r))return t;var a=this.cache,s=this.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[c]?(t.componentInstance=a[c].componentInstance,f(s,c),s.push(c)):(a[c]=t,s.push(c),this.max&&s.length>parseInt(this.max)&&bn(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};$n=hn,Cn={get:function(){return j}},Object.defineProperty($n,"config",Cn),$n.util={warn:re,extend:m,mergeOptions:Ne,defineReactive:Ce},$n.set=xe,$n.delete=ke,$n.nextTick=Ze,$n.options=Object.create(null),k.forEach(function(e){$n.options[e+"s"]=Object.create(null)}),m(($n.options._base=$n).options.components,kn),$n.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(-1<t.indexOf(e))return this;var n=h(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this},$n.mixin=function(e){return this.options=Ne(this.options,e),this},mn($n),wn=$n,k.forEach(function(n){wn[n]=function(e,t){return t?("component"===n&&l(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),"directive"===n&&"function"==typeof t&&(t={bind:t,update:t}),this.options[n+"s"][e]=t):this.options[n+"s"][e]}}),Object.defineProperty(hn.prototype,"$isServer",{get:Y}),Object.defineProperty(hn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(hn,"FunctionalRenderContext",{value:Gt}),hn.version="2.5.16";var An=s("style,class"),On=s("input,textarea,option,select,progress"),Sn=function(e,t,n){return"value"===n&&On(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Tn=s("contenteditable,draggable,spellcheck"),En=s("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),jn="http://www.w3.org/1999/xlink",Nn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ln=function(e){return Nn(e)?e.slice(6,e.length):""},In=function(e){return null==e||!1===e};function Mn(e){for(var t=e.data,n=e,r=e;D(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Dn(r.data,t));for(;D(n=n.parent);)n&&n.data&&(t=Dn(t,n.data));return function(e,t){if(D(e)||D(t))return Pn(e,Fn(t));return""}(t.staticClass,t.class)}function Dn(e,t){return{staticClass:Pn(e.staticClass,t.staticClass),class:D(e.class)?[e.class,t.class]:t.class}}function Pn(e,t){return e?t?e+" "+t:e:t||""}function Fn(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)D(t=Fn(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):P(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Rn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Hn=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Bn=s("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Un=function(e){return Hn(e)||Bn(e)};function Vn(e){return Bn(e)?"svg":"math"===e?"math":void 0}var zn=Object.create(null);var Kn=s("text,number,password,search,email,tel,url");function Jn(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var qn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Rn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Wn={create:function(e,t){Gn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Gn(e,!0),Gn(t))},destroy:function(e){Gn(e,!0)}};function Gn(e,t){var n=e.data.ref;if(D(n)){var r=e.context,i=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?f(o[n],i):o[n]===i&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var Zn=new le("",{},[]),Xn=["create","activate","update","remove","destroy"];function Yn(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&D(e.data)===D(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=D(n=e.data)&&D(n=n.attrs)&&n.type,i=D(n=t.data)&&D(n=n.attrs)&&n.type;return r===i||Kn(r)&&Kn(i)}(e,t)||S(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&M(t.asyncFactory.error))}function Qn(e,t,n){var r,i,o={};for(r=t;r<=n;++r)D(i=e[r].key)&&(o[i]=r);return o}var er={create:tr,update:tr,destroy:function(e){tr(e,Zn)}};function tr(e,t){(e.data.directives||t.data.directives)&&function(t,n){var e,r,i,o=t===Zn,a=n===Zn,s=rr(t.data.directives,t.context),c=rr(n.data.directives,n.context),l=[],u=[];for(e in c)r=s[e],i=c[e],r?(i.oldValue=r.value,ir(i,"update",n,t),i.def&&i.def.componentUpdated&&u.push(i)):(ir(i,"bind",n,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var f=function(){for(var e=0;e<l.length;e++)ir(l[e],"inserted",n,t)};o?rt(n,"insert",f):f()}u.length&&rt(n,"postpatch",function(){for(var e=0;e<u.length;e++)ir(u[e],"componentUpdated",n,t)});if(!o)for(e in s)c[e]||ir(s[e],"unbind",t,t,a)}(e,t)}var nr=Object.create(null);function rr(e,t){var n,r,i,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=nr),(o[(i=r,i.rawName||i.name+"."+Object.keys(i.modifiers||{}).join("."))]=r).def=Le(t.$options,"directives",r.name);return o}function ir(t,n,r,e,i){var o=t.def&&t.def[n];if(o)try{o(r.elm,t,r,e,i)}catch(e){Fe(e,r.context,"directive "+t.name+" "+n+" hook")}}var or=[Wn,er];function ar(e,t){var n=t.componentOptions;if(!(D(n)&&!1===n.Ctor.options.inheritAttrs||M(e.data.attrs)&&M(t.data.attrs))){var r,i,o=t.elm,a=e.data.attrs||{},s=t.data.attrs||{};for(r in D(s.__ob__)&&(s=t.data.attrs=m({},s)),s)i=s[r],a[r]!==i&&sr(o,r,i);for(r in(K||q)&&s.value!==a.value&&sr(o,"value",s.value),a)M(s[r])&&(Nn(r)?o.removeAttributeNS(jn,Ln(r)):Tn(r)||o.removeAttribute(r))}}function sr(e,t,n){-1<e.tagName.indexOf("-")?cr(e,t,n):En(t)?In(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Tn(t)?e.setAttribute(t,In(n)||"false"===n?"false":"true"):Nn(t)?In(n)?e.removeAttributeNS(jn,Ln(t)):e.setAttributeNS(jn,t,n):cr(e,t,n)}function cr(t,e,n){if(In(n))t.removeAttribute(e);else{if(K&&!J&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var lr={create:ar,update:ar};function ur(e,t){var n=t.elm,r=t.data,i=e.data;if(!(M(r.staticClass)&&M(r.class)&&(M(i)||M(i.staticClass)&&M(i.class)))){var o=Mn(t),a=n._transitionClasses;D(a)&&(o=Pn(o,Fn(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var fr,pr,dr,vr,hr,mr,yr={create:ur,update:ur},gr=/[\w).+\-_$\]]/;function _r(e){var t,n,r,i,o,a=!1,s=!1,c=!1,l=!1,u=0,f=0,p=0,d=0;for(r=0;r<e.length;r++)if(n=t,t=e.charCodeAt(r),a)39===t&&92!==n&&(a=!1);else if(s)34===t&&92!==n&&(s=!1);else if(c)96===t&&92!==n&&(c=!1);else if(l)47===t&&92!==n&&(l=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||u||f||p){switch(t){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:u++;break;case 125:u--}if(47===t){for(var v=r-1,h=void 0;0<=v&&" "===(h=e.charAt(v));v--);h&&gr.test(h)||(l=!0)}}else void 0===i?(d=r+1,i=e.slice(0,r).trim()):m();function m(){(o||(o=[])).push(e.slice(d,r).trim()),d=r+1}if(void 0===i?i=e.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++)i=br(i,o[r]);return i}function br(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),i=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==i?","+i:i)}function $r(e){console.error("[Vue compiler]: "+e)}function wr(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Cr(e,t,n){(e.props||(e.props=[])).push({name:t,value:n}),e.plain=!1}function xr(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n}),e.plain=!1}function kr(e,t,n){e.attrsMap[t]=n,e.attrsList.push({name:t,value:n})}function Ar(e,t,n,r,i,o){var a;(r=r||y).capture&&(delete r.capture,t="!"+t),r.once&&(delete r.once,t="~"+t),r.passive&&(delete r.passive,t="&"+t),"click"===t&&(r.right?(t="contextmenu",delete r.right):r.middle&&(t="mouseup")),r.native?(delete r.native,a=e.nativeEvents||(e.nativeEvents={})):a=e.events||(e.events={});var s={value:n.trim()};r!==y&&(s.modifiers=r);var c=a[t];Array.isArray(c)?i?c.unshift(s):c.push(s):a[t]=c?i?[s,c]:[c,s]:s,e.plain=!1}function Or(e,t,n){var r=Sr(e,":"+t)||Sr(e,"v-bind:"+t);if(null!=r)return _r(r);if(!1!==n){var i=Sr(e,t);if(null!=i)return JSON.stringify(i)}}function Sr(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===t){i.splice(o,1);break}return n&&delete e.attrsMap[t],r}function Tr(e,t,n){var r=n||{},i=r.number,o="$$v",a=o;r.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var s=Er(t,a);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+s+"}"}}function Er(e,t){var n=function(e){if(e=e.trim(),fr=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<fr-1)return-1<(vr=e.lastIndexOf("."))?{exp:e.slice(0,vr),key:'"'+e.slice(vr+1)+'"'}:{exp:e,key:null};pr=e,vr=hr=mr=0;for(;!Nr();)Lr(dr=jr())?Mr(dr):91===dr&&Ir(dr);return{exp:e.slice(0,hr),key:e.slice(hr+1,mr)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function jr(){return pr.charCodeAt(++vr)}function Nr(){return fr<=vr}function Lr(e){return 34===e||39===e}function Ir(e){var t=1;for(hr=vr;!Nr();)if(Lr(e=jr()))Mr(e);else if(91===e&&t++,93===e&&t--,0===t){mr=vr;break}}function Mr(e){for(var t=e;!Nr()&&(e=jr())!==t;);}var Dr,Pr="__r",Fr="__c";function Rr(e,t,n,r,i){var o,a,s,c,l;t=(o=t)._withTask||(o._withTask=function(){Je=!0;var e=o.apply(null,arguments);return Je=!1,e}),n&&(a=t,s=e,c=r,l=Dr,t=function e(){null!==a.apply(null,arguments)&&Hr(s,e,c,l)}),Dr.addEventListener(e,t,Z?{capture:r,passive:i}:r)}function Hr(e,t,n,r){(r||Dr).removeEventListener(e,t._withTask||t,n)}function Br(e,t){if(!M(e.data.on)||!M(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Dr=t.elm,function(e){if(D(e[Pr])){var t=K?"change":"input";e[t]=[].concat(e[Pr],e[t]||[]),delete e[Pr]}D(e[Fr])&&(e.change=[].concat(e[Fr],e.change||[]),delete e[Fr])}(n),nt(n,r,Rr,Hr,t.context),Dr=void 0}}var Ur={create:Br,update:Br};function Vr(e,t){if(!M(e.data.domProps)||!M(t.data.domProps)){var n,r,i,o,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(n in D(c.__ob__)&&(c=t.data.domProps=m({},c)),s)M(c[n])&&(a[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){var l=M(a._value=r)?"":String(r);o=l,(i=a).composing||"OPTION"!==i.tagName&&!function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(i,o)&&!function(e,t){var n=e.value,r=e._vModifiers;if(D(r)){if(r.lazy)return!1;if(r.number)return F(n)!==F(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(i,o)||(a.value=l)}else a[n]=r}}}var zr={create:Vr,update:Vr},Kr=e(function(e){var n={},r=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var t=e.split(r);1<t.length&&(n[t[0].trim()]=t[1].trim())}}),n});function Jr(e){var t=qr(e.style);return e.staticStyle?m(e.staticStyle,t):t}function qr(e){return Array.isArray(e)?b(e):"string"==typeof e?Kr(e):e}var Wr,Gr=/^--/,Zr=/\s*!important$/,Xr=function(e,t,n){if(Gr.test(t))e.style.setProperty(t,n);else if(Zr.test(n))e.style.setProperty(t,n.replace(Zr,""),"important");else{var r=Qr(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Yr=["Webkit","Moz","ms"],Qr=e(function(e){if(Wr=Wr||document.createElement("div").style,"filter"!==(e=g(e))&&e in Wr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Yr.length;n++){var r=Yr[n]+t;if(r in Wr)return r}});function ei(e,t){var n=t.data,r=e.data;if(!(M(n.staticStyle)&&M(n.style)&&M(r.staticStyle)&&M(r.style))){var i,o,a=t.elm,s=r.staticStyle,c=r.normalizedStyle||r.style||{},l=s||c,u=qr(t.data.style)||{};t.data.normalizedStyle=D(u.__ob__)?m({},u):u;var f=function(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Jr(i.data))&&m(r,n);(n=Jr(e.data))&&m(r,n);for(var o=e;o=o.parent;)o.data&&(n=Jr(o.data))&&m(r,n);return r}(t,!0);for(o in l)M(f[o])&&Xr(a,o,"");for(o in f)(i=f[o])!==l[o]&&Xr(a,o,null==i?"":i)}}var ti={create:ei,update:ei};function ni(t,e){if(e&&(e=e.trim()))if(t.classList)-1<e.indexOf(" ")?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ri(t,e){if(e&&(e=e.trim()))if(t.classList)-1<e.indexOf(" ")?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function ii(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&m(t,oi(e.name||"v")),m(t,e),t}return"string"==typeof e?oi(e):void 0}}var oi=e(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ai=B&&!J,si="transition",ci="animation",li="transition",ui="transitionend",fi="animation",pi="animationend";ai&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(li="WebkitTransition",ui="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fi="WebkitAnimation",pi="webkitAnimationEnd"));var di=B?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function vi(e){di(function(){di(e)})}function hi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),ni(e,t))}function mi(e,t){e._transitionClasses&&f(e._transitionClasses,t),ri(e,t)}function yi(t,e,n){var r=_i(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===si?ui:pi,c=0,l=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++c>=a&&l()};setTimeout(function(){c<a&&l()},o+1),t.addEventListener(s,u)}var gi=/\b(transform|all)(,|$)/;function _i(e,t){var n,r=window.getComputedStyle(e),i=r[li+"Delay"].split(", "),o=r[li+"Duration"].split(", "),a=bi(i,o),s=r[fi+"Delay"].split(", "),c=r[fi+"Duration"].split(", "),l=bi(s,c),u=0,f=0;return t===si?0<a&&(n=si,u=a,f=o.length):t===ci?0<l&&(n=ci,u=l,f=c.length):f=(n=0<(u=Math.max(a,l))?l<a?si:ci:null)?n===si?o.length:c.length:0,{type:n,timeout:u,propCount:f,hasTransform:n===si&&gi.test(r[li+"Property"])}}function bi(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map(function(e,t){return $i(e)+$i(n[t])}))}function $i(e){return 1e3*Number(e.slice(0,-1))}function wi(n,e){var r=n.elm;D(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var t=ii(n.data.transition);if(!M(t)&&!D(r._enterCb)&&1===r.nodeType){for(var i=t.css,o=t.type,a=t.enterClass,s=t.enterToClass,c=t.enterActiveClass,l=t.appearClass,u=t.appearToClass,f=t.appearActiveClass,p=t.beforeEnter,d=t.enter,v=t.afterEnter,h=t.enterCancelled,m=t.beforeAppear,y=t.appear,g=t.afterAppear,_=t.appearCancelled,b=t.duration,$=mt,w=mt.$vnode;w&&w.parent;)$=(w=w.parent).context;var C=!$._isMounted||!n.isRootInsert;if(!C||y||""===y){var x=C&&l?l:a,k=C&&f?f:c,A=C&&u?u:s,O=C&&m||p,S=C&&"function"==typeof y?y:d,T=C&&g||v,E=C&&_||h,j=F(P(b)?b.enter:b),N=!1!==i&&!J,L=ki(S),I=r._enterCb=R(function(){N&&(mi(r,A),mi(r,k)),I.cancelled?(N&&mi(r,x),E&&E(r)):T&&T(r),r._enterCb=null});n.data.show||rt(n,"insert",function(){var e=r.parentNode,t=e&&e._pending&&e._pending[n.key];t&&t.tag===n.tag&&t.elm._leaveCb&&t.elm._leaveCb(),S&&S(r,I)}),O&&O(r),N&&(hi(r,x),hi(r,k),vi(function(){mi(r,x),I.cancelled||(hi(r,A),L||(xi(j)?setTimeout(I,j):yi(r,o,I)))})),n.data.show&&(e&&e(),S&&S(r,I)),N||L||I()}}}function Ci(e,t){var n=e.elm;D(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ii(e.data.transition);if(M(r)||1!==n.nodeType)return t();if(!D(n._leaveCb)){var i=r.css,o=r.type,a=r.leaveClass,s=r.leaveToClass,c=r.leaveActiveClass,l=r.beforeLeave,u=r.leave,f=r.afterLeave,p=r.leaveCancelled,d=r.delayLeave,v=r.duration,h=!1!==i&&!J,m=ki(u),y=F(P(v)?v.leave:v),g=n._leaveCb=R(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),h&&(mi(n,s),mi(n,c)),g.cancelled?(h&&mi(n,a),p&&p(n)):(t(),f&&f(n)),n._leaveCb=null});d?d(_):_()}function _(){g.cancelled||(e.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),l&&l(n),h&&(hi(n,a),hi(n,c),vi(function(){mi(n,a),g.cancelled||(hi(n,s),m||(xi(y)?setTimeout(g,y):yi(n,o,g)))})),u&&u(n,g),h||m||g())}}function xi(e){return"number"==typeof e&&!isNaN(e)}function ki(e){if(M(e))return!1;var t=e.fns;return D(t)?ki(Array.isArray(t)?t[0]:t):1<(e._length||e.length)}function Ai(e,t){!0!==t.data.show&&wi(t)}var Oi=function(e){var r,t,g={},n=e.modules,_=e.nodeOps;for(r=0;r<Xn.length;++r)for(g[Xn[r]]=[],t=0;t<n.length;++t)D(n[t][Xn[r]])&&g[Xn[r]].push(n[t][Xn[r]]);function o(e){var t=_.parentNode(e);D(t)&&_.removeChild(t,e)}function b(e,t,n,r,i,o,a){if(D(e.elm)&&D(o)&&(e=o[a]=de(e)),e.isRootInsert=!i,!function(e,t,n,r){var i=e.data;if(D(i)){var o=D(e.componentInstance)&&i.keepAlive;if(D(i=i.hook)&&D(i=i.init)&&i(e,!1,n,r),D(e.componentInstance))return d(e,t),S(o)&&function(e,t,n,r){for(var i,o=e;o.componentInstance;)if(o=o.componentInstance._vnode,D(i=o.data)&&D(i=i.transition)){for(i=0;i<g.activate.length;++i)g.activate[i](Zn,o);t.push(o);break}u(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var s=e.data,c=e.children,l=e.tag;D(l)?(e.elm=e.ns?_.createElementNS(e.ns,l):_.createElement(l,e),f(e),v(e,c,t),D(s)&&h(e,t)):S(e.isComment)?e.elm=_.createComment(e.text):e.elm=_.createTextNode(e.text),u(n,e.elm,r)}}function d(e,t){D(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,$(e)?(h(e,t),f(e)):(Gn(e),t.push(e))}function u(e,t,n){D(e)&&(D(n)?n.parentNode===e&&_.insertBefore(e,t,n):_.appendChild(e,t))}function v(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)b(t[r],n,e.elm,null,!0,t,r);else T(e.text)&&_.appendChild(e.elm,_.createTextNode(String(e.text)))}function $(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return D(e.tag)}function h(e,t){for(var n=0;n<g.create.length;++n)g.create[n](Zn,e);D(r=e.data.hook)&&(D(r.create)&&r.create(Zn,e),D(r.insert)&&t.push(e))}function f(e){var t;if(D(t=e.fnScopeId))_.setStyleScope(e.elm,t);else for(var n=e;n;)D(t=n.context)&&D(t=t.$options._scopeId)&&_.setStyleScope(e.elm,t),n=n.parent;D(t=mt)&&t!==e.context&&t!==e.fnContext&&D(t=t.$options._scopeId)&&_.setStyleScope(e.elm,t)}function y(e,t,n,r,i,o){for(;r<=i;++r)b(n[r],o,e,t,!1,n,r)}function w(e){var t,n,r=e.data;if(D(r))for(D(t=r.hook)&&D(t=t.destroy)&&t(e),t=0;t<g.destroy.length;++t)g.destroy[t](e);if(D(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function C(e,t,n,r){for(;n<=r;++n){var i=t[n];D(i)&&(D(i.tag)?(a(i),w(i)):o(i.elm))}}function a(e,t){if(D(t)||D(e.data)){var n,r=g.remove.length+1;for(D(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&o(e)}return n.listeners=t,n}(e.elm,r),D(n=e.componentInstance)&&D(n=n._vnode)&&D(n.data)&&a(n,t),n=0;n<g.remove.length;++n)g.remove[n](e,t);D(n=e.data.hook)&&D(n=n.remove)?n(e,t):t()}else o(e.elm)}function x(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(D(o)&&Yn(e,o))return i}}function k(e,t,n,r){if(e!==t){var i=t.elm=e.elm;if(S(e.isAsyncPlaceholder))D(t.asyncFactory.resolved)?O(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(S(t.isStatic)&&S(e.isStatic)&&t.key===e.key&&(S(t.isCloned)||S(t.isOnce)))t.componentInstance=e.componentInstance;else{var o,a=t.data;D(a)&&D(o=a.hook)&&D(o=o.prepatch)&&o(e,t);var s=e.children,c=t.children;if(D(a)&&$(t)){for(o=0;o<g.update.length;++o)g.update[o](e,t);D(o=a.hook)&&D(o=o.update)&&o(e,t)}M(t.text)?D(s)&&D(c)?s!==c&&function(e,t,n,r,i){for(var o,a,s,c=0,l=0,u=t.length-1,f=t[0],p=t[u],d=n.length-1,v=n[0],h=n[d],m=!i;c<=u&&l<=d;)M(f)?f=t[++c]:M(p)?p=t[--u]:Yn(f,v)?(k(f,v,r),f=t[++c],v=n[++l]):Yn(p,h)?(k(p,h,r),p=t[--u],h=n[--d]):Yn(f,h)?(k(f,h,r),m&&_.insertBefore(e,f.elm,_.nextSibling(p.elm)),f=t[++c],h=n[--d]):(Yn(p,v)?(k(p,v,r),m&&_.insertBefore(e,p.elm,f.elm),p=t[--u]):(M(o)&&(o=Qn(t,c,u)),M(a=D(v.key)?o[v.key]:x(v,t,c,u))?b(v,r,e,f.elm,!1,n,l):Yn(s=t[a],v)?(k(s,v,r),t[a]=void 0,m&&_.insertBefore(e,s.elm,f.elm)):b(v,r,e,f.elm,!1,n,l)),v=n[++l]);u<c?y(e,M(n[d+1])?null:n[d+1].elm,n,l,d,r):d<l&&C(0,t,c,u)}(i,s,c,n,r):D(c)?(D(e.text)&&_.setTextContent(i,""),y(i,null,c,0,c.length-1,n)):D(s)?C(0,s,0,s.length-1):D(e.text)&&_.setTextContent(i,""):e.text!==t.text&&_.setTextContent(i,t.text),D(a)&&D(o=a.hook)&&D(o=o.postpatch)&&o(e,t)}}}function A(e,t,n){if(S(n)&&D(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var m=s("attrs,class,staticClass,staticStyle,key");function O(e,t,n,r){var i,o=t.tag,a=t.data,s=t.children;if(r=r||a&&a.pre,t.elm=e,S(t.isComment)&&D(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(D(a)&&(D(i=a.hook)&&D(i=i.init)&&i(t,!0),D(i=t.componentInstance)))return d(t,n),!0;if(D(o)){if(D(s))if(e.hasChildNodes())if(D(i=a)&&D(i=i.domProps)&&D(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var c=!0,l=e.firstChild,u=0;u<s.length;u++){if(!l||!O(l,s[u],n,r)){c=!1;break}l=l.nextSibling}if(!c||l)return!1}else v(t,s,n);if(D(a)){var f=!1;for(var p in a)if(!m(p)){f=!0,h(t,n);break}!f&&a.class&&Ye(a.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,r,i,o){if(!M(t)){var a,s=!1,c=[];if(M(e))s=!0,b(t,c,i,o);else{var l=D(e.nodeType);if(!l&&Yn(e,t))k(e,t,c,r);else{if(l){if(1===e.nodeType&&e.hasAttribute(E)&&(e.removeAttribute(E),n=!0),S(n)&&O(e,t,c))return A(t,c,!0),e;a=e,e=new le(_.tagName(a).toLowerCase(),{},[],void 0,a)}var u=e.elm,f=_.parentNode(u);if(b(t,c,u._leaveCb?null:f,_.nextSibling(u)),D(t.parent))for(var p=t.parent,d=$(t);p;){for(var v=0;v<g.destroy.length;++v)g.destroy[v](p);if(p.elm=t.elm,d){for(var h=0;h<g.create.length;++h)g.create[h](Zn,p);var m=p.data.hook.insert;if(m.merged)for(var y=1;y<m.fns.length;y++)m.fns[y]()}else Gn(p);p=p.parent}D(f)?C(0,[e],0,0):D(e.tag)&&w(e)}}return A(t,c,s),t.elm}D(e)&&w(e)}}({nodeOps:qn,modules:[lr,yr,Ur,zr,ti,B?{create:Ai,activate:Ai,remove:function(e,t){!0!==e.data.show?Ci(e,t):t()}}:{}].concat(or)});J&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Mi(e,"input")});var Si={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?rt(n,"postpatch",function(){Si.componentUpdated(e,t,n)}):Ti(e,t,n.context),e._vOptions=[].map.call(e.options,Ni)):("textarea"===n.tag||Kn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Li),e.addEventListener("compositionend",Ii),e.addEventListener("change",Ii),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ti(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Ni);if(i.some(function(e,t){return!C(e,r[t])}))(e.multiple?t.value.some(function(e){return ji(e,i)}):t.value!==t.oldValue&&ji(t.value,i))&&Mi(e,"change")}}};function Ti(e,t,n){Ei(e,t,n),(K||q)&&setTimeout(function(){Ei(e,t,n)},0)}function Ei(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=-1<x(r,Ni(a)),a.selected!==o&&(a.selected=o);else if(C(Ni(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function ji(t,e){return e.every(function(e){return!C(e,t)})}function Ni(e){return"_value"in e?e._value:e.value}function Li(e){e.target.composing=!0}function Ii(e){e.target.composing&&(e.target.composing=!1,Mi(e.target,"input"))}function Mi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Di(e){return!e.componentInstance||e.data&&e.data.transition?e:Di(e.componentInstance._vnode)}var Pi={model:Si,show:{bind:function(e,t,n){var r=t.value,i=(n=Di(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,wi(n,function(){e.style.display=o})):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Di(n)).data&&n.data.transition?(n.data.show=!0,r?wi(n,function(){e.style.display=e.__vOriginalDisplay}):Ci(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}}},Fi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ri(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Ri(lt(t.children)):e}function Hi(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[g(o)]=i[o];return t}function Bi(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Ui={name:"transition",props:Fi,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag||ct(e)})).length){var r=this.mode,i=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return i;var o=Ri(i);if(!o)return i;if(this._leaving)return Bi(e,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:T(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s,c,l=(o.data||(o.data={})).transition=Hi(this),u=this._vnode,f=Ri(u);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),f&&f.data&&(s=o,(c=f).key!==s.key||c.tag!==s.tag)&&!ct(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var p=f.data.transition=m({},l);if("out-in"===r)return this._leaving=!0,rt(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Bi(e,i);if("in-out"===r){if(ct(o))return u;var d,v=function(){d()};rt(l,"afterEnter",v),rt(l,"enterCancelled",v),rt(p,"delayLeave",function(e){d=e})}}return i}}},Vi=m({tag:String,moveClass:String},Fi);function zi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ki(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ji(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete Vi.mode;var qi={Transition:Ui,TransitionGroup:{props:Vi,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Hi(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),((n[c.key]=c).data||(c.data={})).transition=a)}if(r){for(var l=[],u=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?l.push(p):u.push(p)}this.kept=e(t,null,l),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,r)&&(e.forEach(zi),e.forEach(Ki),e.forEach(Ji),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,t=n.style;hi(n,r),t.transform=t.WebkitTransform=t.transitionDuration="",n.addEventListener(ui,n._moveCb=function e(t){t&&!/transform$/.test(t.propertyName)||(n.removeEventListener(ui,e),n._moveCb=null,mi(n,r))})}}))},methods:{hasMove:function(e,t){if(!ai)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){ri(n,e)}),ni(n,t),n.style.display="none",this.$el.appendChild(n);var r=_i(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};hn.config.mustUseProp=Sn,hn.config.isReservedTag=Un,hn.config.isReservedAttr=An,hn.config.getTagNamespace=Vn,hn.config.isUnknownElement=function(e){if(!B)return!0;if(Un(e))return!1;if(e=e.toLowerCase(),null!=zn[e])return zn[e];var t=document.createElement(e);return-1<e.indexOf("-")?zn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:zn[e]=/HTMLUnknownElement/.test(t.toString())},m(hn.options.directives,Pi),m(hn.options.components,qi),hn.prototype.__patch__=B?Oi:$,hn.prototype.$mount=function(e,t){return e=e&&B?Jn(e):void 0,r=e,i=t,(n=this).$el=r,n.$options.render||(n.$options.render=fe),_t(n,"beforeMount"),new St(n,function(){n._update(n._render(),i)},$,null,!0),i=!1,null==n.$vnode&&(n._isMounted=!0,_t(n,"mounted")),n;var n,r,i},B&&setTimeout(function(){j.devtools&&Q&&Q.emit("init",hn)},0);var Wi=/\{\{((?:.|\n)+?)\}\}/g,Gi=/[-.*+?^${}()|[\]\/\\]/g,Zi=e(function(e){var t=e[0].replace(Gi,"\\$&"),n=e[1].replace(Gi,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")});var Xi={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=Sr(e,"class");n&&(e.staticClass=JSON.stringify(n));var r=Or(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}};var Yi,Qi={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=Sr(e,"style");n&&(e.staticStyle=JSON.stringify(Kr(n)));var r=Or(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},eo=function(e){return(Yi=Yi||document.createElement("div")).innerHTML=e,Yi.textContent},to=s("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),no=s("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ro=s("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),io=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,oo="[a-zA-Z_][\\w\\-\\.]*",ao="((?:"+oo+"\\:)?"+oo+")",so=new RegExp("^<"+ao),co=/^\s*(\/?)>/,lo=new RegExp("^<\\/"+ao+"[^>]*>"),uo=/^<!DOCTYPE [^>]+>/i,fo=/^<!\--/,po=/^<!\[/,vo=!1;"x".replace(/x(.)?/g,function(e,t){vo=""===t});var ho=s("script,style,textarea",!0),mo={},yo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},go=/&(?:lt|gt|quot|amp);/g,_o=/&(?:lt|gt|quot|amp|#10|#9);/g,bo=s("pre,textarea",!0),$o=function(e,t){return e&&bo(e)&&"\n"===t[0]};var wo,Co,xo,ko,Ao,Oo,So,To,Eo=/^@|^v-on:/,jo=/^v-|^@|^:/,No=/([^]*?)\s+(?:in|of)\s+([^]*)/,Lo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Io=/^\(|\)$/g,Mo=/:(.*)$/,Do=/^:|^v-bind:/,Po=/\.[^.]+/g,Fo=e(eo);function Ro(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}(t),parent:n,children:[]}}function Ho(e,p){wo=p.warn||$r,Oo=p.isPreTag||O,So=p.mustUseProp||O,To=p.getTagNamespace||O,xo=wr(p.modules,"transformNode"),ko=wr(p.modules,"preTransformNode"),Ao=wr(p.modules,"postTransformNode"),Co=p.delimiters;var d,v,h=[],i=!1!==p.preserveWhitespace,m=!1,y=!1;function g(e){e.pre&&(m=!1),Oo(e.tag)&&(y=!1);for(var t=0;t<Ao.length;t++)Ao[t](e,p)}return function(i,d){for(var e,v,h=[],m=d.expectHTML,y=d.isUnaryTag||O,g=d.canBeLeftOpenTag||O,a=0;i;){if(e=i,v&&ho(v)){var r=0,o=v.toLowerCase(),t=mo[o]||(mo[o]=new RegExp("([\\s\\S]*?)(</"+o+"[^>]*>)","i")),n=i.replace(t,function(e,t,n){return r=n.length,ho(o)||"noscript"===o||(t=t.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),$o(o,t)&&(t=t.slice(1)),d.chars&&d.chars(t),""});a+=i.length-n.length,i=n,A(o,a-r,a)}else{var s=i.indexOf("<");if(0===s){if(fo.test(i)){var c=i.indexOf("--\x3e");if(0<=c){d.shouldKeepComment&&d.comment(i.substring(4,c)),C(c+3);continue}}if(po.test(i)){var l=i.indexOf("]>");if(0<=l){C(l+2);continue}}var u=i.match(uo);if(u){C(u[0].length);continue}var f=i.match(lo);if(f){var p=a;C(f[0].length),A(f[1],p,a);continue}var _=x();if(_){k(_),$o(v,i)&&C(1);continue}}var b=void 0,$=void 0,w=void 0;if(0<=s){for($=i.slice(s);!(lo.test($)||so.test($)||fo.test($)||po.test($)||(w=$.indexOf("<",1))<0);)s+=w,$=i.slice(s);b=i.substring(0,s),C(s)}s<0&&(b=i,i=""),d.chars&&b&&d.chars(b)}if(i===e){d.chars&&d.chars(i);break}}function C(e){a+=e,i=i.substring(e)}function x(){var e=i.match(so);if(e){var t,n,r={tagName:e[1],attrs:[],start:a};for(C(e[0].length);!(t=i.match(co))&&(n=i.match(io));)C(n[0].length),r.attrs.push(n);if(t)return r.unarySlash=t[1],C(t[0].length),r.end=a,r}}function k(e){var t=e.tagName,n=e.unarySlash;m&&("p"===v&&ro(t)&&A(v),g(t)&&v===t&&A(t));for(var r,i,o,a=y(t)||!!n,s=e.attrs.length,c=new Array(s),l=0;l<s;l++){var u=e.attrs[l];vo&&-1===u[0].indexOf('""')&&(""===u[3]&&delete u[3],""===u[4]&&delete u[4],""===u[5]&&delete u[5]);var f=u[3]||u[4]||u[5]||"",p="a"===t&&"href"===u[1]?d.shouldDecodeNewlinesForHref:d.shouldDecodeNewlines;c[l]={name:u[1],value:(r=f,i=p,o=i?_o:go,r.replace(o,function(e){return yo[e]}))}}a||(h.push({tag:t,lowerCasedTag:t.toLowerCase(),attrs:c}),v=t),d.start&&d.start(t,c,a,e.start,e.end)}function A(e,t,n){var r,i;if(null==t&&(t=a),null==n&&(n=a),e&&(i=e.toLowerCase()),e)for(r=h.length-1;0<=r&&h[r].lowerCasedTag!==i;r--);else r=0;if(0<=r){for(var o=h.length-1;r<=o;o--)d.end&&d.end(h[o].tag,t,n);h.length=r,v=r&&h[r-1].tag}else"br"===i?d.start&&d.start(e,[],!0,t,n):"p"===i&&(d.start&&d.start(e,[],!1,t,n),d.end&&d.end(e,t,n))}A()}(e,{warn:wo,expectHTML:p.expectHTML,isUnaryTag:p.isUnaryTag,canBeLeftOpenTag:p.canBeLeftOpenTag,shouldDecodeNewlines:p.shouldDecodeNewlines,shouldDecodeNewlinesForHref:p.shouldDecodeNewlinesForHref,shouldKeepComment:p.comments,start:function(e,t,n){var r=v&&v.ns||To(e);K&&"svg"===r&&(t=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Ko.test(r.name)||(r.name=r.name.replace(Jo,""),t.push(r))}return t}(t));var i,o,a,s,c,l=Ro(e,t,v);r&&(l.ns=r),"style"!==(i=l).tag&&("script"!==i.tag||i.attrsMap.type&&"text/javascript"!==i.attrsMap.type)||Y()||(l.forbidden=!0);for(var u=0;u<ko.length;u++)l=ko[u](l,p)||l;if(m||(null!=Sr(o=l,"v-pre")&&(o.pre=!0),l.pre&&(m=!0)),Oo(l.tag)&&(y=!0),m?function(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}(l):l.processed||(Uo(l),function(e){var t=Sr(e,"v-if");if(t)e.if=t,Vo(e,{exp:t,block:e});else{null!=Sr(e,"v-else")&&(e.else=!0);var n=Sr(e,"v-else-if");n&&(e.elseif=n)}}(l),null!=Sr(a=l,"v-once")&&(a.once=!0),Bo(l,p)),d?h.length||d.if&&(l.elseif||l.else)&&Vo(d,{exp:l.elseif,block:l}):d=l,v&&!l.forbidden)if(l.elseif||l.else)s=l,(c=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(v.children))&&c.if&&Vo(c,{exp:s.elseif,block:s});else if(l.slotScope){v.plain=!1;var f=l.slotTarget||'"default"';(v.scopedSlots||(v.scopedSlots={}))[f]=l}else v.children.push(l),l.parent=v;n?g(l):(v=l,h.push(l))},end:function(){var e=h[h.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!y&&e.children.pop(),h.length-=1,v=h[h.length-1],g(e)},chars:function(e){if(v&&(!K||"textarea"!==v.tag||v.attrsMap.placeholder!==e)){var t,n,r=v.children;if(e=y||e.trim()?"script"===(t=v).tag||"style"===t.tag?e:Fo(e):i&&r.length?" ":"")!m&&" "!==e&&(n=function(e,t){var n=t?Zi(t):Wi;if(n.test(e)){for(var r,i,o,a=[],s=[],c=n.lastIndex=0;r=n.exec(e);){c<(i=r.index)&&(s.push(o=e.slice(c,i)),a.push(JSON.stringify(o)));var l=_r(r[1].trim());a.push("_s("+l+")"),s.push({"@binding":l}),c=i+r[0].length}return c<e.length&&(s.push(o=e.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(e,Co))?r.push({type:2,expression:n.expression,tokens:n.tokens,text:e}):" "===e&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:e})}},comment:function(e){v.children.push({type:3,text:e,isComment:!0})}}),d}function Bo(e,t){var n,r,i,o;(r=Or(n=e,"key"))&&(n.key=r),e.plain=!e.key&&!e.attrsList.length,(o=Or(i=e,"ref"))&&(i.ref=o,i.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(i)),function(e){if("slot"===e.tag)e.slotName=Or(e,"name");else{var t;"template"===e.tag?(t=Sr(e,"scope"),e.slotScope=t||Sr(e,"slot-scope")):(t=Sr(e,"slot-scope"))&&(e.slotScope=t);var n=Or(e,"slot");n&&(e.slotTarget='""'===n?'"default"':n,"template"===e.tag||e.slotScope||xr(e,"slot",n))}}(e),function(e){var t;(t=Or(e,"is"))&&(e.component=t);null!=Sr(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var a=0;a<xo.length;a++)e=xo[a](e,t)||e;!function(e){var t,n,r,i,o,a,s,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(r=i=c[t].name,o=c[t].value,jo.test(r))if(e.hasBindings=!0,(a=zo(r))&&(r=r.replace(Po,"")),Do.test(r))r=r.replace(Do,""),o=_r(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=g(r))&&(r="innerHTML")),a.camel&&(r=g(r)),a.sync&&Ar(e,"update:"+g(r),Er(o,"$event"))),s||!e.component&&So(e.tag,e.attrsMap.type,r)?Cr(e,r,o):xr(e,r,o);else if(Eo.test(r))r=r.replace(Eo,""),Ar(e,r,o,a,!1);else{var l=(r=r.replace(jo,"")).match(Mo),u=l&&l[1];u&&(r=r.slice(0,-(u.length+1))),p=r,d=i,v=o,h=u,m=a,((f=e).directives||(f.directives=[])).push({name:p,rawName:d,value:v,arg:h,modifiers:m}),f.plain=!1}else xr(e,r,JSON.stringify(o)),!e.component&&"muted"===r&&So(e.tag,e.attrsMap.type,r)&&Cr(e,r,"true");var f,p,d,v,h,m}(e)}function Uo(e){var t;if(t=Sr(e,"v-for")){var n=function(e){var t=e.match(No);if(!t)return;var n={};n.for=t[2].trim();var r=t[1].trim().replace(Io,""),i=r.match(Lo);i?(n.alias=r.replace(Lo,""),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(t);n&&m(e,n)}}function Vo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function zo(e){var t=e.match(Po);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}var Ko=/^xmlns:NS\d+/,Jo=/^NS\d+:/;function qo(e){return Ro(e.tag,e.attrsList.slice(),e.parent)}var Wo=[Xi,Qi,{preTransformNode:function(e,t){if("input"===e.tag){var n,r=e.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Or(e,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Sr(e,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Sr(e,"v-else",!0),s=Sr(e,"v-else-if",!0),c=qo(e);Uo(c),kr(c,"type","checkbox"),Bo(c,t),c.processed=!0,c.if="("+n+")==='checkbox'"+o,Vo(c,{exp:c.if,block:c});var l=qo(e);Sr(l,"v-for",!0),kr(l,"type","radio"),Bo(l,t),Vo(c,{exp:"("+n+")==='radio'"+o,block:l});var u=qo(e);return Sr(u,"v-for",!0),kr(u,":type",n),Bo(u,t),Vo(c,{exp:i,block:u}),a?c.else=!0:s&&(c.elseif=s),c}}}}];var Go,Zo,Xo,Yo={expectHTML:!0,modules:Wo,directives:{model:function(e,t,n){var r,i,o,a,s,c,l,u,f,p,d,v,h,m,y,g,_=t.value,b=t.modifiers,$=e.tag,w=e.attrsMap.type;if(e.component)return Tr(e,_,b),!1;if("select"===$)h=e,m=_,g=(g='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+((y=b)&&y.number?"_n(val)":"val")+"});")+" "+Er(m,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Ar(h,"change",g,null,!0);else if("input"===$&&"checkbox"===w)c=e,l=_,f=(u=b)&&u.number,p=Or(c,"value")||"null",d=Or(c,"true-value")||"true",v=Or(c,"false-value")||"false",Cr(c,"checked","Array.isArray("+l+")?_i("+l+","+p+")>-1"+("true"===d?":("+l+")":":_q("+l+","+d+")")),Ar(c,"change","var $$a="+l+",$$el=$event.target,$$c=$$el.checked?("+d+"):("+v+");if(Array.isArray($$a)){var $$v="+(f?"_n("+p+")":p)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Er(l,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Er(l,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Er(l,"$$c")+"}",null,!0);else if("input"===$&&"radio"===w)r=e,i=_,a=(o=b)&&o.number,s=Or(r,"value")||"null",Cr(r,"checked","_q("+i+","+(s=a?"_n("+s+")":s)+")"),Ar(r,"change",Er(i,s),null,!0);else if("input"===$||"textarea"===$)!function(e,t,n){var r=e.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==r,l=o?"change":"range"===r?Pr:"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),a&&(u="_n("+u+")");var f=Er(t,u);c&&(f="if($event.target.composing)return;"+f),Cr(e,"value","("+t+")"),Ar(e,l,f,null,!0),(s||a)&&Ar(e,"blur","$forceUpdate()")}(e,_,b);else if(!j.isReservedTag($))return Tr(e,_,b),!1;return!0},text:function(e,t){t.value&&Cr(e,"textContent","_s("+t.value+")")},html:function(e,t){t.value&&Cr(e,"innerHTML","_s("+t.value+")")}},isPreTag:function(e){return"pre"===e},isUnaryTag:to,mustUseProp:Sn,canBeLeftOpenTag:no,isReservedTag:Un,getTagNamespace:Vn,staticKeys:(Go=Wo,Go.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(","))},Qo=e(function(e){return s("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))});function ea(e,t){e&&(Zo=Qo(t.staticKeys||""),Xo=t.isReservedTag||O,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||c(e.tag)||!Xo(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Zo)))}(t);if(1===t.type){if(!Xo(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];e(i),i.static||(t.static=!1)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){var s=t.ifConditions[o].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,i=t.children.length;r<i;r++)e(t.children[r],n||!!t.for);if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++)e(t.ifConditions[o].block,n)}}(e,!1))}var ta=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,na=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ra={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ia={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},oa=function(e){return"if("+e+")return null;"},aa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:oa("$event.target !== $event.currentTarget"),ctrl:oa("!$event.ctrlKey"),shift:oa("!$event.shiftKey"),alt:oa("!$event.altKey"),meta:oa("!$event.metaKey"),left:oa("'button' in $event && $event.button !== 0"),middle:oa("'button' in $event && $event.button !== 1"),right:oa("'button' in $event && $event.button !== 2")};function sa(e,t,n){var r=t?"nativeOn:{":"on:{";for(var i in e)r+='"'+i+'":'+ca(i,e[i])+",";return r.slice(0,-1)+"}"}function ca(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return ca(t,e)}).join(",")+"]";var n=na.test(e.value),r=ta.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)if(aa[s])o+=aa[s],ra[s]&&a.push(s);else if("exact"===s){var c=e.modifiers;o+=oa(["ctrl","shift","alt","meta"].filter(function(e){return!c[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(s);return a.length&&(i+="if(!('button' in $event)&&"+a.map(la).join("&&")+")return null;"),o&&(i+=o),"function($event){"+i+(n?"return "+e.value+"($event)":r?"return ("+e.value+")($event)":e.value)+"}"}return n||r?e.value:"function($event){"+e.value+"}"}function la(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=ra[e],r=ia[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var ua={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(t,n){t.wrapData=function(e){return"_b("+e+",'"+t.tag+"',"+n.value+","+(n.modifiers&&n.modifiers.prop?"true":"false")+(n.modifiers&&n.modifiers.sync?",true":"")+")"}},cloak:$},fa=function(e){this.options=e,this.warn=e.warn||$r,this.transforms=wr(e.modules,"transformCode"),this.dataGenFns=wr(e.modules,"genData"),this.directives=m(m({},ua),e.directives);var t=e.isReservedTag||O;this.maybeComponent=function(e){return!t(e.tag)},this.onceId=0,this.staticRenderFns=[]};function pa(e,t){var n=new fa(t);return{render:"with(this){return "+(e?da(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function da(e,t){if(e.staticRoot&&!e.staticProcessed)return va(e,t);if(e.once&&!e.onceProcessed)return ha(e,t);if(e.for&&!e.forProcessed)return f=t,v=(u=e).for,h=u.alias,m=u.iterator1?","+u.iterator1:"",y=u.iterator2?","+u.iterator2:"",u.forProcessed=!0,(d||"_l")+"(("+v+"),function("+h+m+y+"){return "+(p||da)(u,f)+"})";if(e.if&&!e.ifProcessed)return ma(e,t);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',r=_a(e,t),i="_t("+n+(r?","+r:""),o=e.attrs&&"{"+e.attrs.map(function(e){return g(e.name)+":"+e.value}).join(",")+"}",a=e.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(e,t);var n;if(e.component)a=e.component,c=t,l=(s=e).inlineTemplate?null:_a(s,c,!0),n="_c("+a+","+ya(s,c)+(l?","+l:"")+")";else{var r=e.plain?void 0:ya(e,t),i=e.inlineTemplate?null:_a(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}return _a(e,t)||"void 0";var a,s,c,l,u,f,p,d,v,h,m,y}function va(e,t){return e.staticProcessed=!0,t.staticRenderFns.push("with(this){return "+da(e,t)+"}"),"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function ha(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ma(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+da(e,t)+","+t.onceId+++","+n+")":da(e,t)}return va(e,t)}function ma(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,i){if(!t.length)return i||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+e(t,n,r,i):""+a(o.block);function a(e){return r?r(e,n):e.once?ha(e,n):da(e,n)}}(e.ifConditions.slice(),t,n,r)}function ya(e,t){var n,r,i="{",o=function(e,t){var n=e.directives;if(!n)return;var r,i,o,a,s="directives:[",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var l=t.directives[o.name];l&&(a=!!l(e,o,t.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(c)return s.slice(0,-1)+"]"}(e,t);o&&(i+=o+","),e.key&&(i+="key:"+e.key+","),e.ref&&(i+="ref:"+e.ref+","),e.refInFor&&(i+="refInFor:true,"),e.pre&&(i+="pre:true,"),e.component&&(i+='tag:"'+e.tag+'",');for(var a=0;a<t.dataGenFns.length;a++)i+=t.dataGenFns[a](e);if(e.attrs&&(i+="attrs:{"+wa(e.attrs)+"},"),e.props&&(i+="domProps:{"+wa(e.props)+"},"),e.events&&(i+=sa(e.events,!1,t.warn)+","),e.nativeEvents&&(i+=sa(e.nativeEvents,!0,t.warn)+","),e.slotTarget&&!e.slotScope&&(i+="slot:"+e.slotTarget+","),e.scopedSlots&&(i+=(n=e.scopedSlots,r=t,"scopedSlots:_u(["+Object.keys(n).map(function(e){return ga(e,n[e],r)}).join(",")+"]),")),e.model&&(i+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var s=function(e,t){var n=e.children[0];if(1===n.type){var r=pa(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);s&&(i+=s+",")}return i=i.replace(/,$/,"")+"}",e.wrapData&&(i=e.wrapData(i)),e.wrapListeners&&(i=e.wrapListeners(i)),i}function ga(e,t,n){return t.for&&!t.forProcessed?(r=e,o=n,a=(i=t).for,s=i.alias,c=i.iterator1?","+i.iterator1:"",l=i.iterator2?","+i.iterator2:"",i.forProcessed=!0,"_l(("+a+"),function("+s+c+l+"){return "+ga(r,i,o)+"})"):"{key:"+e+",fn:"+("function("+String(t.slotScope)+"){return "+("template"===t.tag?t.if?t.if+"?"+(_a(t,n)||"undefined")+":undefined":_a(t,n)||"undefined":da(t,n))+"}")+"}";var r,i,o,a,s,c,l}function _a(e,t,n,r,i){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||da)(a,t);var s=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(ba(i)||i.ifConditions&&i.ifConditions.some(function(e){return ba(e.block)})){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}(o,t.maybeComponent):0,c=i||$a;return"["+o.map(function(e){return c(e,t)}).join(",")+"]"+(s?","+s:"")}}function ba(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function $a(e,t){return 1===e.type?da(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=e).type?n.expression:Ca(JSON.stringify(n.text)))+")";var n,r}function wa(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+='"'+r.name+'":'+Ca(r.value)+","}return t.slice(0,-1)}function Ca(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function xa(t,n){try{return new Function(t)}catch(e){return n.push({err:e,code:t}),$}}var ka,Aa,Oa=(ka=function(e,t){var n=Ho(e.trim(),t);!1!==t.optimize&&ea(n,t);var r=pa(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(s){function e(e,t){var n=Object.create(s),r=[],i=[];if(n.warn=function(e,t){(t?i:r).push(e)},t)for(var o in t.modules&&(n.modules=(s.modules||[]).concat(t.modules)),t.directives&&(n.directives=m(Object.create(s.directives||null),t.directives)),t)"modules"!==o&&"directives"!==o&&(n[o]=t[o]);var a=ka(e,n);return a.errors=r,a.tips=i,a}return{compile:e,compileToFunctions:(c=e,l=Object.create(null),function(e,t,n){(t=m({},t)).warn,delete t.warn;var r=t.delimiters?String(t.delimiters)+e:e;if(l[r])return l[r];var i=c(e,t),o={},a=[];return o.render=xa(i.render,a),o.staticRenderFns=i.staticRenderFns.map(function(e){return xa(e,a)}),l[r]=o})};var c,l})(Yo).compileToFunctions;function Sa(e){return(Aa=Aa||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<Aa.innerHTML.indexOf("&#10;")}var Ta=!!B&&Sa(!1),Ea=!!B&&Sa(!0),ja=e(function(e){var t=Jn(e);return t&&t.innerHTML}),Na=hn.prototype.$mount;return hn.prototype.$mount=function(e,t){if((e=e&&Jn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=ja(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){{if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}}(e));if(r){var i=Oa(r,{shouldDecodeNewlines:Ta,shouldDecodeNewlinesForHref:Ea,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return Na.call(this,e,t)},hn.compile=Oa,hn});
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa*/

Vue.directive('scroll', {
    inserted: function (el, binding) {
        var f = function (evt) {
            if (binding.value(evt, el)) {
                window.removeEventListener('scroll', f)
            }
        };
        window.addEventListener('scroll', f);
    }
});

Vue.directive('mouse-enter', {
    inserted: function (el, binding) {
        var f = function (evt) {
            if (binding.value(evt, el)) {
                el.removeEventListener('mouseenter', f)
            }
        };
        el.addEventListener('mouseenter', f);
    }
});

Vue.directive('mouse-leave', {
    inserted: function (el, binding) {
        var f = function (evt) {
            if (binding.value(evt, el)) {
                el.removeEventListener('mouseleave', f)
            }
        };
        el.addEventListener('mouseleave', f);
    }
});

Vue.directive('click-outside', {
    bind: function(el, binding, vnode) {
        this.Event = function(event) {
            if (!(el === event.target || el.contains(event.target))) {
                vnode.context[binding.expression](event);
            }
        };
        window.addEventListener('click', this.Event);
    },
    unbind: function(el) {
        window.removeEventListener('click', this.Event);
    }
});

var catalogTypeUtils = {
    data: function () {
        return {
            CATALOG: {
                SMARTPHONE: 'SmartPhone',
                ACCESSORY: 'Accessory',
                ROUTER: 'Router',
                TABLET: 'Tablet',
                HOTSPOT: 'Hotspot',
                SIM_CARD: 'SIM Card',
                PACK: 'Pack'
            },
            CATEGORY: {
                PROTECTION: 'PROTEÇÃO',
                CHARGER: 'CARREGADORES',
                SOUND: 'SOM',
                PHOTO_VIDEO: 'FOTO E VÍDEO',
                MEMORY: 'MEMÓRIA',
                GAMING: 'GAMING',
                CAR: 'CARRO',
                WEARABLES: 'WEARABLES',
                SMART_DEVICES: 'SMART DEVICES',
                SMART_LIGHTING: 'ILUMINAÇÃO INTELIGENTE',
                CONNECTIVITY: 'CONETIVIDADE',
                TV: 'TV',
                LANDLINE: 'TELEFONE FIXO',
                OTHERS: 'OUTROS'
            }
        }
    },
    methods: {
        isSmartphone: function (type) {
            return type === this.CATALOG.SMARTPHONE;
        },
        isSmartphonePack: function (product) {
            if (product.productType === this.CATALOG.PACK) {
                var main = product.variants[0].packProducts[0];
                return main.productType === this.CATALOG.SMARTPHONE;
            }
            return false;
        },
        isAccessory: function (type) {
            return type === this.CATALOG.ACCESSORY;
        },
        isSimCard: function (type) {
            return type === this.CATALOG.SIM_CARD;
        },
        isPack: function (type) {
            return type === this.CATALOG.PACK;
        },
        isHotspot: function (type) {
            return type === this.CATALOG.HOTSPOT;
        },
        isHotspotPack: function (product) {
            if (product.productType === this.CATALOG.PACK) {
                var main = product.variants[0].packProducts[0];
                return main.productType === this.CATALOG.HOTSPOT;
            }
            return false;
        }
    }
};

var productsUtils = {
    data: function () {
        return {
            EXTRACT: {
                DEFAULT: "default",
                PVP: "pvp",
                CV: "cv",
                FIRST: "first",
                FIRST_CV: "first_cv",
                FIRST_PVP: "first_pvp"
            },
            MINIMUM_MEMORIES: 1,
            CONSTANTS: {
                MB: 'MB',
                GB: 'GB',
                TB: 'TB',
                EMPTY: '',
                PACK: 'Pack',
                VARIANT: 'variant',
                STORE_ID_COOKIE: 'selectedStore'
            },
            REGEX_LETTERS: /[a-z]+|[^a-z]+/gi
        }
    },
    methods: {
        checkIfFreePrice: function (selected, value, type) {
            var me = this;
            if (value === 0) {
                if (me.isSimCard(type)) {
                    return me.i18nUtils().getProperty('vf_priceSummary.free');
                } else {
                    return me.currencyUtils().formatEuroBalance(value);
                }
            } else {
                return me.currencyUtils().formatEuroBalance(value);
            }
        },

        checkIfPvpFreePrice: function(selected) {
            return this.variantHasPVP(selected) && !selected.priceCondition.PVP[0].price;
        },

        selectVariants: function (productsArray, checkIfInComparator) {
            var me = this;
            if (Array.isArray(productsArray)) {
                productsArray.forEach(function (product) {
                    me.selectProductVariant(product, checkIfInComparator);
                }, me);
            }
        },

        selectProductVariant: function (product, checkIfInComparator) {
            var me = this;
            var selectedPVP = {},
                selectedCV = {};
            if (product.defaultVariant) {
                selectedPVP = me.extractVariant(product, me.EXTRACT.DEFAULT, product.defaultVariant);
                selectedCV = me.extractVariant(product, me.EXTRACT.DEFAULT, product.defaultVariant);
            } else {
                selectedPVP = me.extractVariant(product, me.EXTRACT.PVP);
                selectedCV = me.extractVariant(product, me.EXTRACT.CV);
            }

            if (Object.keys(selectedPVP).length === 0) {
                selectedPVP = me.extractVariant(product, me.EXTRACT.FIRST_PVP);
            }
            if (Object.keys(selectedCV).length === 0) {
                selectedCV = me.extractVariant(product, me.EXTRACT.FIRST_CV);
            }
            product.selectedPVP = selectedPVP;
            product.selectedCV = selectedCV;

            if (checkIfInComparator) {
                product.isInComparator = checkIfInComparator(product);
            }
        },

        extractVariant: function (product, type, code) {
            var me = this,
                selected = {},
                variants = [],
                selectedVariant;

            switch (type) {
                case me.EXTRACT.DEFAULT:
                    variants = product.variants;
                    variants.forEach(function (variant) {
                        if (variant.refSap && code && variant.refSap === code) {
                            selected = variant;
                        }
                    });
                    break;
                case me.EXTRACT.PVP:
                    variants = product.variants;
                    variants.forEach(function (variant) {
                        if (Object.keys(selected).length > 0 && parseInt(variant.priceCondition.PVP) < parseInt(selected.priceCondition.PVP)) {
                            selected = variant;
                        }
                    });
                    break;
                case me.EXTRACT.CV:
                    variants = product.variants;
                    variants.forEach(function (variant) {
                        if (me.variantHasCV(variant)) {
                            variant.priceCondition.CV.forEach(function (condition) {
                                if (Object.keys(selected).length > 0 && parseInt(condition.price) < parseInt(selected.condition.price)) {
                                    selected = variant;
                                }
                            });
                        }
                    });
                    break;
                case me.EXTRACT.FIRST_CV:
                    if (product.variants && product.variants.length > 0) {
                        product.variants.forEach(function (variant) {
                            if (me.variantHasCV(variant)) {
                                variant.priceCondition.CV.forEach(function (condition) {
                                    if (!selectedVariant && condition.price) {
                                        selectedVariant = variant;
                                    }
                                });
                            }
                        });
                        selected = selectedVariant ? selectedVariant : product.variants[0];
                    }
                    break;
                case me.EXTRACT.FIRST_PVP:
                    if (product.variants && product.variants.length > 0) {
                        product.variants.forEach(function (variant) {
                            if (!selectedVariant && me.variantHasPVP(variant)) {
                                selectedVariant = variant;
                            }
                        });
                        selected = selectedVariant ? selectedVariant : product.variants[0];
                    }
                    break;
                case me.EXTRACT.FIRST:
                default:
                    if (product.variants && product.variants.length > 0) {
                        selected = product.variants[0];
                    }
                    break;
            }
            return selected;
        },

        findPackVariantByPackId: function (products, urlParams) {
            for (var i = 0; i < products.variants.length; i++) {
                if (products.variants[i].id === urlParams.pack) {
                    return products.variants[i];
                }
            }
        },

        findVariantByColorAndStorage: function (products, urlParams) {
            for (var i = 0; i < products.variants.length; i++) {
                if ((products.variants[i].color && urlParams.cor && products.variants[i].color.toLowerCase() === urlParams.cor.toLowerCase()) &&
                    (products.variants[i].storage && urlParams.cap && (this.removeMemoryUnits(products.variants[i].storage.toLowerCase()) === (urlParams.cap).toLowerCase()))) {
                    return products.variants[i];
                } else if ((products.variants[i].color && urlParams.cor && products.variants[i].color.toLowerCase() === urlParams.cor.toLowerCase()) &&
                    (!urlParams.cap)) {
                    return products.variants[i];
                } else if ((products.variants[i].storage && urlParams.cap && (this.removeMemoryUnits(products.variants[i].storage.toLowerCase()) === (urlParams.cap).toLowerCase())) &&
                    (!urlParams.cor)) {
                    return products.variants[i];
                }
            }
        },

        updateSelectedPack: function (ref, products, selected, urlParams) {
            var me = this;
            if (!ref) {
                selected = me.findPackVariantByPackId(products, urlParams);
                if (!selected) {
                    if (products.defaultVariant) {
                        selected = me.extractVariant(products, me.EXTRACT.DEFAULT, products.defaultVariant);
                    } else {
                        selected = me.extractVariant(products, me.EXTRACT.FIRST, products.defaultVariant);
                    }
                }
                return selected;
            }

            if (Array.isArray(ref)) {
                if (selected.packProducts[0].storage) {
                    for (var i = 0; i < ref.length; i++) {
                        if (selected.packProducts[0].storage === ref[i].storage) {
                            selected = me.updateSelectedPack(ref[i], products, selected);
                            return selected;
                        }
                    }
                }
                selected = me.updateSelectedPack(ref[0], products, selected);
                return selected;
            }

            products.variants.forEach(function (variant) {
                if (variant.id && variant.id === ref.id) {
                    if (variant.galeryImages && variant.galeryImages.length > 6) {
                        variant.galeryImages.splice(6, variant.galeryImages.length - 6);
                    }
                    selected = variant;
                }
            }, me);
            return selected;
        },

        updateSelectedNonPack: function (ref, products, selected, urlParams) {
            var me = this;
            if (!ref) {
                selected = me.findVariantByColorAndStorage(products, urlParams);
                if (!selected) {
                    if (products.defaultVariant) {
                        selected = me.extractVariant(products, me.EXTRACT.DEFAULT, products.defaultVariant);
                    } else {
                        selected = me.extractVariant(products, me.EXTRACT.FIRST, products.defaultVariant);
                    }
                }
                return selected;
            }

            if (Array.isArray(ref)) {
                if (selected.storage) {
                    for (var i = 0; i < ref.length; i++) {
                        if (selected.storage === ref[i].storage) {
                            selected = me.updateSelectedNonPack(ref[i], products, selected);
                            return selected;
                        }
                    }
                }
                selected = me.updateSelectedNonPack(ref[0], products, selected);
                return selected;
            }

            products.variants.forEach(function (variant) {
                if (variant.id && variant.id === ref.id) {
                    if (variant.storage && variant.storage === ref.storage || !variant.storage) {
                        if (variant.galeryImages && variant.galeryImages.length > 6) {
                            variant.galeryImages.splice(6, variant.galeryImages.length - 6);
                        }
                        selected = variant;
                        return;
                    }
                }
            }, me);
            return selected;
        },

        updateSelected: function (ref, products, selected, urlParams) {
            var me = this;
            if (!products || !products.variants) {
                return selected;
            }
            if (products.productType === me.CONSTANTS.PACK) {
                return me.updateSelectedPack(ref, products, selected, urlParams);
            } else {
                return me.updateSelectedNonPack(ref, products, selected, urlParams);
            }
        },

        getUrlParams: function (selected) {
            var urlParams = {};
            if (selected.productType !== this.CONSTANTS.PACK) {
                urlParams.cor = selected.color.toLowerCase();
                urlParams.cap = this.removeMemoryUnits(selected.storage.toLowerCase());
            } else {
                urlParams.pack = selected.id.toLowerCase();
            }
            urlParams.pr = selected.pricecond;
            return urlParams;
        },

        removeMemoryUnits: function (storage) {
            var regexStorage = storage.match(this.REGEX_LETTERS);
            if (regexStorage && regexStorage.length > 0) {
                return regexStorage[0].trim();
            }
            return storage;
        },

        getColorsAndMemoriesFromProduct: function (product) {
            var colorsMemories = [],
                me = this;
            if (product) {
                var variants = product.variants;
                if (variants && variants.length > 0) {
                    variants.forEach(function (variant) {
                        var exists = false;
                        if (colorsMemories && colorsMemories.length > 0) {
                            colorsMemories.forEach(function (colorMemoryAux) {
                                if (colorMemoryAux.name.toLocaleLowerCase() === variant.color.toLocaleLowerCase()) {
                                    colorMemoryAux.option.push({
                                        id: variant.id,
                                        storage: variant.storage,
                                        stock: variant.stock
                                    });
                                    exists = true;
                                }
                            });
                        }
                        if (!exists) {
                            colorsMemories.push(me.addColorAndMemory(variant));
                        }
                    });
                }
            }
            return colorsMemories;
        },

        getColorsAndMemoriesFromPack: function (product) {
            var colorsMemories = [],
                me = this;
            if (product) {
                var variants = product.variants;
                if (variants && variants.length > 0) {
                    variants.forEach(function (variant) {
                        var exists = false;
                        var firstProduct = variant.packProducts[0];
                        if (colorsMemories && colorsMemories.length > 0) {
                            colorsMemories.forEach(function (colorMemoryAux) {
                                if (colorMemoryAux.name.toLocaleLowerCase() === firstProduct.color.toLocaleLowerCase()) {
                                    colorMemoryAux.option.push({
                                        id: variant.id,
                                        storage: firstProduct.storage,
                                        stock: variant.stock
                                    });
                                    exists = true;
                                }
                            });
                        }
                        if (!exists) {
                            colorsMemories.push(me.addColorAndMemory(variant));
                        }
                    });
                }
            }
            return colorsMemories;
        },

        addColorAndMemory: function (variant) {
            var variantValue = variant.productType === this.CONSTANTS.PACK ? variant.packProducts[0] : variant;
            return {

                name: variantValue.color,
                code: variantValue.colorCode ? variantValue.colorCode : variantValue.color.toLowerCase(),
                option: [{
                    id: variant.id,
                    storage: variantValue.storage,
                    stock: variant.stock
                }]
            };
        },

        colorOptionsFn: function (selected, products) {
            var colors = [];
            if (!selected || !selected.storage) {
                return;
            }
            if (!products || !products.variants) {
                return;
            }

            products.variants.forEach(function (colorVariant) {

                if (colorVariant.variants && colorVariant.variants.length) {
                    var color = {
                        name: colorVariant.color,
                        code: colorVariant.colorCode ? colorVariant.colorCode : colorVariant.color.toLowerCase(),
                        option: []
                    };
                    colorVariant.variants.forEach(function (storageVariant) {
                        color.option.push({
                            id: storageVariant.id,
                            storage: storageVariant.storage
                        });
                    });
                    colors.push(color);
                }
            });
            return colors;
        },

        storageOptionsFn: function (selected, products) {
            var storages = [];
            var variants = products.variants;
            for (var i = 0; i < variants.length; i++) {
                if (selected && selected.color === variants[i].color) {
                    var storage = "",
                        unit = "";
                    if (variants[i].storage) {
                        if (variants[i].storage.search(this.CONSTANTS.GB) !== -1) {
                            storage = variants[i].storage.replace(this.CONSTANTS.GB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.GB;
                        } else if (variants[i].storage.search(this.CONSTANTS.MB) !== -1) {
                            storage = variants[i].storage.replace(this.CONSTANTS.MB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.MB;
                        } else if (variants[i].storage.search(this.CONSTANTS.TB) !== -1) {
                            storage = variants[i].storage.replace(this.CONSTANTS.TB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.TB;
                        }
                    }
                    storages.push({
                        storage: variants[i].storage,
                        value: storage,
                        id: variants[i].id,
                        stock: variants[i].stock,
                        unit: unit
                    });
                }
            }
            return storages;
        },

        storageOptionsPack: function (selected, products) {
            var storages = [],
                alreadyFound = [],
                variants = products.variants;

            for (var i = 0; i < variants.length; i++) {
                if (selected && selected.packProducts[0].color === variants[i].packProducts[0].color) {
                    var storage = "",
                        unit = "";
                    if (variants[i].packProducts[0].storage) {
                        if (variants[i].packProducts[0].storage.search(this.CONSTANTS.GB !== -1)) {
                            storage = variants[i].packProducts[0].storage.replace(this.CONSTANTS.GB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.GB;
                        } else if (variants[i].packProducts[0].storage.search(this.CONSTANTS.MB !== -1)) {
                            storage = variants[i].packProducts[0].storage.replace(this.CONSTANTS.MB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.MB;
                        } else if (variants[i].packProducts[0].storage.search(this.CONSTANTS.TB !== -1)) {
                            storage = variants[i].packProducts[0].storage.replace(this.CONSTANTS.TB, this.CONSTANTS.EMPTY);
                            unit = this.CONSTANTS.TB;
                        }
                    }
                    var found = false;
                    if (alreadyFound.includes(storage)) {
                        found = true;
                    } else {
                        alreadyFound.push(storage);
                    }
                    if (!found) {
                        storages.push({
                            storage: variants[i].packProducts[0].storage,
                            value: storage,
                            id: variants[i].id,
                            stock: variants[i].stock,
                            unit: unit
                        });
                    }
                }
            }
            return storages;
        },

        packProductsForSelected: function (selected, products) {
            var packProducts = [],
                packProductsNoStock = [],
                alreadySelected = false,
                variants = products.variants;

            for (var i = 0; i < variants.length; i++) {
                    _hasStockAvailable = (variants[i].stock === "0" ? false : true);
                if (selected && selected.packProducts[0].storage === variants[i].packProducts[0].storage &&
                    selected.packProducts[0].color === variants[i].packProducts[0].color) {
                    var _products = [];
                    for (var j = 1; j < variants[i].packProducts.length; j++) {
                        var product = {};
                        product.color = variants[i].packProducts[j].color;
                        product.colorCode = variants[i].packProducts[j].colorCode;
                        product.storage = variants[i].packProducts[j].storage;
                        product.name = variants[i].packProducts[j].brand + ' ' + variants[i].packProducts[j].model
                        _products.push(product);
                    }

                    if(_hasStockAvailable){
                        packProducts.push({
                            id: variants[i].id,
                                          selected: false,
                            hasStockAvailable: _hasStockAvailable,
                            products: _products
                        });
                    } else {
                        packProductsNoStock.push({
                            id: variants[i].id,
                                          selected: false,
                            hasStockAvailable: _hasStockAvailable,
                            products: _products
                        });
                    }
                }
            }
            for (var i = 0; i < packProducts.length; i++) {
                if(packProducts[i].id === selected.id){
                    packProducts[i].selected = true;
                    alreadySelected = true;
                    break;
                }
            }
            if(!alreadySelected && packProducts.length > 0){
               packProducts[0].selected = true;
           }
            return packProducts.concat(packProductsNoStock);
        },

        showMemories: function (products, colors) {
            var memoryOptions = [],
            productType ='',
            forceMemoryPresentation = products.forceMemoryPresentation;

            if(this.CATALOG.PACK === products.productType){
                productType = products.variants[0].packProducts[0].productType;
            }else{
                productType = products.productType;
            }

            if (colors) {
                colors.forEach(function (color) {
                    if (color.option) {
                        color.option.forEach(function (colorOption) {
                            if (colorOption.storage) {
                                memoryOptions.push(colorOption.storage);
                            }
                        });
                    }
                });
            }

            memoryOptions = memoryOptions.filter(function (item, pos) {
                return memoryOptions.indexOf(item) === pos;
            });

            if ((this.isSmartphone(productType) && this.MINIMUM_MEMORIES === memoryOptions.length && !forceMemoryPresentation) ||
                this.MINIMUM_MEMORIES > memoryOptions.length) {
                return false;
            }
            return true;
        },

        variantHasPrice: function (variant) {
            return (variant.priceCondition !== null && variant.priceCondition !== undefined);
        },

        variantHasPVP: function (variant) {
            return (this.variantHasPrice(variant) && variant.priceCondition.PVP && variant.priceCondition.PVP.length > 0)
        },

        variantHasCV: function (variant) {
            return (this.variantHasPrice(variant) && variant.priceCondition.CV && variant.priceCondition.CV.length > 0)
        },

        variantHasPT: function (variant) {
            return (this.variantHasPrice(variant) && variant.priceCondition.PT && variant.priceCondition.PT.length > 0)
        },

        getStoreId: function () {
            var me = this,
                cookie = Cookies.get(me.CONSTANTS.STORE_ID_COOKIE);
            return typeof cookie !== 'undefined' && cookie ? cookie : "";
        },

        setStoreCookie: function (selectedStore) {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.set(me.CONSTANTS.STORE_ID_COOKIE, selectedStore, { domain: hostname});
        },

        removeStoreCookie: function () {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.remove(me.CONSTANTS.STORE_ID_COOKIE, { domain: hostname});
        },

        storeWatcher: function (store, stateToWatch, callback) {
            store.watch(
                function(state) {
                    return store.getters[stateToWatch];
                },
                function(newValue, oldValue) {
                    callback(newValue);
                }
            );
        }
    }
};

var checkoutUtils = {
    data: function () {
        return {
            CONSTANTS: {
                CHECKOUT_ID_COOKIE: 'omni_checkout_id',
                BAD_REQUEST_HTTP_CODE: '400',
                CHECKOUT_ERROR_MESSAGE_BASELINE: 'vf_checkout.error.message.',
                INVALID_BASKET_ERROR_REFERENCE: 'E0015',
            }
        };
    },

    methods: {
        getCheckoutId: function () {
            var me = this,
                cookie = Cookies.get(me.CONSTANTS.CHECKOUT_ID_COOKIE);
            return typeof cookie !== 'undefined' && cookie !== 'undefined' ? cookie : "";
        },

        setCheckoutCookie: function (checkoutId) {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.set(me.CONSTANTS.CHECKOUT_ID_COOKIE, checkoutId, { domain: hostname, expires: 365*20 });
        },
        removeCheckoutCookie: function () {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.remove(me.CONSTANTS.CHECKOUT_ID_COOKIE, { domain: hostname});
        },
        getErrorMessagesByCheckoutErrorCode: function(checkoutErrorResponseDTO, genericErrorMessage){
            var me = this, messageToShow = '', showGenericError = true;
            if(checkoutErrorResponseDTO.details && checkoutErrorResponseDTO.details.length > 0){
                var errorDetails = checkoutErrorResponseDTO.details;
                for (var i = 0; i < errorDetails.length; i++) {
                    if(me.i18nUtils().getProperty(me.CONSTANTS.CHECKOUT_ERROR_MESSAGE_BASELINE + errorDetails[i].reference)){
                        messageToShow = messageToShow + me.i18nUtils().getProperty(me.CONSTANTS.CHECKOUT_ERROR_MESSAGE_BASELINE + errorDetails[i].reference) + "<br>";
                        showGenericError = false;
                        if(errorDetails[i].reference === me.CONSTANTS.INVALID_BASKET_ERROR_REFERENCE){
                            me.removeCheckoutCookie();
                            me.removeBasketCookie();
                            messageToShow = me.i18nUtils().getProperty(me.CONSTANTS.CHECKOUT_ERROR_MESSAGE_BASELINE + errorDetails[i].reference);
                            break;
                        }
                    }
                }
            }else{
                showGenericError = false;
                messageToShow = me.i18nUtils().getProperty(me.CONSTANTS.CHECKOUT_ERROR_MESSAGE_BASELINE + checkoutErrorResponseDTO.errorCode);
            }
            return showGenericError ? genericErrorMessage : messageToShow;
        },
        checkoutErrorsMapping: function (response, genericErrorMessage){
            var me = this;
            if (response && response.body && response.body.checkoutErrorResponseDTO && response.body.checkoutErrorResponseDTO.statusCode === me.CONSTANTS.BAD_REQUEST_HTTP_CODE) {
                me.formatErrorMessageToToaster(me.getErrorMessagesByCheckoutErrorCode(response.body.checkoutErrorResponseDTO, genericErrorMessage));
            } else {
                me.formatErrorMessageToToaster(genericErrorMessage);
            }
        },
        checkoutStartLoadingInButton: function(buttonId){
            var me = this;
            me.loadGeneralAnimation({
                renderLocation: buttonId,
                defaultColor: false,
                style: 'left: auto; width: 30px; right: 0px;',
                path: '/content/dam/digital-commons/white_30px_stroke_15.json',
                cssClass: 'loading--button loader--button'
            });
        },
    }
};

var basketUtils = {
    data: function () {
        return {
            CONSTANTS: {
                BASKET_MODULE_SET: 'basket/set',
                BASKET_MODULE_UPDATED: 'basket/basketUpdated',
                BASKET_ID_COOKIE: 'omni_basket_id',
                BASKET_SESSION_ID: 'eshop_session_id',
                EUR: 'EUR',
                POINTS: 'POINTS',
                BASKET_CONTROLLER: 'basket',
                BASKET_GET_METHOD: '',
                BASKET_ADD_ITEM_METHOD: 'add',
                BASKET_REMOVE_ITEM_METHOD: 'removeItem',
                BASKET_UPDATE_ITEM_METHOD: 'updateItem',
                BASKET_UPDATE_FREE_SIM_METHOD: 'updateFreeSim',
                MONETARY_AMOUNT: 'MONETARY_AMOUNT',
                MAX_CART_ITEM: 'MAX_CART_ITEM',
                MAX_NUMBER_ITEM: 'MAX_NUMBER_ITEM',
                PRICE_ZERO_NOT_ALLOWED: 'PRICE_ZERO_NOT_ALLOWED',
                INVALID_PRICE: 'INVALID_PRICE',
                MAX_NUMBER_TYPE_ITEM:'MAX_NUMBER_TYPE_ITEM',
                CV: 'cv',
                BASKET_NOT_FOUND: 'BASKET_NOT_FOUND',
                CHECKOUT_ID_COOKIE: 'omni_checkout_id',
                REPLACE_DISCOUNT: '$value',
                EMPTY_STRING: ''
            }
        };
    },

    methods: {
        loadBasket: function (cb) {
            var me = this,
            request = {
                basketId: me.getBasketId()
            },
            successFn = function (response) {
                if (me.requestValidator().validateStatusCodeAndErrors(response)) {
                    basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, response.body);
                    if (cb) { cb(); }
                } else {
                    errorFn(response);
                }
            },
            errorFn = function (data) {
                me.basketErrorsHandling(data);
                if (cb) { cb(); }
            };
            if (request.basketId) {
                me.eshopGet(me.CONSTANTS.BASKET_CONTROLLER, me.CONSTANTS.BASKET_GET_METHOD, request, successFn, errorFn, me);
            }
            else {
                if (cb) { cb(); }
            }
        },

        addItemToBasket: function (sapRef, productOfferingPrice, productOfferingId, cb) {
            var me = this,
            request = {
                basketId: me.getBasketId(),
                quantity: "1",
                sapRef: sapRef,
                productOfferingPriceList: productOfferingPrice,
                productOffering: productOfferingId,
                productType: me.selected.productType,
                priceType: me.selected.pricecond
            },
            successFn = function (response) {
                if (me.requestValidator().validateStatusCodeAndErrors(response)) {
                    if(response.body.validationResults && response.body.validationResults.length > 0) {
                        me.formatErrorMessageToToaster(me.defineOrderMessage(response.body.validationResults));
                    }
                    else {
                        me.setBasketCookie(response.body.id);
                        basketStore.commit(me.CONSTANTS.BASKET_MODULE_UPDATED, response.body);
                    }
                    if (cb) { cb(); }
                } else {
                    errorFn(response);
                }
            },
            errorFn = function (data) {
                me.basketErrorsHandling(data);
                if (cb) { cb(); }
            };
            me.eshopPost(me.CONSTANTS.BASKET_CONTROLLER, me.CONSTANTS.BASKET_ADD_ITEM_METHOD, request, successFn, errorFn, me);
        },

        removeItemFromBasket: function (cartItemId, cb) {
            var me = this,
            request = {
                basketId: me.getBasketId(),
                cartItemId: cartItemId
            },
            successFn = function (response) {
                if (me.requestValidator().validateStatusCodeAndErrors(response)) {
                    basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, response.body);
                    if (cb) { cb(); }
                } else {
                    errorFn(response);
                }
            },
            errorFn = function (data) {
                me.basketErrorsHandling(data);
                if (cb) { cb(); }
            };
            me.eshopPost(me.CONSTANTS.BASKET_CONTROLLER, me.CONSTANTS.BASKET_REMOVE_ITEM_METHOD, request, successFn, errorFn, me);
        },

        updateBasket: function (cartItem, operation, cb) {
            var me = this,
                item = me.cloneObj(cartItem),
                quantity = operation === 'REMOVE' ? cartItem.quantity-1 : cartItem.quantity+1;

            //REMOVE UNNECESSARY ELEMENTS TO PREVENT BIG POST
            delete item.eshopProductDTO;

            var request = {
                    basketId: me.getBasketId(),
                    quantity: quantity,
                    cartItem: item
                },
                successFn = function (response) {
                     if (me.requestValidator().validateStatusCodeAndErrors(response)) {
                        if(response.body.validationResults && response.body.validationResults.length > 0) {
                            me.formatErrorMessageToToaster(me.defineOrderMessage(response.body.validationResults));
                        }else {
                            basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, response.body);
                        }
                        if (cb) { cb(); }
                    } else {
                        errorFn(response);
                    }
                },
                errorFn = function (data) {
                    me.basketErrorsHandling(data);
                    if (cb) { cb(); }
                };
            me.eshopPost(me.CONSTANTS.BASKET_CONTROLLER, me.CONSTANTS.BASKET_UPDATE_ITEM_METHOD, request, successFn, errorFn, me);
        },

        updateFreeSim: function(cartItem, productType, priceType, cb) {
            var me = this,
                item = me.cloneObj(cartItem);

            //REMOVE UNNECESSARY ELEMENTS TO PREVENT BIG POST
            delete item.eshopProductDTO;

            var request = {
                    basketId: me.getBasketId(),
                    cartItem: item,
                    productType: productType,
                    priceType: priceType
                },
                successFn = function (response) {
                    if (me.requestValidator().validateStatusCodeAndErrors(response)) {
                        if(response.body.validationResults && response.body.validationResults.length > 0) {
                            me.formatErrorMessageToToaster(me.defineOrderMessage(response.body.validationResults));
                        }else {
                            basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, response.body);
                        }
                        if (cb) { cb(); }
                    } else {
                        errorFn(response);
                    }
                },
                errorFn = function (data) {
                    me.basketErrorsHandling(data);
                    if (cb) { cb(); }
                };
            me.eshopPost(me.CONSTANTS.BASKET_CONTROLLER, me.CONSTANTS.BASKET_UPDATE_FREE_SIM_METHOD, request, successFn, errorFn, me);
        },

        getBasketId: function () {
            var me = this,
                cookie = Cookies.get(me.CONSTANTS.BASKET_ID_COOKIE);
            return typeof cookie !== 'undefined' && cookie !== 'undefined' ? cookie : null;
        },

        setBasketCookie: function (basketId) {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.set(me.CONSTANTS.BASKET_ID_COOKIE, basketId, { domain: hostname, expires: 365*20 });
        },

        removeBasketCookie: function () {
            var me = this,
                hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            Cookies.remove(me.CONSTANTS.BASKET_ID_COOKIE, { domain: hostname});
            basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, {});
        },

        basketErrorsHandling: function (data) {
            var me = this;
            if(data && data.body && data.body.statusDetails && data.body.statusDetails.statusCode === me.CONSTANTS.BASKET_NOT_FOUND){
                var hostname = document.location.hostname;
                if (hostname.indexOf('.') != -1) {
                    hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
                }
                Cookies.remove(me.CONSTANTS.BASKET_ID_COOKIE, { domain: hostname});
                Cookies.remove(me.CONSTANTS.CHECKOUT_ID_COOKIE, { domain: hostname});
                basketStore.commit(me.CONSTANTS.BASKET_MODULE_SET, {});
                me.formatErrorMessageToToaster(me.i18nUtils().getProperty('vf_checkout.label.error.basketNotFound'));
            }else{
                me.formatErrorMessageToToaster(me.i18nUtils().getProperty('vf_checkout.label.error.default'));
            }
        },

        getItemEURValue: function(cartItem) {
            var me = this,
                eur = 0;
            if (cartItem && cartItem.totalItemPrice && cartItem.totalItemPrice.length > 0) {
                cartItem.totalItemPrice.forEach(function (itemPrice) {
                    if (itemPrice && itemPrice.unitOfMeasure && me.CONSTANTS.EUR === itemPrice.unitOfMeasure) {
                        if (itemPrice.price && itemPrice.price.taxIncludedAmount && itemPrice.price.taxIncludedAmount.value) {
                            eur += itemPrice.price.taxIncludedAmount.value;
                        }
                    }
                });
            }
            return eur;
        },

        getItemPOINTSValue: function(cartItem) {
            var me = this,
                points = 0;
            if (cartItem && cartItem.totalItemPrice && cartItem.totalItemPrice.length > 0) {
                cartItem.totalItemPrice.forEach(function (itemPrice) {
                    if (itemPrice && itemPrice.unitOfMeasure && me.CONSTANTS.POINTS === itemPrice.unitOfMeasure) {
                        if (itemPrice.price && itemPrice.price.dutyFreeAmount && itemPrice.price.dutyFreeAmount.value) {
                            points += itemPrice.price.dutyFreeAmount.value;
                        }
                    }
                });
            }
            return points;
        },

        translateErrorCode: function(validationResults){
            var me = this, messageToShow = [];
            validationResults.forEach(function (validationResult) {
                switch (validationResult.code){
                    case (me.CONSTANTS.MONETARY_AMOUNT):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.monetaryAmount'));
                        break;
                    case (me.CONSTANTS.MAX_CART_ITEM):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.maxCartItem'));
                        break;
                    case (me.CONSTANTS.MAX_NUMBER_ITEM):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.maxNumberItem'));
                        break;
                    case (me.CONSTANTS.PRICE_ZERO_NOT_ALLOWED):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.priceZeroNotAllowed'));
                        break;
                    case (me.CONSTANTS.INVALID_PRICE):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.invalidPrice'));
                        break;
                    case (me.CONSTANTS.MAX_NUMBER_TYPE_ITEM):
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.maxNumerTypeItem'));
                        break;
                    default:
                        messageToShow.push(me.i18nUtils().getProperty('vf_checkout.label.error.default'));
                    }
            });
            return messageToShow.join("<br>");

        },

        defineOrderMessage: function(validationResults){
            var me = this;

            for (var i = 0; i < validationResults.length; i++) {
                if(me.CONSTANTS.MAX_NUMBER_TYPE_ITEM === validationResults[i].code){
                    return me.translateErrorCode(validationResults.splice(i, 1));
                }
            }

            for (var j = 0; j < validationResults.length; j++) {
                if(me.CONSTANTS.INVALID_PRICE === validationResults[j].code){
                    return me.translateErrorCode(validationResults.splice(j, 1));
                }
            }

            for (var z = 0; z < validationResults.length; z++) {
                if(me.CONSTANTS.PRICE_ZERO_NOT_ALLOWED === validationResults[z].code){
                    return me.translateErrorCode(validationResults.splice(z, 1));
                }
            }

            return me.translateErrorCode(validationResults);
        },

        getCartTotalEURValue: function(cartTotalPrice) {
            var me = this,
                eur = 0;
            if (cartTotalPrice && cartTotalPrice.length > 0) {
                cartTotalPrice.forEach(function (cartTotal) {
                    if (cartTotal && cartTotal.unitOfMeasure && me.CONSTANTS.EUR === cartTotal.unitOfMeasure) {
                        if (cartTotal.price && cartTotal.price.taxIncludedAmount && cartTotal.price.taxIncludedAmount.value) {
                            eur += cartTotal.price.taxIncludedAmount.value;
                        }
                    }
                });
            }
            return eur;
        },

        getCartTotalPOINTSValue: function(cartTotalPrice) {
            var me = this,
                points = 0;
            if (cartTotalPrice && cartTotalPrice.length > 0) {
                cartTotalPrice.forEach(function (cartTotal) {
                    if (cartTotal && cartTotal.unitOfMeasure && me.CONSTANTS.POINTS === cartTotal.unitOfMeasure) {
                        if (cartTotal.price && cartTotal.price.dutyFreeAmount && cartTotal.price.dutyFreeAmount.value) {
                            points += cartTotal.price.dutyFreeAmount.value;
                        }
                    }
                });
            }
            return points;
        },

        formatPrice: function (value) {
            return this.currencyUtils().formatEuroBalance(value);
        },

        getAccessoryDiscount: function(item) {
            var percentage = null;
            if(this.isAccessory(item.eshopProductDTO.productType)){
                item.itemPrice.forEach(function(itemPrice){
                    if(itemPrice.priceAlterations && itemPrice.priceAlterations.length > 0){
                        itemPrice.priceAlterations.forEach(function (priceAlterations) {
                        if (priceAlterations.price && priceAlterations.price.percentage) {
                            percentage = priceAlterations.price.percentage;
                        }
                        });
                    }
                });
              }
              return percentage;
        },

        showAccessoryDiscount: function(item) {
            return this.getAccessoryDiscount(item) !== null;
        },

        accessoryDiscountLabel: function(item, label) {
            return this.showAccessoryDiscount(item) ? label.replace(this.CONSTANTS.REPLACE_DISCOUNT, this.getAccessoryDiscount(item)) : this.CONSTANTS.EMPTY_STRING;
        }
    }

};

var toasterUtils = {
    methods: {
        formatErrorMessageToToaster: function (value) {
            var me=this, toasterMessage = {};
            toasterMessage["title"]=me.i18nUtils().getProperty('vf_genericToaster.title.error');
            toasterMessage["message"]=value;
            ToasterEventBus.$emit('show-error', toasterMessage);
        },
        formatSuccessMessageToToaster: function (value) {
            var me=this, toasterMessage = {};
            toasterMessage["title"]=me.i18nUtils().getProperty('vf_genericToaster.title.success');
            toasterMessage["message"]=value;
            ToasterEventBus.$emit('show-success', toasterMessage);
        }
    }
};

var accountAndServiceUtils = {
    data: function () {
        return {
            constants: {
                ACCOUNT: 'ACCOUNT',
                GSM: 'GSM',
                BLM: 'BLM',
                FTTH: 'FTTH',
                ADSL: 'ADSL'
            }
        };
    },
    methods: {
        hasSelectableProfile: function(profile){
            return profile === this.constants.GSM || profile === this.constants.BLM || profile === this.constants.FTTH || profile === this.constants.ADSL;
        },
        isAccount: function(profile){
            return profile === this.constants.ACCOUNT;
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa*/

//Set this variables to success request url and fail success url
var SFUrl = {
    sru: '',
    fru: ''
 };


var homepageBus = new Vue({
    data: {
        loadings: [],
        requests: []
    },
    watch: {
        loadings: function () {
            this.$emit('loadingsChange', this.loadings);
        }
    }
});

var ToasterEventBus = new Vue();

var BackToTopEventBus = new Vue();

var UserPhotoBus = new Vue();

var NavigationInBus = new Vue();

var SessionBus = new Vue({

    data: function () {
        return {
            loggedIn: false
        };
    },

    methods: {
        changeSessionLoggedIn: function (status) {
            this.loggedIn = status;
            this.$emit('sessionChange', status);
        },
        alreadyHasContext: function (status) {
            this.$emit('alreadyHasContext', status);
        }
    }
});

var ThrottleBus = new Vue();

var requestHandler = {

    methods: {

        loginRequest: function (input, successCB, errorCB, scope) {
            this.request('login', 'handler', input, successCB, errorCB, scope);
        },

        loginSecondLevelRequest: function (input, successCB, errorCB, scope) {
            this.request('login', 'secondLevelLogin', input, successCB, errorCB, scope);
        },

        getFavoriteGet: function (input, successCB, errorCB, scope, hostname) {
            this.requestGet('myvdf/user', 'getFavorite', input, successCB, errorCB, scope);
        },

        myVdfGet: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestGet('myvdf/' + plugin, method, input, successCB, errorCB, scope);
        },

        sitesGet: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestGet('sites/' + plugin, method, input, successCB, errorCB, scope);
        },

        helpGet: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestGet('help/' + plugin, method, input, successCB, errorCB, scope);
        },

        eshopGet: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestGet('eshop/' + plugin, method, input, successCB, errorCB, scope);
        },

        fisGet: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestGet('fis/' + plugin, method, input, successCB, errorCB, scope);
        },

        requestGet: function (plugin, method, input, successCB, errorCB, scope) {

            input.vf_timestamp = new Date().getTime(); //prevent GET requests caching on internet explorer, irrelevant for server
            var me = plugin === "login" && method === "isLogged" ? scope : this,
                host = "",
                params = this.getAsUriParameters(input);

            if (window.hostnameForExtSystems) {
                host = window.hostnameForExtSystems + '/bin/mvc.do/' + plugin + '/' + method;
                Vue.http.interceptors.push(function (request, next) {
                    request.credentials = true;
                    next();
                });
            } else {
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + (method != null && method !== undefined  ? '/' + method: "");
            }

            setTimeout(function () {
                me.$http.get(host + '?' + params, {
                    headers: {
                        'Content-Type': 'application/json;charset=utf-8',
                        'Process-Id': plugin
                    }
                }).then(function (response) {
                    successCB.call(scope, response);
                }, function (jqXHR, status) {

                    //Fix -- Only for first access from partners via SSO
                    if (window.hostnameForExtSystems && jqXHR.status === 0 && jqXHR.body === "" && !jqXHR.ok) {
                        jqXHR.status = 200;
                        jqXHR.statusText = 'OK';
                        jqXHR.body = true;
                        jqXHR.bodyText = 'true';
                        jqXHR.ok = true;
                        successCB.call(scope, jqXHR);
                    } else {

                        if (jqXHR.status === 307 || (me.isIE() && jqXHR.status === 0)) {
                            if (window.location.origin === "https://my.vodafone.pt") {
                                window.location.href = "https://my.vodafone.pt/main.html";
                            } else if (window.location.origin === "https://my.vodafone.pt:449") {
                                window.location.href = "https://my.vodafone.pt:449/main.html";
                            }
                        }
                        errorCB.call(scope, jqXHR, status);
                    }
                });
            }, 1);
        },

        myVdfPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost('myvdf/' + plugin, method, input, successCB, errorCB, scope);
        },

        sitesPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost('sites/' + plugin, method, input, successCB, errorCB, scope);
        },

        tealiumPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost(plugin, method, input, successCB, errorCB, scope);
        },

        eshopPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost('eshop/' + plugin, method, input, successCB, errorCB, scope);
        },

        helpPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost('help/' + plugin, method, input, successCB, errorCB, scope);
        },

        fisPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.requestPost('fis/' + plugin, method, input, successCB, errorCB, scope);
        },
        requestPost: function (plugin, method, input, successCB, errorCB, scope) {
            this.request(plugin, method, input, successCB, errorCB, scope);
        },
        request: function (plugin, method, input, successCB, errorCB, scope) {

            var me = this,
                host = "";

            if (window.hostnameForExtSystems) {
                host = window.hostnameForExtSystems + '/bin/mvc.do/' + plugin + '/' + method;
                Vue.http.interceptors.push(function (request, next) {
                    request.credentials = true;
                    next();
                });
            } else {
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method;
            }

            var headers;
            if (plugin !== '') {
                headers = {
                    'Process-Id': plugin
                };
            }

            me.$http.post(host, JSON.stringify(input), {
                headers: {
                    'Process-Id': plugin
                }
            }).then(function (response) {
                successCB.call(scope, response);
            }, function (jqXHR, status) {

                if (jqXHR.status === 307 || (me.isIE() && jqXHR.status === 0)) {
                    if (window.location.origin === "https://my.vodafone.pt") {
                        window.location.href = "https://my.vodafone.pt/main.html";
                    } else if (window.location.origin === "https://my.vodafone.pt:449") {
                        window.location.href = "https://my.vodafone.pt:449/main.html";
                    }
                }


                errorCB.call(scope, jqXHR, status);
            });
        },
        myVdfUploadFile: function (plugin, method, file, successCB, errorCB, scope) {
            this.uploadFile('myvdf/' + plugin, method, file, successCB, errorCB, scope);
        },

        sitesUploadFile: function (plugin, method, file, successCB, errorCB, scope) {
            this.uploadFile('sites/' + plugin, method, file, successCB, errorCB, scope);
        },

        sitesPostForm: function (plugin, method, input, successCB, errorCB, scope) {
            this.generalPostFormImpl('sites/' + plugin, method, input, successCB, errorCB, scope);
        },

        helpPostForm: function (plugin, method, input, successCB, errorCB, scope) {
            this.generalPostFormImpl('help/' + plugin, method, input, successCB, errorCB, scope);
        },

        /** SIMILAR TO uploadFile BUT CAPABLE TO SEND MORE INFORMATION WITH FormData ALREADY READY **/
        generalPostFormImpl: function (plugin, method, input, successCB, errorCB, scope) {

            var me = this,
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method;

            me.$http.post(host, input).then(function (response) {
                successCB.call(scope, response);
            }, function (jqXHR, status) {
                errorCB.call(scope, jqXHR, status);
            });
        },

        uploadFile: function (plugin, method, file, successCB, errorCB, scope) {

            var me = this,
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method,
                data = new FormData();

            data.append("file", file);

            me.$http.post(host, data).then(function (response) {
                successCB.call(scope, response);
            }, function (jqXHR, status) {

                if (jqXHR.status === 307 || (me.isIE() && jqXHR.status === 0)) {
                    if (window.location.origin === "https://my.vodafone.pt") {
                        window.location.href = "https://my.vodafone.pt/main.html";
                    } else if (window.location.origin === "https://my.vodafone.pt:449") {
                        window.location.href = "https://my.vodafone.pt:449/main.html";
                    }
                }

                errorCB.call(scope, jqXHR, status);
            });
        },

        getAsUriParameters: function (data) {
            var url = '';
            for (var prop in data) {
                if (Array.isArray(data[prop])) {
                    var arrayData = data[prop];

                    for (var item in arrayData) {
                        url += encodeURIComponent(prop) + '=' +
                            encodeURIComponent(arrayData[item]) + '&';
                    }


                } else {
                    url += encodeURIComponent(prop) + '=' +
                        encodeURIComponent(data[prop]) + '&';
                }

            }
            return url.substring(0, url.length - 1);
        },

        myVdfDownloadFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope) {
            this.downloadFile('myvdf/' + plugin, method, input, fileName, fileType, successCB, errorCB, scope);
        },

        sitesDownloadFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope) {
            this.downloadFile('sites/' + plugin, method, input, fileName, fileType, successCB, errorCB, scope);
        },

        sitesPostDownloadFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope) {
            this.downloadPostFile('sites/' + plugin, method, input, fileName, fileType, successCB, errorCB, scope);
        },

        downloadPostFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope) {
            var xhr = new XMLHttpRequest(),
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method;
            xhr.open('POST', host, true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

            this.downloadFile(plugin, method, input, fileName, fileType, successCB, errorCB, scope, xhr);
        },

        downloadGetFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope) {
            var xhr = new XMLHttpRequest(),
                params = this.getAsUriParameters(input),
                host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method + '?' + params;

            xhr.open('GET', host, true);

            this.downloadFile(plugin, method, input, fileName, fileType, successCB, errorCB, scope, xhr);
        },

        downloadFile: function (plugin, method, input, fileName, fileType, successCB, errorCB, scope, xhr) {
            var me = this;

            if (!xhr) {
                xhr = new XMLHttpRequest();
                var params = this.getAsUriParameters(input),
                    host = window.location.protocol + '//' + window.location.host + '/bin/mvc.do/' + plugin + '/' + method + '?' + params;
                xhr.open('GET', host, true);
            }

            if (this.isIE() || this.isEdge()) {
                xhr.responseType = 'blob';

                xhr.onload = function (e) {
                    if (this.status === 200) {
                        if (this.response && this.response.size !== 0) {
                            var blob = new Blob([this.response]);
                            window.navigator.msSaveBlob(blob, fileName + '.' + fileType);
                            successCB.call(scope);
                        } else {
                            errorCB.call(scope, 204);
                        }
                    } else {
                        errorCB.call(scope, this.status);
                    }
                };
            } else if (this.isBrowserSafari()) {
                xhr.responseType = 'arraybuffer';

                xhr.onload = function (e) {
                    if (this.status === 200) {
                        if (this.response && this.response.size !== 0) {
                            var responseArray = new Uint8Array(this.response);
                            me.saveFileSafari(responseArray, fileType, fileName);
                            successCB.call(scope);
                        } else {
                            errorCB.call(scope, 204);
                        }
                    } else {
                        errorCB.call(scope, this.status);
                    }
                };
            } else {
                xhr.responseType = 'blob';

                xhr.onload = function (e) {
                    if (this.status === 200) {
                        if (this.response && this.response.size !== 0) {
                            var blob = this.response;
                            me.saveFile(window.URL.createObjectURL(blob), true, fileName, fileType);
                            successCB.call(scope);
                        } else {
                            errorCB.call(scope, 204);
                        }
                    } else {
                        errorCB.call(scope, this.status);
                    }
                };
            }
            //If the request method is GET or HEAD, the body parameter is ignored and the request body is set to null.
            xhr.send(JSON.stringify(input));
        },
        isBrowserSafari: function () {
            return /(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent);
        },
        isIE: function () {
            return !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);
        },
        isEdge: function () {
            return navigator.userAgent.indexOf("Edge") > -1;
        },
        saveFile: function (url, winMode, fileName, fileType) {

            var anchor = document.createElement('a'),
                name = fileName + '.' + fileType;
            if ('download' in anchor) { //html5 A[download]
                anchor.href = url;
                anchor.setAttribute('download', name);
                anchor.className = 'download-js-link';
                anchor.innerHTML = 'downloading...';
                anchor.style.display = 'none';
                document.body.appendChild(anchor);
                setTimeout(function () {
                    anchor.click();
                    document.body.removeChild(anchor);
                    if (winMode === true) {
                        setTimeout(function () {
                            window.URL.revokeObjectURL(anchor.href);
                        }, 250);
                    }
                }, 66);
                return true;
            }

            //do iframe dataURL download (old ch+FF):
            var f = document.createElement('iframe');
            document.body.appendChild(f);

            // force a mime that will download:
            if (!winMode) {
                url = 'data:' + url.replace(/^data:([\w\/\-\+]+)/, defaultMime);
            }

            f.src = url;
            setTimeout(function () {
                document.body.removeChild(f);
            }, 333);
        },
        Uint8ToString: function (u8a) {
            var CHUNK_SZ = 0x8000;
            var c = [];
            for (var i = 0; i < u8a.length; i += CHUNK_SZ) {
                c.push(String.fromCharCode.apply(null, u8a.subarray(i, i + CHUNK_SZ)));
            }
            return c.join('');
        },
        saveFileSafari: function (data, fileType, fileName) {
            try {
                var b64encoded = btoa(this.Uint8ToString(data)),
                    dataType = '';

                switch (fileType) {
                    case 'text/xml':
                        dataType = 'application/xml';
                        break;
                    case 'txt':
                        dataType = 'text/plain';
                        break;
                    case 'pdf':
                        dataType = 'application/pdf';
                        break;
                    case 'xls':
                        dataType = 'application/xls';
                        break;
                    case 'csv':
                        dataType = 'text/csv';
                        break;
                    case 'zip':
                        dataType = 'application/octet-stream';
                        break;
                    default:
                        dataType = fileType;
                        break;
                }

                var base64 = 'data:' + dataType + ';base64,' + b64encoded,
                    uri = encodeURI(base64),
                    anchor = document.createElement('a');

                document.body.appendChild(anchor);
                anchor.href = uri;
                anchor.download = fileName + '.' + fileType;
                anchor.click();
                document.body.removeChild(anchor);
            } catch (e) {
                //alert(e.message);
            }
        }
    }
};

var requestValidations = {

    methods: {

        requestValidator: function () {
            return {
                validateStatusCode: function (response) {
                    //HTTP2.0 - remove response.statusText
                    return response && response.status === 200 || false;
                    //return response && response.status === 200 && response.statusText === 'OK' || false;
                },
                validateNoErrors: function (response) {
                    return response && response.body && (response.body.status === undefined || response.body.status !== 'ERROR') || false;
                },
                validateStatusCodeAndErrors: function (response) {
                    return this.validateStatusCode(response) && this.validateNoErrors(response);
                }
            };
        }
    }
};

var scriptUtils = {
    methods: {
        loadScript: function (url, isCss, callback) {
            var script;
            var ts = new Date().getTime(); //prevent GET requests caching on internet explorer
            if (isCss) {
                script = document.createElement('link');
                script.type = 'text/css';
                script.rel = 'stylesheet';
                script.href = url + '?ts=' + ts;
            } else {
                script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = url + '?ts=' + ts;
            }

            if (script.readyState) { //IE
                script.onreadystatechange = function () {
                    if (script.readyState == "loaded" ||
                        script.readyState == "complete") {
                        script.onreadystatechange = null;
                        callback();
                    }
                };
            } else { //Others
                script.onload = function () {
                    callback();
                };
            }
            document.getElementsByTagName("head")[0].appendChild(script);
        },
    }
};

var utils = {

    methods: {
        throttleUtils: function () {
            return {
                initializeThrottles: function () {
                    if (typeof (window.throttleInfo) == "undefined") {

                        var jsonRequest = $.getJSON("/content/dam/digital-commons/settings/t.json");

                        jsonRequest.complete(function (data) {
                            if (data.responseJSON) {
                                window.throttleInfo = data.responseJSON;
                                ThrottleBus.$emit('tjson-loaded');
                            }
                        });
                    }
                },
                validateThrottle: function (throttle) {
                    var me = this,
                        throttles = window.throttleInfo;

                    if (typeof (window.throttleInfo) !== "undefined") {

                        var thashConv = btoa(throttle);
                        thashConv = [thashConv.slice(0, thashConv.length - 2), String.fromCharCode(throttle.length + 64), thashConv.slice(thashConv.length - 2)].join('');

                        if (window.throttleInfo[thashConv] !== undefined) {

                            if (window.throttleInfo[thashConv].s === 1) {
                                return true;
                            } else if (window.throttleInfo[thashConv].th !== undefined && localStorage.getItem('tthash') !== null && localStorage.getItem('tthash') !== undefined) {
                                if (localStorage.getItem('tthash').indexOf(window.throttleInfo[thashConv].th) !== -1) {
                                    return true;
                                }
                            }
                        }
                    }
                    return false;
                },
                validateThrottlePromise: function(throttle){
                    var me = this;
                    return new Promise(function(resolve,reject){
                        if (typeof (window.throttleInfo) == "undefined") {

                            var jsonRequest = $.getJSON("/content/dam/digital-commons/settings/t.json");

                            jsonRequest.complete(function (data) {
                                if (data.responseJSON) {
                                    window.throttleInfo = data.responseJSON;
                                    resolve(me.validateThrottle(throttle));
                                }
                            });
                        }else{
                            resolve(me.validateThrottle(throttle));
                        }
                    });
                }
            }
        },

        sessionUtils: function () {
            return {
                isLoggedIn: function () {
                    if (SessionBus.loggedIn) {
                        utag_data.visitor_login_status = "Logged In";
                    } else {
                        utag_data.visitor_login_status = "Logged out";
                    }
                }
            };
        },

        nifUtils: function () {
            return {
                validateNif: function (contribuinte) {

                    if (
                        contribuinte.substr(0, 1) !== '1' && // pessoa singular
                        contribuinte.substr(0, 1) !== '2' && // pessoa singular
                        contribuinte.substr(0, 1) !== '3' && // pessoa singular
                        contribuinte.substr(0, 2) !== '45' && // pessoa singular não residente
                        contribuinte.substr(0, 1) !== '5' && // pessoa colectiva
                        contribuinte.substr(0, 1) !== '6' && // administração pública
                        contribuinte.substr(0, 2) !== '70' && // herança indivisa
                        contribuinte.substr(0, 2) !== '71' && // pessoa colectiva não residente
                        contribuinte.substr(0, 2) !== '72' && // fundos de investimento
                        contribuinte.substr(0, 2) !== '77' && // atribuição oficiosa
                        contribuinte.substr(0, 2) !== '79' && // regime excepcional
                        contribuinte.substr(0, 1) !== '8' && // empresário em nome individual (extinto)
                        contribuinte.substr(0, 2) !== '90' && // condominios e sociedades irregulares
                        contribuinte.substr(0, 2) !== '91' && // condominios e sociedades irregulares
                        contribuinte.substr(0, 2) !== '98' && // não residentes
                        contribuinte.substr(0, 2) !== '99' // sociedades civis

                    ) {
                        return false;
                    }
                    var check1 = contribuinte.substr(0, 1) * 9;
                    var check2 = contribuinte.substr(1, 1) * 8;
                    var check3 = contribuinte.substr(2, 1) * 7;
                    var check4 = contribuinte.substr(3, 1) * 6;
                    var check5 = contribuinte.substr(4, 1) * 5;
                    var check6 = contribuinte.substr(5, 1) * 4;
                    var check7 = contribuinte.substr(6, 1) * 3;
                    var check8 = contribuinte.substr(7, 1) * 2;

                    var total = check1 + check2 + check3 + check4 + check5 + check6 + check7 + check8;
                    var divisao = total / 11;
                    var modulo11 = total - parseInt(divisao) * 11;
                    var comparador;
                    if (modulo11 === 1 || modulo11 === 0) {
                        comparador = 0;
                    } else {
                        comparador = 11 - modulo11;
                    }

                    var ultimoDigito = contribuinte.substr(8, 1) * 1;
                    if (ultimoDigito != comparador) {
                        return false;
                    }

                    if (contribuinte.length < 9) {
                        return false;
                    }
                    return true;
                }
            };
        },
        currencyUtils: function () {
            return {
                formatBalance: function (balance) {
                    return '€' + (balance / 100.0).toFixed(2).replace('.', ',');
                },
                formatBalanceWithoutCurrency: function (balance) {
                    return (balance / 100.0).toFixed(2).replace('.', ',');
                },
                formatBalanceNoCents: function (balance) {
                    return '€' + (balance / 1.0).toFixed(2).replace('.', ',');
                },
                formatBalanceNoCurrencyNoCents: function (balance) {
                    return (balance / 100.0).toFixed(0).replace('.', ',');
                },
                formatBalanceRightNoCents: function (balance) {
                    return (balance / 100.0).toFixed(2).replace('.', ',') + '€';
                },
                formatEuroBalance: function(balance) {
                    return '€' + parseFloat(balance).toFixed(2).replace('.', ',');
                },
                formatEuroBalanceNoCurrencyNoCents: function(balance) {
                    return parseFloat(balance).toFixed(0).replace('.', ',');
                },
                eurosToCents: function (balance) {
                    balance = balance.includes('€') ? balance.replace('€', '').trim() : balance;
                    balance = balance.includes(',') ? balance.replace(',', '.') : balance;
                    return parseFloat(balance) * 100;
                }
            };
        },

        ccUtils: function () {
            return {
                validateCC: function (documentNumber) {
                    var sum = 0,
                        secondDigit = false;

                    if (documentNumber.length !== 12) {
                        if (documentNumber.length === 9) {
                            return this.validateNIC(documentNumber);
                        }
                        return false;
                    }
                    for (var i = documentNumber.length - 1; i > -1; i--) {
                        var arrayOfCharacters = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],
                            value = arrayOfCharacters.indexOf(documentNumber[i].toUpperCase());

                        if (secondDigit) {
                            value *= 2;
                            if (value > 9) {
                                value -= 9;
                            }
                        }
                        sum += value;
                        secondDigit = !secondDigit;
                    }
                    return (sum % 10) === 0;
                },
                validateNIC: function (documentNumber) {
                    var sumBI = 0,
                        multiplier = 1;

                    for (var i = documentNumber.length - 1; i > -1; i--) {
                        sumBI += documentNumber[i] * multiplier;
                        multiplier++;
                    }
                    return ((sumBI % 11) === 0 || ((sumBI % 11) === 1 && parseInt(documentNumber[documentNumber.length-1]) === 0)) ;
                }
            }
        },
        cvpUtils: function () {
            return {
                validateCvp: function (cvp) {
                    if (cvp.length < 12) {
                        return false;
                    }

                    var sum = 0,
                        baseCharCode = 55,
                        compareCharCode = 57;

                    for (var i = 0; i < 12; i++) {
                        var digitCharCode = cvp.charCodeAt(i),
                            valueToAdd = 0;
                        if (digitCharCode > compareCharCode) {
                            valueToAdd = digitCharCode - baseCharCode;
                        } else {
                            valueToAdd = parseInt(cvp.charAt(i));
                        }
                        if (i % 2 == 0) {
                            sum += (valueToAdd * 2);
                        } else {
                            sum += valueToAdd;
                        }
                    }
                    var val = String(sum);
                    return val.charAt(val.length - 1) == '0';
                }
            }
        },
        dateUtils: function () {
            return {
                currentDate: function () {
                    return new Date();
                },
                currentDateTime: function () {
                    return new Date().getTime();
                },
                formatDate: function (date) {
                    var m_names = ['month_short_january',
                            'month_short_february',
                            'month_short_march',
                            'month_short_april',
                            'month_short_may',
                            'month_short_june',
                            'month_short_july',
                            'month_short_august',
                            'month_short_september',
                            'month_short_october',
                            'month_short_november',
                            'month_short_december'
                        ],
                        d = new Date(date);

                    return d.getDate() + ' ' + utils.methods.i18nUtils().getProperty(m_names[d.getMonth()]) + ' ' + d.getFullYear();
                },
                formatDateWith_: function (date) {
                    var d = new Date(date),
                        day, month;

                    if (d.getDate() < 10) {
                        day = '0' + d.getDate();
                    } else {
                        day = d.getDate();
                    }

                    if (d.getMonth() < 10) {
                        month = '0' + d.getMonth();
                    } else {
                        month = d.getMonth();
                    }

                    return day + '_' + month + '_' + d.getFullYear();
                },
                formatDateWithDash: function (date) {

                    var d = new Date(date),
                        day, month;

                    if (d.getDate() < 10) {
                        day = '0' + d.getDate();
                    } else {
                        day = d.getDate();
                    }

                    if (d.getUTCDate() < 10) {
                        month = '0' + d.getUTCDate();
                    } else {
                        month = d.getUTCDate();
                    }

                    return day + '-' + month + '-' + d.getFullYear();
                },
                formatDateObjectWithDash: function (date) {

                    if (date.day < 10) {
                        day = '0' + date.day;
                    } else {
                        day = date.day;
                    }

                    if (date.month < 10) {
                        month = '0' + date.month;
                    } else {
                        month = date.month;
                    }

                    return day + '-' + month + '-' + date.year;
                },
                longMonth: function (date) {
                    var i18nMonths = ['month_long_january',
                            'month_long_february',
                            'month_long_march',
                            'month_long_april',
                            'month_long_may',
                            'month_long_june',
                            'month_long_july',
                            'month_long_august',
                            'month_long_september',
                            'month_long_october',
                            'month_long_november',
                            'month_long_december'
                        ],
                        d = new Date(date);

                    return utils.methods.i18nUtils().getProperty(i18nMonths[d.getMonth()]);
                },
                parseSecondsToTimeFormat: function (time) {
                    var timeInt = parseInt(time),
                        minutes = Math.floor(timeInt / 60),
                        seconds = timeInt - minutes * 60;

                    if (minutes < 10) {
                        minutes = '0' + minutes;
                    }
                    if (seconds < 10) {
                        seconds = '0' + seconds;
                    }
                    return minutes + ':' + seconds;
                },
                formatDateWithoutTimeZone: function (dateStr) {

                    if (dateStr.indexOf('Z') != -1) {
                        dateStr = dateStr.substring(0, dateStr.indexOf('Z'));
                    }

                    if (dateStr.indexOf('z') != -1) {
                        dateStr = dateStr.substring(0, dateStr.indexOf('z'));
                    }

                    if (dateStr.indexOf('+') != -1) {
                        dateStr = dateStr.substring(0, dateStr.indexOf('+'));
                    }

                    return dateStr;
                },
                /**
                 Date and Time Patterns:
                 yy = 2-digit year; yyyy = full year
                 M = digit month; MM = 2-digit month; MMM = short month name; MMMM = full month name
                 d = digit day; dd = 2-digit day
                 h = hours am/pm; hh = 2-digit hours am/pm; H = hours; HH = 2-digit hours
                 m = minutes; mm = 2-digit minutes
                 s = seconds; ss = 2-digit seconds
                 */
                formatDateWithPattern: function (date, patternStr) {
                    if (!patternStr || !date || !(date instanceof Date)) {
                        return null;
                    }

                    var twoDigitPad = function (num) {
                        return num < 10 ? "0" + num : num;
                    };

                    var dateValues = {
                        d: date.getDate(),
                        H: date.getHours(),
                        m: date.getMinutes(),
                        s: date.getSeconds(),
                        h: date.getHours() % 12,
                        hh: twoDigitPad(date.getHours() % 12),
                        HH: twoDigitPad(date.getHours()),
                        mm: twoDigitPad(date.getMinutes()),
                        ss: twoDigitPad(date.getSeconds()),
                        dd: twoDigitPad(date.getDate()),
                        M: date.getMonth() + 1,
                        MM: twoDigitPad(date.getMonth() + 1),
                        MMMM: this.longMonth(date),
                        MMM: this.longMonth(date).substr(0, 3),
                        yyyy: date.getFullYear(),
                        yy: date.getFullYear().toString().substr(2, 2)
                    };

                    return patternStr.replace(/(y+|M+|d+|H+|h+|m+|s+)/g, function (pattern) {
                        return dateValues[pattern];
                    });
                },
                isValidDate: function (strDate) {
                    //Expected date format str DD/MM/YYYY
                    var spDate = strDate.split('/');
                    if (strDate.length < 10 || spDate.length != 3) {
                        return false;
                    }

                    var d = new Date(spDate[2] + '-' + spDate[1] + '-' + spDate[0]);
                    if (!(d && (d.getUTCFullYear() === Number(spDate[2]) && (d.getUTCMonth() + 1) === Number(spDate[1]) && d.getUTCDate() === Number(spDate[0])))) {
                        return false;
                    }

                    var currentDate = new Date();
                    if ((d.getTime() > currentDate.getTime()) || (currentDate.getUTCFullYear() - d.getUTCFullYear() > 150)) {
                        return false;
                    }

                    return true;
                },
                isUnderAge: function (dtDOB) {
                    var dtCurrent = new Date();
                    if (dtCurrent.getFullYear() - dtDOB.getFullYear() < 18) {
                        return true;
                    }

                    if (dtCurrent.getFullYear() - dtDOB.getFullYear() == 18) {
                        if (dtCurrent.getMonth() < dtDOB.getMonth()) {
                            return true;
                        }
                        if (dtCurrent.getMonth() == dtDOB.getMonth()) {
                            if (dtCurrent.getDate() < dtDOB.getDate()) {
                                return true;
                            }
                        }
                    }
                    return false;
                }
            };
        },

        stringUtils: function () {
            return {
                lowerCase: function (str) {
                    return str.toLowerCase();
                },
                upperCase: function (str) {
                    return str.toUpperCase();
                },
                convertToPascalCase: function (str) {
                    return str.replace(/(\w)(\w*)/g,
                        function (g0, g1, g2) {
                            return g1.toUpperCase() + g2.toLowerCase();
                        });
                },
                parse: function (str) {
                    var args = [].slice.call(arguments, 1),
                        i = 0;

                    return str.replace(/%%s/g, function () {
                        return args[i++];
                    });
                },
                emptyIfUndefined: function (value) {
                    return value == undefined ? "" : value;
                },
                stringToBoolean: function(valueStr){

                    if (!valueStr) {
                        return false;
                    }

                    if (typeof valueStr === "boolean") {
                        return valueStr;
                    }

                    switch(valueStr.toLowerCase().trim()){
                        case "true":
                        case "yes":
                        case "1":
                            return true;
                        case "false":
                        case "no":
                        case "0":
                        case null:
                            return false;
                        default:
                            return Boolean(valueStr);
                    }
                },
                include: function (container, value){
                    var returnValue = false;
                    var pos = container.indexOf(value);
                    if (pos >= 0) {
                        returnValue = true;
                    }
                    return returnValue;
                },
                startsWith: function(baseString, searchString, position) {
                    position = position || 0;
                    return baseString.indexOf(searchString, position) === position;
                },
                hashCode: function(s){
                  try {
                      var h = 0, l = s.length, i = 0;
                      if ( l > 0 )
                        while (i < l)
                          h = (h << 5) - h + s.charCodeAt(i++) | 0;
                    } catch (e) {
                    }
                  return h;
                },
                hashCodeObj: function(obj) {
                    try{
                        var hc = 0;
                        var chars = JSON.stringify(obj).replace(/\{|\"|\}|\:|,/g, '');
                        var len = chars.length;
                        for (var i = 0; i < len; i++) {
                            hc += (chars.charCodeAt(i) * 7);
                        }
                    } catch (e) {
                    }
                    return hc;
                },
                trimDuplicatedSpace: function (value) {
                    return value.replace(/^\s+|\s+$/gm, '').replace(/\s+/g, ' ');
                }
            };
        },

        nameUtils: function () {
            return {
                getFirstName: function (name) {
                    var arrayOfNames = name.trim().split(' ');
                    return arrayOfNames[0];
                }
            };
        },

        domUtils: function () {
            return {
                removeClass: function (elId, cssClass) {
                    $('#' + elId).removeClass(cssClass);
                },
                scrollToTop: function () {
                    window.scrollTo(0, 0);
                },
                scrollToElement: function (id) {
                    var headerHeight = 0;
                    if (document.getElementsByClassName('header')[0] !== undefined && document.getElementsByClassName('header')[0].children[2] !== undefined) {
                        headerHeight = document.getElementsByClassName('header')[0].children[2].getBoundingClientRect().height;
                    }

                    $([document.documentElement, document.body]).animate({
                        scrollTop: (($('#' + id).offset().top) - headerHeight)
                    }, {
                        duration: 900,
                        queue: false
                    });
                },
                getElementPaddingTop: function (el) {
                    var paddingTop = window.getComputedStyle(el, null).getPropertyValue('padding-top') || 0;
                    return parseInt(paddingTop.replace('px', ''));
                },
                changeLabelStyle: function (el, binding) {
                    if (el.value || el === document.activeElement) {
                        Array.prototype.forEach.call(el.parentNode.childNodes, function (item) {
                            if(item.tagName === 'LABEL'){
                                item.className = binding.value.labelClassFocus;
                                if(binding.value.labelStyleFocus){
                                    item.style = binding.value.labelStyleFocus;
                                }
                            }
                        });
                    } else {
                        Array.prototype.forEach.call(el.parentNode.childNodes, function (item) {
                            if(item.tagName === 'LABEL'){
                                item.className = binding.value.labelClass;
                                if(binding.value.labelStyle){
                                    item.style = binding.value.labelStyle;
                                }
                            }
                        });
                    }
                },
                equalHeights: function () {
                    var parentNode = document.getElementsByClassName('equalrows');
                    if (parentNode.length) {
                        var parentProps, childNodes;
                        var tallest = 0;

                        for (var i = 0; i < parentNode.length; i++) {
                            parentProps = parentNode[i].getAttribute("data-equal").split(';');

                            // Iterate through child nodes (even if there are multiple selectors)
                            for (var j = 0; j < parentProps.length; j++) {
                                childNodes = [].slice.call(parentNode[i].querySelectorAll(parentProps[j]));

                                tallest = 0;

                                // Return the tallest element height
                                for (var x = 0; x < childNodes.length; x++) {
                                    if (parentNode[i].id != "carousel")
                                        childNodes[x].style.height = ''; // Reset style
                                    var el = childNodes[x];
                                    var eleHeight = el.offsetHeight;
                                    tallest = (eleHeight > tallest ? eleHeight : tallest);
                                }

                                // Apply to all, inside that parent node
                                for (var x = 0; x < childNodes.length; x++) {
                                    if (tallest !== 0)
                                        childNodes[x].style.height = tallest + "px";
                                }
                            }
                        }
                    }
                },
                checkScriptExistence: function (script1) {
                    var scripts = document.getElementsByTagName('script'),
                        exists = false,
                        i = 0;

                    while(!exists && i < scripts.length) {
                        exists = scripts[i].getAttribute('src') === script1;
                        i++;
                    }

                    if (!exists) {
                        var varScript = document.createElement('script');
                        varScript.type = 'text/javascript';
                        varScript.src = script1;
                        varScript.async = true;
                        varScript.defer = true;
                        document.head.appendChild(varScript);
                    }
                }
            };
        },
        i18nUtils: function () {
            var me = this;
            return {
                getDictionary: function () {
                    var language = 'pt-pt';
                    if (window.location.pathname.indexOf('/en/') > -1) { //Para incluir novos idiomas, será necessário validar no pathname de acordo com a estrutura das páginas Vodafone
                        language = 'en-en';
                    }
                    return Granite.I18n.getDictionary(language);
                },

                getProperty: function (key) {

                    if (!key) {
                        return '';
                    }

                    var i18nDictionary = this.getDictionary();

                    var keyFiltered,
                        results,
                        regex = new RegExp('\\b' + key + '\\b');


                    results = i18nDictionary[key];

                    if (typeof results !== 'undefined') {
                        results = results.trim();
                    }

                    if (results || results === '') {
                        return results;
                    }

                    keyFiltered = me.filters().filterObjKey(i18nDictionary, regex);

                    if (keyFiltered) {

                        results = i18nDictionary[keyFiltered];

                        if (results) {
                            return results;
                        }
                    }

                    results = key;

                    return results;
                }
            };
        },

        contextUtils: function () {
            return {
                getActiveSegments: function () {

                    var resolvedSegments = ContextHub.SegmentEngine.SegmentManager.getResolvedSegments(),
                        activeSegments = [];

                    for (var i in resolvedSegments) {
                        activeSegments.push(resolvedSegments[i].name);
                    }

                    return activeSegments;
                },
                updateStore: function (s, d) {
                    var store = ContextHub.getStore(s);
                    store.update(d);
                },
                updateCtxData: function (data) {
                    var store = ContextHub.getStore('profilectx');
                    if(store) store.update(data);
                },
                updateCtxUser: function (data) {
                    var store = ContextHub.getStore('profilectx');
                    store.updateUser(data);
                },
                udpateCtxCtx: function (data) {
                    var store = ContextHub.getStore('profilectx');
                    store.updateContext(data);
                },
                updateUserType: function (data) {
                    var store = ContextHub.getStore('profilectx');
                    store.setItem('/user/businessType', data);
                },
                updateListener: function (handler) {
                    ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED, handler);
                },
                fillAux: function(item, asset, resp) {
                    var aux = {};
                    if (Object.keys(asset).length === 0 && asset.constructor === Object) {
                        aux = item;
                    } else {
                        aux = asset;
                    }

                    if (item.hasOwnProperty('delegator')) {
                        aux.delegator = item.delegator;
                    }

                    aux.accountId = resp.accountId;
                    aux.addedMonths = resp.addedMonths;
                    aux.motherAccount = resp.motherAccount;
                    aux.hasPaymentResponsability = resp.hasPaymentResponsability;
                    aux.customerType = resp.customerType;
                    aux.singleService = resp.singleService;
                    aux.pricingPlanPI = resp.pricingPlanPI;
                    aux.pricingPlanName = resp.pricingPlanName;
                    aux.hasSharedBundle = resp.hasSharedBundle;
                    aux.consolidatedAccount = resp.consolidatedAccount;
                    aux.isMotherAccount = resp.isMotherAccount;
                    if(resp.serviceType) {
                        aux.profile = resp.serviceType;
                    }
                    return aux;
                }
            };
        },

        arrayUtils: function () {
            return {
                isArrayDefined: function (arr) {
                    return (arr && Object.keys(arr).length > 0);
                }
            };
        },

        filters: function () {
            return {
                filterObjKey: function (obj, filter) {
                    var key, keys = [];
                    for (key in obj) {
                        if (obj.hasOwnProperty(key) && filter.test(key)) {
                            keys.push(key);
                        }
                    }
                    return keys;
                }
            };
        },

        cloneObj: function (obj) {
            var copy;

            // Handle the 3 simple types, and null or undefined
            if (null === obj || "object" !== typeof obj) return obj;

            // Handle Date
            if (obj instanceof Date) {
                copy = new Date();
                copy.setTime(obj.getTime());
                return copy;
            }

            // Handle Array
            if (obj instanceof Array) {
                copy = [];
                for (var i = 0, len = obj.length; i < len; i++) {
                    copy[i] = this.cloneObj(obj[i]);
                }
                return copy;
            }

            // Handle Object
            if (obj instanceof Object) {
                copy = {};
                for (var attr in obj) {
                    if (obj.hasOwnProperty(attr)) copy[attr] = this.cloneObj(obj[attr]);
                }
                return copy;
            }

            throw new Error("Unable to copy obj! Its type isn't supported.");
        },

        isEquivalent: function (a, b) {
            // Create arrays of property names
            var aProps = Object.getOwnPropertyNames(a);
            var bProps = Object.getOwnPropertyNames(b);

            // If number of properties is different,
            // objects are not equivalent
            if (aProps.length != bProps.length) {
                return false;
            }

            for (var i = 0; i < aProps.length; i++) {
                var propName = aProps[i];

                // If values of same property are not equal,
                // objects are not equivalent
                if (propName !== '__ob__') {
                    if (a[propName] !== b[propName]) {
                        return false;
                    }
                }

            }

            // If we made it this far, objects
            // are considered equivalent
            return true;
        }
    }
};

var urlUtils = {
    methods: {
        getParameterByName: function (name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        },

        saveUrlParameterByName: function (targetObj, paramKey, url) {
            var paramValue = this.getParameterByName(paramKey, url);
            if (paramValue) {
                targetObj[paramKey] = paramValue;
            }
            return targetObj;
        },

        updateUrlParameters: function (urlParams) {
            var path = window.location.pathname;
            var urlParamsUpdated = '';
            var paramsKeys = Object.keys(urlParams);
            for (var i = 0; i < paramsKeys.length; i++) {
                urlParamsUpdated = this.appendUrlParameter(urlParamsUpdated, paramsKeys[i], urlParams[paramsKeys[i]]);
            }

            history.replaceState({}, document.title, path + urlParamsUpdated);

            //Set SFUrl for eShop - stay in the same Page after Login
            if (this.isEshop() && SFUrl){
                SFUrl.sru = window.location.href;
            }
        },

        appendUrlParameter: function (urlParamsUpdated, key, value) {
            if (key && value) {
                if (urlParamsUpdated === '') {
                    urlParamsUpdated = '?';
                } else {
                    urlParamsUpdated = urlParamsUpdated + '&';
                }
                urlParamsUpdated = urlParamsUpdated + key + '=' + value;
            }
            return urlParamsUpdated;
        },

        isEnvironment: function(host){
            var hostname = window.location.hostname;
            return (hostname.includes(host));
        },

        getDomain: function() {
            var hostname = document.location.hostname;
            if (hostname.indexOf('.') != -1) {
                hostname = hostname.substr(hostname.indexOf('.'), hostname.length);
            }
            return hostname;
        },
        isEshop: function(){
            var regex = (/digital-sites\/pt\/loja[^s]/);
            return typeof propertiesPath !== 'undefined' && regex.test(propertiesPath);
        },
        removeObjectParams: function(params){
            if(!params) return;
            let me = this;
            newUrl = window.location.href;
            Object.keys(params).forEach(function(key){
                newUrl = me.removeParam(key,newUrl);
            });
            window.history.replaceState(null, null, newUrl);
        },
        removeParam: function(key, sourceURL) {
            if(!key || !sourceURL) return;
            var rtn = sourceURL.split("?")[0],
                param,
                params_arr = [],
                queryString = (sourceURL.indexOf("?") !== -1) ? sourceURL.split("?")[1] : "";
            if (queryString !== "") {
                params_arr = queryString.split("&");
                for (var i = params_arr.length - 1; i >= 0; i -= 1) {
                    param = params_arr[i].split("=")[0];
                    if (param === key) {
                        params_arr.splice(i, 1);
                    }
                }
                if(params_arr.length > 0){
                    rtn = rtn + "?" + params_arr.join("&");
                }
            }
            return rtn;
        },
        objectFromParams: function(){
            try{
                let result = {};
                params = window.location.search.replace("?","");
                params = params.split("&");
                params.forEach(function(it){
                    let keyValue = it.split("=");
                    result[keyValue[0]] = decodeURIComponent(keyValue[1]);
                });
                return result;
            }catch(e){}
        }

    }
};

var PartnersBus = new Vue({
    mixins: [requestHandler, utils, requestValidations, urlUtils],
    data: {
            limitNumber: 6,
            portfolio: {
                totalPortfolio: 0,
                portfolioItems: []
            },
            portfolioPending: {
                portfolioPendingItems: []
            },
            limitedItems: [],
            activePortfolioItem: 0,
            activePortfolioAsset: null,
            activePortfolio: false,
            portfolioMobileExists: false,
            portfolioDesktopToMobile: false,
            searchInput: '',
            validInput: false,
            onlyNumbers: false,
            withoutResults: false,
            hasAssets: [],
            assets: [],
            openSearchClick: false,
            constants: {
                ASSETS: 'assets',
                CHANGE_SELECTED_ITEM: "changeSelectedItem",
                DELEGATOR_ID: 'delegatorId',
                DELEGATOR: 'delegator',
                INSIDE_ACCOUNT: 'insideAccount',
                BUSINESS: 'BUSINESS',
                ACCOUNT: 'ACCOUNT',
                ADDRESS: 'address',
                SINAL_MAX_NAME: 'sinal_max_friendly_name',
                FIXED_SERVICE_NAME: 'fixed_service_friendly_name',
                BUNDLE_NAME: 'blm_friendly_name',
                ACCOUNT_NAME: 'account_friendly_name',
                MOBILE_SERVICE_NAME: 'mobile_service_friendly_name',
                MOBILE_MY_SERVICE_LABEL:'mobile_my_services_label',
                SERVICE_DELEGATOR: 'service_delegator',
                ACCOUNT_DELEGATOR: 'account_delegator',
                CHILD_ACCOUNT: 'childAccount',
                PENDING_STATUS: 'PENDING'
            },
    },
    created: function() {
        window.addEventListener('beforeunload', this.leaving);
    },
    methods: {
        getContext: function (returnOnlyPortfolio, successCb, errorCb) {
            if(this.portfolio && this.portfolio.portfolioItems){
                this.portfolio.portfolioItems = [];
            }
            if (Cookies.get('assets')) {
                this.hasAssets = JSON.parse(Cookies.get('assets'));
                Cookies.remove('assets', { domain: this.getDomain() });
            }else{
                this.hasAssets = this.assets;
            }
            this.myVdfGet('user', 'getPortfolio', {}, function(response) {
                if (this.requestValidator().validateStatusCodeAndErrors(response)) {
                    var portfolioItems = response.body.portfolioTreeDTO;
                    if (portfolioItems.length > 0) {
                        for (var i = 0; i < portfolioItems.length; i++) {
                            if (portfolioItems[i].status === this.constants.PENDING_STATUS) {
                                this.portfolioPending.portfolioPendingItems.push(portfolioItems[i]);
                            } else {
                                this.portfolio.portfolioItems.push(portfolioItems[i]);
                                this.portfolio.totalPortfolio++;
                            }
                        }
                    }
                    this.arrangePortfolio(returnOnlyPortfolio, successCb, errorCb);
                }
            }, function() {
                if(returnOnlyPortfolio && errorCb){
                    errorCb();
                }else{
                    return false;
                }
            }, this);
        },

        arrangePortfolio: function(returnOnlyPortfolio, successCb, errorCb) {
            var childAccount;
            var selectFirst = false;
            if(localStorage.getItem(this.constants.CHILD_ACCOUNT) !== null){
                    childAccount = JSON.parse(localStorage.getItem(this.constants.CHILD_ACCOUNT));
            }else{
                try{
                    selectFirst = (this.portfolio.portfolioItems.filter(function (item) {
                        return item.isSelected
                    }).length === 0);
                }catch(e){
                    selectFirst = false;
                }
            }
            for (var i = 0; i < this.portfolio.portfolioItems.length; i++) {
                if (this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.MOBILE_MY_SERVICE_LABEL ||
                    this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.MOBILE_SERVICE_NAME ||
                    this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.ACCOUNT_NAME ||
                    this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.BUNDLE_NAME ||
                    this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.FIXED_SERVICE_NAME ||
                    this.portfolio.portfolioItems[i].friendlyName.toLowerCase() === this.constants.SINAL_MAX_NAME) {
                    this.portfolio.portfolioItems[i].friendlyName = this.i18nUtils().getProperty(this.portfolio.portfolioItems[i].friendlyName.toLowerCase());
                }

                if (selectFirst || this.portfolio.portfolioItems[i].isSelected || childAccount !== undefined && this.portfolio.portfolioItems[i].assetName === childAccount.motherAccount) {
                    selectFirst = false;
                    this.portfolio.portfolioItems[i].isSelected = true;
                    if (this.hasAssets.length > 0 && this.portfolio.portfolioItems[i].profile === this.constants.ACCOUNT) {
                        this.portfolio.portfolioItems[i].assets = this.hasAssets;

                        if (!this.portfolio.portfolioItems[i].open) {
                            this.portfolio.portfolioItems[i].open = true;
                            this.$forceUpdate();
                        }

                        var selectedAsset = {};
                        for (var k = 0; k < this.hasAssets.length; k++) {
                            if (this.hasAssets[k].isSelected) {
                                selectedAsset = this.hasAssets[k];
                            }
                        }

                        this.selectItemAssetFromPortfolio(i, this.portfolio.portfolioItems[i], selectedAsset, returnOnlyPortfolio, successCb, errorCb);
                    } else {
                        this.activePortfolioItem = i;
                        this.selectedItemInPortfolio(i, this.portfolio.portfolioItems, this.portfolio.portfolioItems[i], {}, false, false, null, returnOnlyPortfolio, successCb, errorCb);
                        if (this.portfolio.portfolioItems[i].profile === this.constants.ACCOUNT) {
                            this.portfolio.portfolioItems[i].open = false;
                            this.portfolio.portfolioItems[i].assets = [];
                        }

                        this.portfolio.portfolioItems[i].size = 0;
                    }
                } else {
                    if (this.portfolio.portfolioItems[i].profile === this.constants.ACCOUNT) {
                        this.portfolio.portfolioItems[i].open = false;
                        this.portfolio.portfolioItems[i].assets = [];
                    }

                    this.portfolio.portfolioItems[i].size = 0;
                }

                this.portfolio.portfolioItems[i].photo = '';

                if (this.portfolio.portfolioItems[i].hasOwnProperty(this.constants.ADDRESS)) {
                    this.portfolio.portfolioItems[i].fullName = this.portfolio.portfolioItems[i].assetName + ' - ' + this.portfolio.portfolioItems[i].address;
                } else {
                    this.portfolio.portfolioItems[i].fullName = this.portfolio.portfolioItems[i].assetName;
                }

                if (this.portfolio.portfolioItems[i].hasOwnProperty(this.constants.DELEGATOR_ID) && this.portfolio.portfolioItems[i].delegatorId !== '') {
                    if (this.portfolio.portfolioItems[i].profile === this.constants.ACCOUNT) {
                        this.portfolio.portfolioItems[i].delegator = this.i18nUtils().getProperty(this.constants.ACCOUNT_DELEGATOR);
                    } else {
                        this.portfolio.portfolioItems[i].delegator = this.i18nUtils().getProperty(this.constants.SERVICE_DELEGATOR);
                    }
                }
            }

            if (this.portfolioPending.portfolioPendingItems.length > 0) {
                for (var i = 0; i < this.portfolioPending.portfolioPendingItems.length; i++) {
                    if (this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.MOBILE_MY_SERVICE_LABEL ||
                        this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.MOBILE_SERVICE_NAME ||
                        this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.ACCOUNT_NAME ||
                        this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.BUNDLE_NAME ||
                        this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.FIXED_SERVICE_NAME ||
                        this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase() === this.constants.SINAL_MAX_NAME) {
                        this.portfolioPending.portfolioPendingItems[i].friendlyName = this.i18nUtils().getProperty(this.portfolioPending.portfolioPendingItems[i].friendlyName.toLowerCase());
                    }

                    if (this.portfolioPending.portfolioPendingItems[i].hasOwnProperty(this.constants.ADDRESS)) {
                        this.portfolioPending.portfolioPendingItems[i].fullName = this.portfolioPending.portfolioPendingItems[i].assetName + ' - ' + this.portfolioPending.portfolioPendingItems[i].address;
                    } else {
                        this.portfolioPending.portfolioPendingItems[i].fullName = this.portfolioPending.portfolioPendingItems[i].assetName;
                    }
                }
            }
        },

        selectedItemInPortfolio: function(i, portfolioItems, item, asset, account, fromPortfolioClick, accountId, returnOnlyPortfolio, successCb, errorCb) {
            if(returnOnlyPortfolio){
                this.setAssets();
                var selected = portfolioItems[i];
                portfolioItems.splice(i,1);
                portfolioItems.unshift(selected);
                successCb(portfolioItems);
            }else{
                var request = {},
                renderLocationPath = '',
                imageToReplacePath = '';

                if (Object.keys(asset).length === 0 && asset.constructor === Object) {
                    request = {
                        id: item.id,
                        isBackOffice: false,
                        inAccount: account,
                        isAccount: item.profile === this.constants.ACCOUNT ? true : false,
                        assetName: item.assetName,
                        motherAccount: accountId,
                        profile: item.profile,
                        status: item.status,
                        insideAccount : item.insideAccount
                    };
                } else {
                    request = {
                        id: asset.id,
                        isBackOffice: false,
                        inAccount: account,
                        isAccount: asset.profile === this.constants.ACCOUNT ? true : false,
                        assetName: asset.assetName,
                        motherAccount: accountId,
                        profile: asset.profile,
                        status: asset.status,
                        insideAccount : asset.insideAccount
                    };
                }

                this.myVdfPost('portfolio', 'selectPortfolioItem', request, function(response) {
                    if (this.requestValidator().validateStatusCodeAndErrors(response)) {
                        var resp = response.body,
                            aux = {};

                        aux = this.contextUtils().fillAux(item, asset, resp);

                        let selectedItemMyStore = aux;
                        selectedItemMyStore.permissions = response.body.permissions;
                        myStore.dispatch(this.constants.CHANGE_SELECTED_ITEM,selectedItemMyStore);

                        var multiBusiness = resp.customerType === this.constants.BUSINESS && aux.profile !== this.constants.ACCOUNT && !resp.singleService;

                        this.contextUtils().updateCtxData({
                           user: {
                               firstName: resp.userFirstName,
                               lastName: resp.userLastName,
                               businessType: resp.customerType,
                               gender: resp.userGender,
                               age: resp.userAge
                           },
                           context: {
                               item: aux.assetName,
                               parent: aux.accountId,
                               pricingPlanPI: aux.pricingPlanPI,
                               pricingPlanName: aux.pricingPlanName !== undefined ? aux.pricingPlanName.toUpperCase() : '' ,
                               serviceType: aux.profile,
                               identified: resp.isIdentified,
                               insideAccount: aux.hasOwnProperty(this.constants.INSIDE_ACCOUNT) && aux.insideAccount ? true : false,
                               isPrePaid: resp.isPrePaid,
                               status: aux.status,
                               isDelegator: item.hasOwnProperty(this.constants.DELEGATOR) ? true :  false,
                               singleService: aux.singleService,
                               consolidatedAccount: aux.consolidatedAccount,
                               hasPaymentResponsability: aux.hasPaymentResponsability,
                               multiBusiness: multiBusiness,
                               isMotherAccount: aux.isMotherAccount,
                               isDelegated:  aux.hasOwnProperty(this.constants.DELEGATOR_ID) && aux.delegatorId != '' ? true : false
                           }
                       });
                       this.setAssets();
                       var selected = portfolioItems[i];
                       portfolioItems.splice(i,1);
                       portfolioItems.unshift(selected);
                       if(successCb){
                           successCb();
                       }else{
                           SessionBus.alreadyHasContext(true);
                       }
                    }
                }, function() {
                    myStore.dispatch(this.constants.CHANGE_SELECTED_ITEM,{});
                    if(errorCb){
                        errorCb();
                    }else{
                        SessionBus.alreadyHasContext(false);
                        return false;
                    }
                }, this);
            }
        },

        selectItemAssetFromPortfolio: function(i, item, asset, returnOnlyPortfolio, successCb, errorCb) {
            var previousPortfolioAsset = this.activePortfolioAsset;
            this.activePortfolioItem = this.findItemPosition('id', item.id);
            this.activePortfolioAsset = this.findAssetPosition(this.activePortfolioItem, asset.id);

            if (typeof portfolioMobile !== 'undefined') {
                portfolioMobile.$data.activePortfolioItem = this.activePortfolioItem;
                portfolioMobile.$data.activePortfolioAsset = this.activePortfolioAsset;
            }

            this.changeSelectedItemInPortfolio(this.activePortfolioItem, this.activePortfolioAsset);

            this.portfolio.portfolioItems[this.activePortfolioItem].assets[this.activePortfolioAsset].insideAccount = true;

            this.selectedItemInPortfolio(i, this.portfolio.portfolioItems, this.portfolio.portfolioItems[this.activePortfolioItem], this.portfolio.portfolioItems[this.activePortfolioItem].assets[this.activePortfolioAsset], true, true, this.portfolio.portfolioItems[this.activePortfolioItem].id, returnOnlyPortfolio, successCb, errorCb);
        },

        findItemPosition: function(attr, itemId) {
            for (var i = 0; i < this.portfolio.portfolioItems.length; i++) {
                if (this.portfolio.portfolioItems[i][attr] === itemId) {
                    return i;
                }
            }
        },

        findAssetPosition: function(itemIndex, assetId) {
            for (var j = 0; j < this.portfolio.portfolioItems[itemIndex].assets.length; j++) {
                if (this.portfolio.portfolioItems[itemIndex].assets[j].id === assetId) {
                    return j;
                }
            }
        },
        changeSelectedItemInPortfolio: function(item, asset) {
            for (var i = 0; i < this.portfolio.portfolioItems.length; i++) {
                this.portfolio.portfolioItems[i].isSelected = false;
                if (this.portfolio.portfolioItems[i].hasOwnProperty(this.constants.ASSETS)) {
                    for (var j = 0; j < this.portfolio.portfolioItems[i].assets.length; j++) {
                        this.portfolio.portfolioItems[i].assets[j].isSelected = false;
                    }
                }
            }

            if (asset === null || typeof asset === 'undefined') {
                this.portfolio.portfolioItems[item].isSelected = true;
            } else {
                this.portfolio.portfolioItems[item].assets[asset].isSelected = true;
            }
        },
        leaving: function(e) {
            var assets = [];
            if (this.activePortfolioAsset !== null && this.portfolio.portfolioItems[this.activePortfolioItem].assets && this.portfolio.portfolioItems[this.activePortfolioItem].assets.length > 0) {
                for (var i=0; i < this.portfolio.portfolioItems[this.activePortfolioItem].assets.length; i++) {
                    delete this.portfolio.portfolioItems[this.activePortfolioItem].assets[i].motherAccountPortfolioItem;
                    if(ContextHub.getItem("/store/profilectx").context.item === this.portfolio.portfolioItems[this.activePortfolioItem].assets[i].assetName){
                        assets.push(this.portfolio.portfolioItems[this.activePortfolioItem].assets[i]);
                    }
                }
                Cookies.set('assets', JSON.stringify(assets), { domain: this.getDomain() });
            }else if (this.assets.length > 0){
                for (var i=0; i < this.assets.length; i++) {
                    delete this.assets[i].motherAccountPortfolioItem;
                    if(ContextHub.getItem("/store/profilectx").context.item === this.assets[i].assetName){
                        assets.push(this.assets[i]);
                    }
                }
                Cookies.set('assets', JSON.stringify(assets), { domain: this.getDomain() });
            }
        },
        setAssets: function(){
            if (this.activePortfolioAsset !== null && this.portfolio.portfolioItems[this.activePortfolioItem].assets) {
                this.assets = this.portfolio.portfolioItems[this.activePortfolioItem].assets;
            }
        }
    }
});

var validations = {
    data: function () {
        return {
            nameRegex: (/^([A-Za-zÀ-Üà-ü]{2,})\s+([A-Za-zÀ-Üà-ü]{2,})([A-Za-zÀ-Üà-ü\s]*)$/),
            emailRegex: (/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),
            addressRegex: (/^[A-Za-zÀ-Üà-ü0-9\'\s\.ºª,\-_+&/|]+$/),
            dotMatrixRegex: (/^[A-Za-z0-9\'\s\.áàãâäéèêëíìîïóòõôöúùûüçñÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÖÔÚÙÛÜÇÑºª,/\/-]+$/),
            numberRegex: (/^(9[1,2,3,6][0-9]{7})$/),
            fixedNumberRegex: (/^([2,3][0-9]{8})$/),
            internationalNumberRegex: (/^([0-9]{6,15})$/),
            operatorRegex: (/^[A-Za-z\s]+$/),
            cp4Regex: (/^([0-9]{4})$/),
            cp3Regex: (/^([0-9]{3})$/),
            cpRegex: (/^([0-9]{4}[-][0-9]{3})$/),
            cvpRegex: (/^([0-9]{7}[0-9A-Za-z]{4}[0-9])$/),
            onlyNumbers: (/^[0-9]+$/),
            noSpaces : (/^\S*$/),
            twoWordsMin: (/^(\w.+\s).+$/),
            ptNumber: (/^[9]\d{8}$/),
            lettersSpacesAccents: (/^[ a-zA-ZÀ-ÿ\u00f1\u00d1]*$/)
        }
    },

    methods: {
        nameValidation: function (name) {
            return this.nameRegex.test(name);
        },
        phoneNumberValidation: function (phoneNumber) {
            return this.numberRegex.test(phoneNumber);
        },
        internationalPhoneNumberValidation: function (phoneNumber) {
            return this.internationalNumberRegex.test(phoneNumber);
        },
        emailValidation: function (email) {
            return this.emailRegex.test(email);
        },
        addressValidation: function(address) {
            return address !== null && this.addressRegex.test(this.stringUtils().trimDuplicatedSpace(address));
        },
        dotMatrixValidation: function (dotMatrix) {
            return dotMatrix !== null && this.dotMatrixRegex.test(this.stringUtils().trimDuplicatedSpace(dotMatrix));
        },
        fixedNumberValidation: function(fixedNumber) {
            return this.fixedNumberRegex.test(fixedNumber);
        },
        otherProviderValidation: function (otherProvider) {
            return otherProvider !== null && this.operatorRegex.test(this.stringUtils().trimDuplicatedSpace(otherProvider));
        },
        cp4Validation: function (cp4) {
            return this.cp4Regex.test(cp4);
        },
        cp3Validation: function (cp3) {
            return this.cp3Regex.test(cp3);
        },
        cvpFormatValidation: function (cvp) {
            return this.cvpRegex.test(cvp);
        },
        isEmpty: function (value) {
            return value === '';
        }
    }
};


var navigation = {

    methods: {

        getAnalyticsPage: function () {
            return this.getPageName();
        },

        getAnalyticsSection: function (section) {
            if (section !== undefined) {
                return section;
            } else {
                return this.getPageName();
            }
        },

        getPageName: function () {
            var pathName = window.location.pathname,
                clearPathName = pathName.slice(1, pathName.length);
            return clearPathName;
        },
        getShortPageName: function () {
            var name = this.getCurrentPage();
            try {
                return name.split(".")[0];
            } catch (e) {
                return name;
            }
        },
        updateNavigation: function () {
            if (localStorage.getItem('navigationHistory') !== null) {
                var pageName = this.getPageName();
                this.selectInNavigationHistory(pageName);
            }
        },

        initializeNavigation: function (initialPage) {
            localStorage.setItem('navigationHistory', JSON.stringify([]));

            if (initialPage !== undefined && typeof initialPage === 'string') {
                var navigationH = JSON.parse(localStorage.getItem('navigationHistory'));

                navigationH.push(initialPage);
                localStorage.setItem('navigationHistory', JSON.stringify(navigationH));
            }
        },

        selectInNavigationHistory: function (page) {
            var navigationH = JSON.parse(localStorage.getItem('navigationHistory'));

            if (navigationH !== undefined && page !== undefined && typeof page === 'string') {
                var pageIndexInNav = navigationH.indexOf(page);

                if (pageIndexInNav > -1) {
                    navigationH = navigationH.slice(0, pageIndexInNav + 1);
                } else {
                    navigationH.push(page);
                }

                localStorage.setItem('navigationHistory', JSON.stringify(navigationH));
            }
        },

        addToNavigationHistory: function (page) {
            var navigationH = JSON.parse(localStorage.getItem('navigationHistory'));

            if (navigationH !== undefined && page !== undefined && typeof page === 'string') {
                navigationH.push(page);
                localStorage.setItem('navigationHistory', JSON.stringify(navigationH));
            }
        },

        getNavigationHistory: function () {
            return JSON.parse(localStorage.getItem('navigationHistory'));
        },

        getLastPage: function () {
            var navigationH = JSON.parse(localStorage.getItem('navigationHistory'));

            if (navigationH !== undefined && navigationH.length >= 2) {
                return navigationH[navigationH.length - 2];
            }
        },


        getCurrentPage: function () {
            var navigationH = JSON.parse(localStorage.getItem('navigationHistory'));

            if (navigationH === undefined || navigationH === null) {
                this.initializeNavigation('home.html');
                navigationH = JSON.parse(localStorage.getItem('navigationHistory'));
            }

            if (navigationH !== undefined && navigationH !== null && navigationH.length >= 1) {
                return navigationH[navigationH.length - 1];
            }
        },

        redirectPage: function (nextPage, previousPage) {
            var originPage = previousPage !== undefined ? previousPage : this.getCurrentPage();
            var redirectPage = window.location.pathname.replace(originPage, nextPage + '.html');

            window.location.pathname = redirectPage;
        },
        redirectPageWithParams: function(page,params){
            params = requestHandler.methods.getAsUriParameters(params);
            window.location.href = window.location.origin + "/" + window.location.pathname.replace(window.location.pathname, page + '?' + params);
        },
        redirectToMyVdfPage: function (nextPage, previousPage) {
            window.location.href = window.location.origin + "/" + window.location.pathname.replace(window.location.pathname, nextPage + '.html');
        },
        redirectAfterLogin: function(){
            window.location.href = window.location.origin + "/" + window.location.pathname.replace(window.location.pathname,  'home.html?loginSuccess=true');
        },
        redirectToMyVdfReportsPage: function (reportsPage) {
            window.location.href = window.location.origin + "/" + window.location.pathname.replace(window.location.pathname, 'relatorios/consulta-relatorios.html?rp=' + reportsPage);
        },
        redirectToCheckCoverageResultsPage: function (pn, params, addressObj) {
            var sitesPath = "/content/digital-sites/pt/checkCoverageResults.html?";
            localStorage.setItem("pn", pn);
            localStorage.setItem("address", JSON.stringify(addressObj));
            window.location.href = window.location.origin + sitesPath + params;
        },

        isLoggedIn: function () {
            requestHandler.methods.requestGet("login", "isLogged", {},
                function (response) {
                    if (requestValidations.methods.requestValidator().validateStatusCode(response)) {
                        utag_data.visitor_login_status = response.body ? "Logged In" : "Logged out";
                    } else {
                        utag_data.visitor_login_status = "Logged out";
                    }
                },
                function () {
                    utag_data.visitor_login_status = "Logged out";
                }, new Vue());
        }
    }
};
String.prototype.format = function () {
    var args = arguments;
    return this.replace(/{(\d+)}/g, function (match, number) {
        return typeof args[number] != 'undefined' ? args[number] : match;
    });
};
window.onload = this.navigation.methods.updateNavigation();

if (typeof (tealiumBus) == "undefined") {
    var tealiumBus = new Vue();
}

if (typeof (utag_data) == "undefined") {
    var utag_data = {
        page_name: this.navigation.methods.getAnalyticsPage(),
        page_section: this.navigation.methods.getAnalyticsSection()
    };
}

var loadingAnimations = {

    methods: {
        /*
        --------------------------  props  --------------------------
        -------------------------------------------------------------
        -   renderLocation - string - div name for render element   -
        -   path - string - relative svg location                   -
        -   defaultColor - boolean - must have if don't have path   -
        -   style - string - style inline to apply                  -
        -   cssClass - string - css class name to apply             -
        -   withMask - boolean - by default true                    -
        -------------------------------------------------------------
        */
        loadGeneralAnimation: function (props) {
            if(myStore && myStore.getters.hasErrorLoadingPortfolio){
                return;
            }

            if (!document.getElementById(props.renderLocation + '-animation')) {
                if (!props.hasOwnProperty('path')) {
                    if (props.hasOwnProperty('defaultColor')) {
                        props.path = props.defaultColor ? '/content/dam/digital-commons/vodafone-spinner.json' : '/content/dam/digital-commons/vodafone-spinner-white.json';
                    } else {
                        return;
                    }
                }

                if (props.hasOwnProperty('withMask')) {
                    if (props.withMask) {
                        this.addMask();
                    }
                } else {
                    this.addMask();
                }

                if (document.getElementById(props.renderLocation)) {
                    document.getElementById(props.renderLocation).insertAdjacentHTML('beforeend', '<div id="' + props.renderLocation + '-animation" style="' + props.style + '" class="' + props.cssClass + '"></div>');

                    bodymovin.loadAnimation({
                        container: document.getElementById(props.renderLocation + '-animation'),
                        path: props.path,
                        renderer: 'svg',
                        loop: true,
                        autoplay: true
                    });
                }
            }
        },

        /*
        --------------------------  props  --------------------------
        -------------------------------------------------------------
        -   imageToReplace - string - div name for replace          -
        -------------------------------------------------------------
        */
        loadAnimationReplaceImage: function (props) {
            if (!document.getElementById(props.renderLocation + '-animation')) {
                if (!props.hasOwnProperty('path')) {
                    if (props.hasOwnProperty('defaultColor')) {
                        props.path = props.defaultColor ? '/content/dam/digital-commons/vodafone-spinner.json' : '/content/dam/digital-commons/vodafone-spinner-white.json';
                    } else {
                        return;
                    }
                }

                if (props.hasOwnProperty('withMask')) {
                    if (props.withMask) {
                        this.addMask();
                    }
                } else {
                    this.addMask();
                }

                document.getElementById(props.imageToReplace).style.display = 'none';

                if (document.getElementById(props.renderLocation)) {
                    document.getElementById(props.renderLocation).insertAdjacentHTML('beforeend', '<div id="' + props.renderLocation + '-animation" style="' + props.style + '" class="' + props.cssClass + '"></div>');

                    bodymovin.loadAnimation({
                        container: document.getElementById(props.renderLocation + '-animation'),
                        path: props.path,
                        renderer: 'svg',
                        loop: true,
                        autoplay: true
                    });
                }
            }
        },

        removeAnimation: function (renderLocation) {
            if (document.getElementById(renderLocation + '-animation')) {
                document.getElementById(renderLocation + '-animation').remove();

                if (document.getElementById('mask')) {
                    this.removeMask();
                }
            }
        },

        removeAnimationReplaceImage: function (renderLocation, imageToReplace, displayMode, stopDisplay) {
            if (document.getElementById(renderLocation + '-animation')) {
                document.getElementById(renderLocation + '-animation').remove();

                if (document.getElementById('mask')) {
                    this.removeMask();
                }

                if(stopDisplay != null){
                    document.getElementById(imageToReplace).style.display = stopDisplay != null ? stopDisplay : 'inline';
                }else{
                    document.getElementById(imageToReplace).style.display = displayMode != null ? displayMode : 'block';
                }


            }
        },

        addMask: function () {
            if (document.getElementById('mask')) {
                document.getElementById('mask').classList.add('mask');
            }
        },

        removeMask: function () {
            if (document.getElementById('mask')) {
                $('#mask').removeClass('mask').addClass('atf_mask_ended').removeClass('atf_mask_ended');

            }
        }
    }
};

var deviceTypeUtils = {
    methods: {
        isMobile: function () {
            if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|iOSMCareApp/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent || navigator.vendor || window.opera).substr(0, 4))) {
                return true;
            }
            return false;
        },
        deviceType: function () {
            var screenWidth = $(window).width();
            if (screenWidth <= 639) {
                return 'phone';
            } else if (screenWidth > 639 && screenWidth <= 970) {
                return 'tablet';
            } else {
                return 'desktop';
            }
        },
        isFirefox: function (){
            return navigator.userAgent.indexOf("Firefox") > 0;
        },
        isIE: function() {
            return (navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true );
        },
        isLandscape: function() {
            return (window.orientation === 90 || window.orientation === -90);
        }
    }
};

var comparatorUtils = {
    methods: {
        isProductInComparator: function (id) {
            if (Cookies.get('productsInComparator') && JSON.parse(Cookies.get('productsInComparator')) &&
                JSON.parse(Cookies.get('productsInComparator'))[id]) {
                return true;
            }
            return false;
        }
    }
};

var scrollUtils = {
    methods: {
        goToPointer: function (pointer) {
            $('body,html').animate({
                scrollTop: pointer
            }, 900);
        }
    }
};

var searchUtils = {
    data: function () {
        return {
            totalResults: 0
        }
    },
    methods: {
        /*
        --------------------------  searchParams  --------------------------
        -------------------------------------------------------------
        -   searchTerm = The text you want to search for.
        -   perPage = Amount of search results in the response. Use together with page to batch the results.
        -   page = The page index of search results to return. Use together with perPage to batch the results.
        -   period = The startDate and endDate for the search scope   
        -------------------------------------------------------------
        */
        searchRequest: function (searchParams) {
            var engineId =  searchParams.engineId ? searchParams.engineId : "10757";
            var me = this;
            searchParams.page = (searchParams.page) ? searchParams.page : 1;
            var url = "https://api-eu1.cludo.com/api/v3/1977/".concat(engineId).concat("/search");
            var xmlhttp = this.buildAuthorizationHeaders('POST', url);
            var body = {
                "query": searchParams.searchTerm ? searchParams.searchTerm : '*',
                "operator": "or",
                "filters": {
                    "date": ["Date_date", searchParams.period ? searchParams.period.startDate : '', searchParams.period ? searchParams.period.endDate : '']
                },
                "sort": {
                    "Date_date": "desc"
                },
                "responseType": "JsonObject",
                "perPage": searchParams.perPage,
                "page": searchParams.page
            }
            xmlhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    me.buildResult(JSON.parse(this.responseText), searchParams.returnArray, me);
                } else if (this.readyState == 4) {
                    me.result('error');
                }
            };
            xmlhttp.send(JSON.stringify(body));
        },
        totalResultsRequest: function (engineNr) {
            var engineId =  engineNr ? engineNr : "10757";
            var me = this;
            var url = "https://api-eu1.cludo.com/api/v3/1977/".concat(engineId).concat("/search");
            var xmlhttp = this.buildAuthorizationHeaders('POST', url);
            var body = {
                "query": '*',
                "operator": "or",
                "filters": {},
                "responseType": "JsonObject",
                "perPage": 1,
                "page": 1
            }
            xmlhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    me.setTotalResults(JSON.parse(this.responseText).TotalDocument);
                } else if (this.readyState == 4) {
                    me.setTotalResults(0);
                }
            };
            xmlhttp.send(JSON.stringify(body));
        },
        autoCompleteRequest: function (text, engineNr) {
            var engineId =  engineNr ? engineNr : "10757";
            var me = this;
            var url = "https://api-eu1.cludo.com/api/v3/1977/".concat(engineId).concat("/autocomplete?text=").concat(text);
            var xmlhttp = this.buildAuthorizationHeaders('GET', url);
            xmlhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    me.autoCompleteResult(JSON.parse(this.responseText));
                } else if (this.readyState == 4) {
                    me.autoCompleteResult([]);
                }
            };
            xmlhttp.send();
        },
        buildResult: function (response) {
            var res = [];
            var docs = [];
            if (!this.isEmpty(response)) {
                docs = response.TypedDocuments;
                this.totalResults = response.TotalDocument;
                if (docs && docs.length > 0) {
                    for (var i = 0; i < docs.length; i++) {
                        if (docs[i].FieldNames && docs[i].FieldNames.length > 0 && docs[i].Fields) {
                            var fields = [];
                            for (var j = 0; j < docs[i].FieldNames.length; j++) {
                                fields.push(docs[i].FieldNames[j]);
                            }
                            if (fields.length > 0) {
                                var obj = {};
                                for (var j = 0; j < fields.length; j++) {
                                    obj[fields[j].toLowerCase()] = docs[i].Fields[fields[j]].Value;
                                    obj.selected = false;
                                }
                                if (!this.isEmpty(obj)) {
                                    res.push(obj);
                                }
                            }
                        }
                    }
                }
                this.result(res);
            }
        },
        buildAuthorizationHeaders: function (method, url) {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open(method, url);
            var b64auth = btoa("1977:d064598f29894d11aac0eba6799f667c");
            xmlhttp.setRequestHeader("authorization", "Basic " + b64auth);
            xmlhttp.setRequestHeader("content-type", "application/json; charset=utf-8");
            return xmlhttp;
        },
        isEmpty: function (obj) {
            for (var key in obj) {
                if (obj.hasOwnProperty(key)) {
                    return false;
                }
            }
            return true;
        }
    }
};

var arrayFindIE = {
    mounted: function () {
        // https://tc39.github.io/ecma262/#sec-array.prototype.find
        if (!Array.prototype.find) {
            Object.defineProperty(Array.prototype, 'find', {
                value: function (predicate) {
                    // 1. Let O be ? ToObject(this value).
                    if (this == null) {
                        throw new TypeError('"this" is null or not defined');
                    }

                    var o = Object(this);

                    // 2. Let len be ? ToLength(? Get(O, "length")).
                    var len = o.length >>> 0;

                    // 3. If IsCallable(predicate) is false, throw a TypeError exception.
                    if (typeof predicate !== 'function') {
                        throw new TypeError('predicate must be a function');
                    }

                    // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.
                    var thisArg = arguments[1];

                    // 5. Let k be 0.
                    var k = 0;

                    // 6. Repeat, while k < len
                    while (k < len) {
                        // a. Let Pk be ! ToString(k).
                        // b. Let kValue be ? Get(O, Pk).
                        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).
                        // d. Isf testResult is true, return kValue.
                        var kValue = o[k];
                        if (predicate.call(thisArg, kValue, k, o)) {
                            return kValue;
                        }
                        // e. Increase k by 1.
                        k++;
                    }

                    // 7. Return undefined.
                    return undefined;
                },
                configurable: true,
                writable: true
            });
        }
    }
};
/**
    This mixin allow components to be on top in IE.
    Overlay and toaster bugs will be resolved if just this mixins is added.
**/
var ieTopable = {
    mixins:[requestHandler],
    mounted: function(){
        if(this.isIE()){
            //CSS problem in IE :(
            try{
                let footer = document.getElementsByTagName('footer')[0];
                footer.appendChild(this.$el);
            }catch(e){}
        }
    },
}
Vue.filter('currency', function (value) {
    if (typeof value !== "number") {
        return value;
    }
    var formatter = new Intl.NumberFormat('pt-PT', {
        style: 'currency',
        currency: 'EUR',
        minimumFractionDigits: 2
    });
    return formatter.format(value);
});

Vue.filter('currencyNumber', function (value, minFractionDigits, maxFractionDigits) {
    if (typeof value !== "number") {
        return value;
    }
    var formatter = new Intl.NumberFormat('pt-PT', {
        style: 'decimal',
        minimumFractionDigits: minFractionDigits,
        maximumFractionDigits: maxFractionDigits
    });
    return formatter.format(value);
});

var PLACEHOLDER_REGEXP = /\{([0-9a-zA-Z]+)\}/g;

Vue.filter("format", function () {
    if (arguments.length === 0) {
        return "";
    } else if (arguments.length === 1) {
        return arguments[0];
    } else {
        var args = arguments;
        var message = args[0] ? args[0] : "";
        return message.replace(PLACEHOLDER_REGEXP, function (match, placeholder, index) {
            if (message[index - 1] === "{" && message[index + match.length] === "}") {
                return placeholder; // deal with the escaped brackets
            } else {
                var i = parseInt(placeholder);
                var result = args[i + 1];
                if (result === null || result === undefined) {
                    return "";
                } else {
                    return result;
                }
            }
        });
    }
});
Array.intersection = function(a,b,field){
    if(!a || !b) return [];
    if(field){
        let result = [];
        a.forEach(function(obj){
            return b.forEach(function(obj2){
                if(obj[field] == obj2[field]){
                    result.push(obj);
                }
            });
        });
        return result;
    }
    return a.filter(function(n) {
               return b.indexOf(n) !== -1;
    });
};

var tealium = {
    mixins: [catalogTypeUtils],
    data: function () {
        return {
            TEALIUM_PRODUCT_VARIANT: {
                PVP: "PVP",
                CV: "CLUBE VIVA"
            },
            TEALIUM_EVENT: {
                PRODUCT_VIEW : "product_view"
            },
            TEALIUM_PRODUCT_CATEGORY: {
                SMARTPHONES: "Smartphones",
                BASIC_PHONES: "Basic Phones",
                LIGHTING_SMART_HOME: "Lighting Smart Home",
                CONNECTIVITY_SMART_HOME: "Connectivity Smart Home",
                TV_SMART_HOME: "TV Smart Home",
                TELEPHONES: "Telephones",
                HOTSPOTS: "Hotspots",
                TABLETS: "Tablets",
                ROUTERS: "Routers",
                SIM_CARDS: "SIM Cards",
                PROTECTION_ACCESSORIES: "Protection Accessories",
                CHARGERS_ACCESSORIES: "Chargers Accessories",
                SOUND_ACCESSORIES: "Sound Accessories",
                PHOTO_ACCESSORIES: "Photo Accessories",
                MEMORY_ACCESSORIES: "Memory Accessories",
                GAMING_ACCESSORIES: "Gaming Accessories",
                CAR_ACCESSORIES: "Car Accessories",
                WEARABLE_ACCESSORIES: "Wearables Accessories",
                SMART_DEVICES_ACCESSORIES: "Smart Devices Accessories",
                OTHER_ACCESSORIES: "Other Accessories",
                ACCESSORIES: "Accessories",
                MOBILE_PHONES:"Mobile Phones",
                MOBILE_INTERNET:"Mobile Internet",
                PACK: "Pack"
            },
            CV_NO_POINTS: "0",
            PRODUCT_TYPE: {
                PACK: "Pack"
            },
            CONSTANTS:{
                UTAG_LOADED: 'utag-loaded',
                PHONE: 'phone'
            }
        }
    },
    methods: {
        formatBalanceWithDot: function (balance) {
            if (balance) {
                return balance.toFixed(2);
            } else {
                return "0.00";
            }
        },

        handlePriceCond: function (isPriceCondPvp) {
            var me = this;
            if (window.utag) {
                me.firePriceCond(isPriceCondPvp);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.firePriceCond(isPriceCondPvp);
                });
            }
        },

        firePriceCond: function (isPriceCondPvp) {
            // #1 - Track Action - Choose Product Variant
            var event_label = isPriceCondPvp ? "PVP" : "Clube Viva";

            utag.link({
                "event_action": "Choose Product Variant",
                "event_category": "Product Details",
                "event": ["event_instance"],
                "event_label": event_label,
                "product_brand": utag_data.product_brand,
                "product_category": utag_data.product_category,
                "product_discount_value": utag_data.product_discount_value,
                "product_id": utag_data.product_id,
                "product_name": utag_data.product_name,
                "product_price": utag_data.product_price,
                "product_sku": utag_data.product_sku,
                "product_variant": utag_data.product_variant,
                "product_colour": utag_data.product_colour ? utag_data.product_colour : [""],
                "product_capacity": utag_data.product_capacity ? utag_data.product_capacity : [""],
                "product_quantity": utag_data.product_quantity ? utag_data.product_quantity : [""],
                "transaction_balance_loyalty_points": utag_data.transaction_balance_loyalty_points,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleLoyaltyPoints: function () {
            var me = this;
            if (window.utag) {
                me.fireLoyaltyPoints();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireLoyaltyPoints();
                });
            }
        },

        fireLoyaltyPoints: function () {
            // #2 - Track Action - Choose Loyalty Points Plan (expand click only)
            utag.link({
                "event_action": "Choose Loyalty Points Plan",
                "event_category": "Product Details",
                "event": ["event_instance"],
                "event_label": "Choose Loyalty Points Plan",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleComparatorProduct: function (productsName) {
            var me = this;
            if (window.utag) {
                me.fireComparatorProduct(productsName);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireComparatorProduct(productsName);
                });
            }
        },

        fireComparatorProduct: function (productsName) {
            // #1 - Track Action - Compare Mobile Phones
            var products_name = productsName;
            var products_quantity = [productsName.length];
            utag.link({
                "event_action"          : "Go to Comparator",
                "event_category"        : "Comparator",
                "event"                 : ["event_instance"],
                "event_label"           : "Compare Mobile Phones",
                "event_value"           : "1",
                "product_name"          : products_name,
                "product_quantity"      : products_quantity,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleAddToComparator: function (productName) {
            var me = this;
            if (window.utag) {
                me.fireAddToComparator(productName);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireAddToComparator(productName);
                });
            }
        },


        fireAddToComparator: function (productName) {
            // #2 - Track Action - Add to Comparator
            var product_name = [productName];
            utag.link({
                "event_action"          : "Add to Comparator",
                "event_category"        : "Comparator",
                "event"                 : ["event_instance"],
                "event_label"           : "Add to Comparator",
                "event_value"           : "1",
                "product_name"          : product_name,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleRemoveFromComparator: function (productName) {
            var me = this;
            if (window.utag) {
                me.fireRemoveFromComparator(productName);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireRemoveFromComparator(productName);
                });
            }
        },

        fireRemoveFromComparator: function (productName) {
            // #3 - Track Action - Remove from Comparator
            var product_name = [productName];
            utag.link({
                "event_action"          : "Remove from Comparator",
                "event_category"        : "Comparator",
                "event"                 : ["event_instance"],
                "event_label"           : "Remove from Comparator",
                "event_value"           : "1",
                "product_name"          : product_name,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleCloseComparatorBar: function (productsName) {
            var me = this;
            if (window.utag) {
                me.fireCloseComparatorBar(productsName);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireCloseComparatorBar(productsName);
                });
            }
        },

        fireCloseComparatorBar: function (productsName) {
            // #4 - Track Action - Close Comparator Bar
            var products_name = productsName;
            var products_quantity = [productsName.length];
            utag.link({
                "event_action"          : "Close Comparator Bar",
                "event_category"        : "Comparator",
                "event"                 : ["event_instance"],
                "event_label"           : "Close Comparator Bar",
                "event_value"           : "1",
                "product_name"          : products_name,
                "product_quantity"      : products_quantity,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleGetLoyaltyPoints: function () {
            var me = this;
            if (window.utag) {
                me.fireGetLoyaltyPoints();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireGetLoyaltyPoints();
                });
            }
        },

        fireGetLoyaltyPoints: function () {
            // #1 - Track Action - Get Loyalty Points
            utag.link({
                "event_action"          : "Get Loyalty Points",
                "event_category"        : "Product Details",
                "event"                 : ["event_instance"],
                "event_label"           : "Get Loyalty Points",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleSentPointsWithSuccess: function () {
            var me = this;
            if (window.utag) {
                me.fireSentPointsWithSuccess();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireSentPointsWithSuccess();
                });
            }
        },

        fireSentPointsWithSuccess: function () {
            // #2 - Track View - Sent Loyalty Points with Success
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Sent Loyalty Points with Success",
                "page_section"          : utag_data.page_section,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleErrorSendingLoyaltyPoints: function () {
            var me = this;
            if (window.utag) {
                me.fireErrorSendingLoyaltyPoints();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireErrorSendingLoyaltyPoints();
                });
            }
        },

        fireErrorSendingLoyaltyPoints: function () {
            // #3 - Track View - Error Sending Loyalty Points
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Error Sending Loyalty Points",
                "page_section"          : utag_data.page_section,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleLoginPDP: function () {
            var me = this;
            if (window.utag) {
                me.fireLoginPDP();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireLoginPDP();
                });
            }
        },

        fireLoginPDP: function () {
            // #4 - Track Action - Login Product Detail Page
            utag.link({
                "event_action"          : "Display Login",
                "event_category"        : "Login",
                "event"                 : ["event_instance"],
                "event_label"           : "Login Product Detail Page",
                "event_value"           : "1",
                "page_name_next"        : "Login",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleRegisterPDP: function () {
            var me = this;
            if (window.utag) {
                me.fireRegisterPDP();
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireRegisterPDP();
                });
            }
        },

        fireRegisterPDP: function () {
           // #5 - Track Action - Register Product Detail Page
           utag.link({
               "event_action"          : "Display Register",
               "event_category"        : "Registration",
               "event"                 : ["event_instance"],
               "event_label"           : "Register Product Detail Page",
               "event_value"           : "1",
               "page_name_next"        : "Registration",
               "visitor_login_status"  : utag_data.visitor_login_status
           });
        },

        updateSelectedData: function (newSelected) {
            if(newSelected.productType === this.PRODUCT_TYPE.PACK) {
                utag_data.product_colour = [newSelected.packProducts["0"].color];
                utag_data.product_capacity = [newSelected.packProducts["0"].storage];
            }
            else {
                utag_data.product_colour = [newSelected.color];
                utag_data.product_capacity = [newSelected.storage];
            }
        },

        pushSelectedData: function (selected) {
            var colour;
            var storage;
            if(selected.productType === this.PRODUCT_TYPE.PACK) {
                if (selected.packProducts["0"]) {
                    colour = selected.packProducts["0"].color;
                    storage = selected.packProducts["0"].storage;
                }
            }
            else {
                colour = selected.color;
                storage = selected.storage;
            }

            if (!utag_data.product_colour) {
                utag_data.product_colour = [colour];
            }
            if (!utag_data.product_capacity) {
                utag_data.product_capacity = [storage];
            }
        },

        pushProductStaticData: function (products) {
            if(products.productType === this.PRODUCT_TYPE.PACK) {
                if(!utag_data.product_name) {
                    utag_data.product_name = [products.name];
                }
                if(products.variants && products.variants[0] && products.variants[0].packProducts[0]) {
                    utag_data.product_brand = [products.variants[0].packProducts[0].brand];
                    if(!utag_data.product_category) {
                        utag_data.product_category = [this.TEALIUM_PRODUCT_CATEGORY.PACK + " - " + this.getProductCategory(products.variants[0].packProducts[0].productType, products.variants[0].packProducts[0].category)];
                    }
                }
            }
            else {
                utag_data.product_brand = [products.brand];
                if(!utag_data.product_name) {
                    utag_data.product_name = [products.title];
                }
                if(!utag_data.product_category) {
                    utag_data.product_category = [this.getProductCategory(products.productType, products.category)];
                }
            }
            if(!utag_data.event){
                utag_data.event = [];
            }
            if (!utag_data.event.includes(this.TEALIUM_EVENT.PRODUCT_VIEW)) {
                utag_data.event.push(this.TEALIUM_EVENT.PRODUCT_VIEW);
            }
        },
        pushIdInformation : function (sapReference, productID) {
            utag_data.product_sku = [sapReference];
            utag_data.product_id = [productID];
        },
        pushPriceInformationCV: function (price, discount, points) {
            var priceFormated = this.formatBalanceWithDot(price);
            var discountFormated = this.formatBalanceWithDot(discount);
            this.pushPriceInformation(priceFormated, discountFormated, this.TEALIUM_PRODUCT_VARIANT.CV, points.toString());
        },
        pushPriceInformationPVP: function (price, discount) {
            var priceFormated = this.formatBalanceWithDot(price);
            var discountFormated = this.formatBalanceWithDot(discount);
            this.pushPriceInformation(priceFormated, discountFormated, this.TEALIUM_PRODUCT_VARIANT.PVP, this.CV_NO_POINTS);
        },
        pushPriceInformation : function (price, discount, type, points){
            utag_data.product_price = [price];
            utag_data.product_discount_value = [discount];
            utag_data.product_variant = [type];
            utag_data.transaction_balance_loyalty_points = [points];
        },
        getProductCategory : function (productType, category){
            switch (productType) {
                case this.CATALOG.SMARTPHONE:
                    return this.TEALIUM_PRODUCT_CATEGORY.SMARTPHONES;
                    break;
                case this.CATALOG.ROUTER:
                    return this.TEALIUM_PRODUCT_CATEGORY.ROUTERS;
                    break;
                case this.CATALOG.TABLET:
                    return this.TEALIUM_PRODUCT_CATEGORY.TABLETS;
                    break;
                case this.CATALOG.HOTSPOT:
                    return this.TEALIUM_PRODUCT_CATEGORY.HOTSPOTS;
                    break;
                case this.CATALOG.SIM_CARD:
                    return this.TEALIUM_PRODUCT_CATEGORY.SIM_CARDS;
                    break;
                case this.CATALOG.ACCESSORY:
                    switch (category.toUpperCase()) {
                        case this.CATEGORY.SOUND:
                            return this.TEALIUM_PRODUCT_CATEGORY.SOUND_ACCESSORIES;
                            break;
                        case this.CATEGORY.PROTECTION:
                            return this.TEALIUM_PRODUCT_CATEGORY.PROTECTION_ACCESSORIES;
                            break;
                        case this.CATEGORY.MEMORY:
                            return this.TEALIUM_PRODUCT_CATEGORY.MEMORY_ACCESSORIES;
                            break;
                        case this.CATEGORY.OTHERS:
                            return this.TEALIUM_PRODUCT_CATEGORY.OTHER_ACCESSORIES;
                            break;
                        case this.CATEGORY.CHARGER:
                            return this.TEALIUM_PRODUCT_CATEGORY.CHARGERS_ACCESSORIES;
                            break;
                        case this.CATEGORY.PHOTO_VIDEO:
                            return this.TEALIUM_PRODUCT_CATEGORY.PHOTO_ACCESSORIES;
                            break;
                        case this.CATEGORY.GAMING:
                            return this.TEALIUM_PRODUCT_CATEGORY.GAMING_ACCESSORIES;
                            break;
                        case this.CATEGORY.CAR:
                            return this.TEALIUM_PRODUCT_CATEGORY.CAR_ACCESSORIES;
                            break;
                        case this.CATEGORY.WEARABLES:
                            return this.TEALIUM_PRODUCT_CATEGORY.WEARABLE_ACCESSORIES;
                            break;
                        case this.CATEGORY.SMART_DEVICES:
                            return this.TEALIUM_PRODUCT_CATEGORY.SMART_DEVICES_ACCESSORIES;
                            break;
                        case this.CATEGORY.SMART_LIGHTING:
                            return this.TEALIUM_PRODUCT_CATEGORY.LIGHTING_SMART_HOME;
                            break;
                        case this.CATEGORY.CONNECTIVITY:
                            return this.TEALIUM_PRODUCT_CATEGORY.CONNECTIVITY_SMART_HOME;
                            break;
                        case this.CATEGORY.TV:
                            return this.TEALIUM_PRODUCT_CATEGORY.TV_SMART_HOME;
                            break;
                        case this.CATEGORY.LANDLINE:
                            return this.TEALIUM_PRODUCT_CATEGORY.TELEPHONES;
                            break;
                        default:
                            return category;
                            break;
                    }
                    break;
                default:
                    return productType;
                    break;
            }
        },

        handleClearFilters: function (categoryType) {
            var me = this;
            if (window.utag) {
                me.fireClearFilters(categoryType);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireClearFilters(categoryType);
                });
            }
        },

        fireClearFilters: function (categoryType) {
            // #3 - Track Action - Clear Filters
            utag.link({
                "event_action": "Clear Eshop Filters",
                "event_category": this.getEventCategory(categoryType),
                "event": ["event_instance"],
                "event_label": "Clear Filters",
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleSelectFilters: function (categoryType, isMobile, pageFiltersType, pageFiltersValue) {
            var me = this;
            if (window.utag) {
                me.fireSelectFilters(categoryType, isMobile, pageFiltersType, pageFiltersValue);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireSelectFilters(categoryType, isMobile, pageFiltersType, pageFiltersValue);
                });
            }
        },

        fireSelectFilters: function (categoryType, isMobile, pageFiltersType, pageFiltersValue) {
            // #1 - Track Action - Filter selected
            // #2 - Track Action - Add filters
            utag.link({
                "event_action": "Select Eshop Filters",
                "event_category": this.getEventCategory(categoryType),
                "event": ["event_instance", "page_filter"],
                "event_label": this.deviceType() === this.CONSTANTS.PHONE ? "Add filters" : "Filter selected",
                "event_value": "1",
                "page_filters_type": pageFiltersType,
                "page_filters_value": pageFiltersValue,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        getEventCategory: function (categoryType) {
            if (this.isSmartphone(categoryType)) {
                return this.TEALIUM_PRODUCT_CATEGORY.MOBILE_PHONES;
            } else if (this.isAccessory(categoryType)) {
                return categoryType = this.TEALIUM_PRODUCT_CATEGORY.ACCESSORIES;
            } else {
                return categoryType = this.TEALIUM_PRODUCT_CATEGORY.MOBILE_INTERNET;
            }
        },

        handleStoreStock: function (district, city) {
            var me = this;
            if (window.utag) {
                me.fireStoreStock(district, city);
            } else {
                tealiumBus && tealiumBus.$on(this.CONSTANTS.UTAG_LOADED, function () {
                    me.fireStoreStock(district, city);
                });
            }
        },


        fireStoreStock: function (district, city) {
            var page_filters_value = [district, city];
            utag.link({
                "event_action"          : "Search Store Stock",
                "event_category"        : "Product Details",
                "event"                 : ["event_instance"],
                "event_label"           : "Search Store Stock",
                "event_value"           : "1",
                "page_filters_type"     : ["District", "City"],
                "page_filters_value"    : page_filters_value,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa*/

var tealium_auth = {

        methods: {

            loginButton: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"          : "Display Login",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","journey_start"],
                    "event_label"           : "Login My Vodafone",
                    "event_value"           : "1",
                    "journey_name"          : "Login My Vodafone",
                    "journey_type"          : "Login",
                    "page_name_next"        : "Login",
                    "visitor_login_status"  : "Logged Out"
                });
                utag.view({
                    "event"                 : ["page_view","form_start"],
                    "form_name"             : "Login",
                    "page_name"             : "Login",
                    "page_section"          : "My Vodafone",
                    "visitor_login_status"  : "Logged Out"
                });
            },

            invalidCreds: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"              : "Error Logging In",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : "Error - Mismatch Username and Password",
                    "event_value"               : "1",
                    "form_error"                : "Mismatch Username and Password",
                    "form_name"                 : "Login",
                    "visitor_login_status"      : "Logged Out"
                });
            },

            invalidUsername: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"              : "Error Logging In",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : "Error - Invalid Username",
                    "event_value"               : "1",
                    "form_error"                : "Invalid Username",
                    "form_name"                 : "Login",
                    "visitor_login_status"      : "Logged Out"
                });
            },

            invalidPass: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"              : "Error Logging In",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : "Error - Invalid Password",
                    "event_value"               : "1",
                    "form_error"                : "Invalid Password",
                    "form_name"                 : "Login",
                    "visitor_login_status"      : "Logged Out"
                });
            },

            loginBlocked: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"              : "Error Logging In",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : "Error - Account is locked",
                    "event_value"               : "1",
                    "form_error"                : "Your account is locked",
                    "form_name"                 : "Login",
                    "visitor_login_status"      : "Logged Out"
                });
            },

            pageLocked: function() {
                if(!window.utag) {
                    return;
                }
                // TODO IMPROVE
                utag.view({
                    "event"                 : ["page_view"],
                    "page_name"             : "Account is locked",
                    "page_section"          : "My Vodafone:Login",
                    "visitor_login_status"  : "Logged Out"
                });
            },

            loginSuccess: function(login_type) {
                if(!window.utag) {
                    return;
                }
                //TO REMOVE or IMPROVE
                //console.log('#24 - Track Action - Click in Login Button with success ' + login_type);

                if(login_type === 'MSISDN') {
                    var visitor_login_type = "MSISDN - Password";
                } else if(login_type === 'Email') {
                    var visitor_login_type = "Email - Password";
                }
                utag.link({
                    "event_action"          : "Complete Login",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","visitor_login","journey_end","form_end"],
                    "event_label"           : "Complete Login",
                    "event_value"           : "1",
                    "journey_name"          : "Login My Vodafone",
                    "journey_type"          : "Login",
                    "form_name"             : "Login",
                    "page_name_next"        : "Homepage",
                    "visitor_login_status"  : "Logged In",
                    "visitor_login_type"    : visitor_login_type
                });
            },

            servicesDown: function() {
                if(!window.utag) {
                    return;
                }
                utag.link({
                    "event_action"              : "Error Logging In",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : "Error - Service is not available",
                    "event_value"               : "1",
                    "form_error"                : "Service is not available",
                    "form_name"                 : "Login",
                    "visitor_login_status"      : "Logged Out"
                });
            },


            /** RECOVER PASSWORD JOURNEY TRACKING **/

            handleRecoverPasswordClick: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#9 - Track Action - Click in Recover Password (on Account Locked Page)');

                // #9 - Track Action - Click in Recover Password (on Account Locked Page)
                utag.link({
                    "event_action"              : "Recover Password",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance"],
                    "event_label"               : "Recover Password",
                    "event_value"               : "1",
                    "page_name_next"            : "Recover Password", //this may change as it's not implemented yet
                    "visitor_login_status"      : "Logged Out"
                });

            },

            handleGetNewPasswordClick: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#10 - Track Action - Click in Get New Password (on Login Page)');

                // #10 - Track Action - Click in Get New Password (on Login Page)
                utag.link({
                    "event_action"              : "Recover Password",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance"],
                    "event_label"               : "Forgot Password",
                    "event_value"               : "1",
                    "page_name_next"            : "Recover Password",
                    "visitor_login_status"      : "Logged Out"
                });

            },

            handleForgotPasswordView: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#11 - Track View - Forgot Password');

                // #11 - Track View - Forgot Password

                utag.view({
                    "event"                 : ["page_view","form_start"],
                    "form_name"             : "Recover Password",
                    "page_journey_phase"    : "Recover Password",
                    "page_name"             : "Recover Password",
                    "page_section"          : "My Vodafone:Login",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleForgotPasswordContinue: function(recover_password_to) {
                if(!window.utag) {
                    return;
                }
                //console.log('#12 #13 - Track Action - Click on Continue with Valid MSISDN/Email (on Forgot Password Page)');

                // #12 #13 - Track Action - Click on Continue with Valid MSISDN/Email (on Forgot Password Page)

                if(recover_password_to === "MSISDN"){
                    var event_label = "Recover with valid MSISDN";
                    var page_name_next = "Successful Recovery - MSISDN";

                } else if(recover_password_to === "Email"){
                    var event_label = "Recover with valid Email";
                    var page_name_next = "Successful Recovery - Email";
                }

                utag.link({
                    "event_action"              : "Recover Password",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_end"],
                    "event_label"               : event_label,
                    "event_value"               : "1",
                    "form_name"                 : "Recover Password",
                    "page_name_next"            : page_name_next,
                    "visitor_login_status"      : "Logged Out"
                });

            },

            handleForgotPasswordCancel: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#14 - Track Action - Click on Cancel (on Forgot Password Page)');

                // #14 - Track Action - Click on Cancel (on Forgot Password Page)

                utag.link({
                    "event_action"              : "Recover Password",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance"],
                    "event_label"               : "Forgot Password Cancel",
                    "event_value"               : "1",
                    "page_name_next"            : "Login", //this may change as it's not implemented yet
                    "visitor_login_status"      : "Logged Out"
                });

            },

            handleForgotPasswordRecoverySuccess: function(recover_password_to) {
                if(!window.utag) {
                    return;
                }
                //console.log('#15 #16 - Track View - Successful Password Recovery with MSISDN/Email');

                // #15 #16 - Track View - Successful Password Recovery with MSISDN/Email

                if(recover_password_to === "MSISDN"){
                    var page_name = "Successful Recovery - MSISDN";

                } else if(recover_password_to === "Email"){
                    var page_name = "Successful Recovery - Email";
                }

                utag.view({
                    "event"                 : ["page_view"],
                    "page_name"             : page_name,
                    "page_section"          : "My Vodafone:Login:Recover Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleForgotPasswordInvalidData: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#17 - Track Action - Click on Continue with Invalid MSISDN/Email (on Forgot Password Page)');

                // #17 - Track Action - Click on Continue with Invalid MSISDN/Email (on Forgot Password Page)

                utag.link({
                    "event_action"          : "Error Recovering Password",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","form_error"],
                    "event_label"           : "Error - Recover with invalid Username",
                    "event_value"           : "1",
                    "form_error"            : "Recover with invalid Username",
                    "form_name"             : "Recover Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleForgotPasswordContinueMissingData: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#18 - Track Action - Click on Continue without filling the recovery contact field (on Forgot Password Page)');

                // #18 - Track Action - Click on Continue without filling the recovery contact field (on Forgot Password Page)

                utag.link({
                    "event_action"          : "Error Recovering Password",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","form_error"],
                    "event_label"           : "Error - Missing Username",
                    "event_value"           : "1",
                    "form_error"            : "Missing Username",
                    "form_name"             : "Recover Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleForgotPasswordSuccessContinue: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#19 - Track Action - Click on Continue after recover with MSISDN (on Successful Password Recovery Page)');

                // #19 - Track Action - Click on Continue after recover with MSISDN (on Successful Password Recovery Page)

                utag.link({
                    "event_action"          : "Complete password recovery",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Continue to Login",
                    "event_value"           : "1",
                    "page_name_next"        : "Login",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePasswordPrompt: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#20 - Track Action -  Click in Login Button and next page is Change Password');

                // #20 - Track Action -  Click in Login Button and next page is Change Password

                utag.link({
                    "event_action"          : "Complete password recovery",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Login with temporary password",
                    "event_value"           : "1",
                    "page_name_next"        : "Reset Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePasswordPageView: function(recover_from_msisdn, recover_from_email) {
                if(!window.utag) {
                    return;
                }
                //console.log('#21 - Track View - Reset Password Page');

                // #21 - Track View - Reset Password Page

                if(recover_from_msisdn) {
                    var page_section = "My Vodafone:Login:Recover Password:Successful Recovery - MSISDN";
                } else if(recover_from_email){
                    var page_section = "My Vodafone:Login:Recover Password:Successful Recovery - Email";
                }

                utag.view({
                    "event"                 : ["page_view"],
                    "form_name"             : "Login",
                    "page_name"             : "Reset Password",
                    "page_section"          : page_section,
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePassword1551Continue: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#22 - Track Action - Click in Continue Button with success (on Change Password Page)');

                // #22 - Track Action - Click in Continue Button with success (on Change Password Page)
                // If this page is reached by logging in with recovery password sent via SMS

                utag.link({
                    "event_action"          : "Complete Password Recovery",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","visitor_login","journey_end"],
                    "event_label"           : "Reset Password Completed",
                    "event_value"           : "1",
                    "journey_name"          : "Login My Vodafone",
                    "journey_type"          : "Login",
                    "page_name_next"        : "Homepage",
                    "visitor_login_status"  : "Logged In",
                    "visitor_login_type"    : "MSISDN - Password"
                });

            },

            handleChangePasswordLinkContinue: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#23 - Track Action - Click in Continue Button with success (on Change Password Page)');

                // #23 - Track Action - Click in Continue Button with success (on Change Password Page)
                // If this page is reached by clicking in the link sent via Email

                utag.link({
                    "event_action"          : "Complete Password Recovery",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Reset Password Completed",
                    "event_value"           : "1",
                    "page_name_next"        : "Login",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePasswordLinkError: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#25 - Track View - Recover Link Error/Expiration Page (Email)');

                // #25 - Track View - Recover Link Error/Expiration Page (Email)

                utag.view({
                    "event"                 : ["page_view"],
                    "page_name"             : "Recover Credentials have expired - Email",
                    "page_section"          : "My Vodafone:Login:Recover Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePasswordLinkErrorRecoverClick: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#26 - Track Action - Click in Recover Password Button in Recover Link Error/Expiration Page (Email)');

                // #26 - Track Action - Click in Recover Password Button in Recover Link Error/Expiration Page (Email)

                utag.link({
                    "event_action"          : "Recover Password",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Recover Password Again",
                    "event_value"           : "1",
                    "page_name_next"        : "Recover Password",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePasswordLinkErrorContinueClick: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#27 - Track Action - Click in Continue to Login Button in Recover Link Error/Expiration Page (Email)');

                // #27 - Track Action - Click in Continue to Login Button in Recover Link Error/Expiration Page (Email)

                utag.link({
                    "event_action"          : "Recover Password",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Continue to Login",
                    "event_value"           : "1",
                    "page_name_next"        : "Login",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleChangePassword1551ErrorContinueClick: function() {
                if(!window.utag) {
                    return;
                }
                //console.log('#28 - Track Action - Click in Continue to Login Button in Recover Link Error/Expiration Page (Email)');

                // #28 - Track Action - Click in Continue to Login Button in Recover Link Error/Expiration Page (Email)

                utag.link({
                    "event_action"          : "Error Logging In",
                    "event_category"        : "Login",
                    "event"                 : ["event_instance","form_error"],
                    "event_label"           : "Error - Recover Credentials have expired - MSISDN",
                    "event_value"           : "1",
                    "form_error"            : "Recover Credentials have expired - MSISDN",
                    "form_name"             : "Login",
                    "visitor_login_status"  : "Logged Out"
                });

            },

            handleUnavailableServices: function(recover_password_to) {
                if(!window.utag) {
                    return;
                }
                //console.log('#30/31 - Track Action - Click continue when unavailable services ' + recover_password_to);

                // #30 - Track Action - Click continue when unavailable services

                if(recover_password_to === "MSISDN"){
                    var event_label = "Error - Recover with valid MSISDN";

                } else if(recover_password_to === "Email"){
                    var event_label = "Error - Recover with valid Email";
                }

                utag.link({
                    "event_action"              : "Error Recovering Password",
                    "event_category"            : "Login",
                    "event"                     : ["event_instance","form_error"],
                    "event_label"               : event_label,
                    "event_value"               : "1",
                    "form_error"                : "Service is not available",
                    "form_name"                 : "Recover Password",
                    "visitor_login_status"      : "Logged Out"
                });


            },
        }
};
/* global window, utag, tealiumBus, console*/
var tealium_billing = {
    methods: {handleClickInBillComponentOnHomepage: function(last_bill) {
        // #1 - Track Action - Click in Bill Component on Homepage
        if (window.utag) {
            this.fireClickInBillComponentOnHomepage(last_bill)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInBillComponentOnHomepage(last_bill) });
        }
    }, fireClickInBillComponentOnHomepage: function(last_bill) {
        // #1 - Track Action - Click in Bill Component on Homepage
        //console.log('#1 - Track Action - Click in Bill Component on Homepage')

        if (last_bill === 'No Bill') {
            var event_label = 'No Bill';
        } else if (last_bill === 'Bill to Pay') {
            var event_label = 'Bill to Pay';
        } else if (last_bill === 'Bill Paid') {
            var event_label = 'Bill Paid';
        } else if (last_bill === 'Credit') {
            var event_label = 'Credit';
        }

        utag.link({
            'event_action': 'View Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': 'Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleBillingPage: function() {
        // #2 - Track View - Billing Page
        if (window.utag) {
            this.fireBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBillingPage() });
        }
    }, fireBillingPage: function() {
        // #2 - Track View - Billing Page
        //console.log('#2 - Track View - Billing Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Billing',
            'page_section': 'My Vodafone',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInCreditComponentOnBillingPage: function() {
        // #3 - Track Action - Click in Credit Component (on Billing Page)
        if (window.utag) {
            this.fireClickInCreditComponentOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInCreditComponentOnBillingPage() });
        }
    }, fireClickInCreditComponentOnBillingPage: function() {
        // #3 - Track Action - Click in Credit Component (on Billing Page)
        //console.log('#3 - Track Action - Click in Credit Component (on Billing Page)')

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Previous Credit Note',
            'event_value': '1',
            'page_name_next': 'Credit Note Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInBillComponentOnBillingPage: function() {
        // #4 - Track Action - Click in Bill Component (on Billing Page)
        if (window.utag) {
            this.fireClickInBillComponentOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInBillComponentOnBillingPage() });
        }
    }, fireClickInBillComponentOnBillingPage: function() {
        // #4 - Track Action - Click in Bill Component (on Billing Page)
        //console.log('#4 - Track Action - Click in Bill Component (on Billing Page)')

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Previous Invoice',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPaymentComponentOnBillingPage: function() {
        // #5 - Track Action - Click in Payment Component (on Billing Page)
        if (window.utag) {
            this.fireClickInPaymentComponentOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPaymentComponentOnBillingPage() });
        }
    }, fireClickInPaymentComponentOnBillingPage: function() {
        // #5 - Track Action - Click in Payment Component (on Billing Page)
        //console.log('#5 - Track Action - Click in Payment Component (on Billing Page)')

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Previous Payment',
            'event_value': '1',
            'page_name_next': 'Payment Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPaymentReversalComponentOnBillingPage: function() {
        // #6 - Track Action - Click in Payment Reversal Component (on Billing Page)
        if (window.utag) {
            this.fireClickInPaymentReversalComponentOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPaymentReversalComponentOnBillingPage() });
        }
    }, fireClickInPaymentReversalComponentOnBillingPage: function() {
        // #6 - Track Action - Click in Payment Reversal Component (on Billing Page)
        //console.log('#6 - Track Action - Click in Payment Reversal Component (on Billing Page)')

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Payment Reversal',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInViewMoreMovementsOnBillingPage: function() {
        // #7 - Track Action - Click in View More Movements (on Billing Page)
        if (window.utag) {
            this.fireClickInViewMoreMovementsOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInViewMoreMovementsOnBillingPage() });
        }
    }, fireClickInViewMoreMovementsOnBillingPage: function() {
        // #7 - Track Action - Click in View More Movements (on Billing Page)
        //console.log('#7 - Track Action - Click in View More Movements (on Billing Page)')

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See More',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice: function() {
        // #8 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice
        if (window.utag) {
            this.fireClickInPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice() });
        }
    }, fireClickInPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice: function() {
        // #8 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice
        //console.log('#8 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice')

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Pay Current Invoice',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInTheArrowOnPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice: function() {
        // #9 - Track Action - Click in the arrow on Pay Current Invoice (on Billing Page) - not the overdue invoice
        if (window.utag) {
            this.fireClickInTheArrowOnPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInTheArrowOnPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice() });
        }
    }, fireClickInTheArrowOnPayCurrentInvoiceOnBillingPageNotTheOverdueInvoice: function() {
        // #9 - Track Action - Click in the arrow on Pay Current Invoice (on Billing Page) - not the overdue invoice
        //console.log('#9 - Track Action - Click in the arrow on Pay Current Invoice (on Billing Page) - not the overdue invoice')

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Current Invoice',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice: function() {
        // #10 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice
        if (window.utag) {
            this.fireClickInPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice() });
        }
    }, fireClickInPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice: function() {
        // #10 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice
        //console.log('#10 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice')

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Pay Overdue Invoice',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInTheArrowOnPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice: function() {
        // #11 - Track Action - Click in the arrow on Pay Overdue Invoice (on Billing Page) - not the current invoice
        if (window.utag) {
            this.fireClickInTheArrowOnPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInTheArrowOnPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice() });
        }
    }, fireClickInTheArrowOnPayOverdueInvoiceOnBillingPageNotTheCurrentInvoice: function() {
        // #11 - Track Action - Click in the arrow on Pay Overdue Invoice (on Billing Page) - not the current invoice
        //console.log('#11 - Track Action - Click in the arrow on Pay Overdue Invoice (on Billing Page) - not the current invoice')

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Overdue Invoice',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleBillingDetailPage: function() {
        // #12 - Track View - Billing Detail Page
        if (window.utag) {
            this.fireBillingDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBillingDetailPage() });
        }
    }, fireBillingDetailPage: function() {
        // #12 - Track View - Billing Detail Page
        //console.log('#12 - Track View - Billing Detail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Invoice Detail',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaymentDetailPage: function() {
        // #13 - Track View - Payment Detail Page
        if (window.utag) {
            this.firePaymentDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaymentDetailPage() });
        }
    }, firePaymentDetailPage: function() {
        // #13 - Track View - Payment Detail Page
        //console.log('#13 - Track View - Payment Detail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Payment Detail',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleCreditNoteDetailPage: function() {
        // #14 - Track View - Credit Note Detail Page
        if (window.utag) {
            this.fireCreditNoteDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCreditNoteDetailPage() });
        }
    }, fireCreditNoteDetailPage: function() {
        // #14 - Track View - Credit Note Detail Page
        //console.log('#14 - Track View - Credit Note Detail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Credit Note Detail',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInDuplicateTheInvoiceButtonOnBillingDetailsPage: function() {
        // #15 - Track Action - Click in Duplicate the Invoice Button (on Billing Details Page)
        if (window.utag) {
            this.fireClickInDuplicateTheInvoiceButtonOnBillingDetailsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInDuplicateTheInvoiceButtonOnBillingDetailsPage() });
        }
    }, fireClickInDuplicateTheInvoiceButtonOnBillingDetailsPage: function() {
        // #15 - Track Action - Click in Duplicate the Invoice Button (on Billing Details Page)
        //console.log('#15 - Track Action - Click in Duplicate the Invoice Button (on Billing Details Page)')

        utag.link({
            'event_action': 'Invoice Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Request a Duplicate of the Invoice',
            'event_value': '1',
            'page_name_next': 'Request a Duplicate of the Invoice',
            'visitor_login_status': 'Logged In'
        });
    }, handleRequestADuplicateOfTheInvoicePageFreeRequest: function() {
        // #16 - Track View - Request a Duplicate of the Invoice Page - Free Request
        if (window.utag) {
            this.fireRequestADuplicateOfTheInvoicePageFreeRequest()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRequestADuplicateOfTheInvoicePageFreeRequest() });
        }
    }, fireRequestADuplicateOfTheInvoicePageFreeRequest: function() {
        // #16 - Track View - Request a Duplicate of the Invoice Page - Free Request
        //console.log('#16 - Track View - Request a Duplicate of the Invoice Page - Free Request')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Request a Duplicate of the Invoice',
            'page_section': 'My Vodafone:Billing:Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInConfirmOnRequestADuplicateOfTheInvoicePageFreeRequest: function(error) {
        // #17 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Free Request
        if (window.utag) {
            this.fireClickInConfirmOnRequestADuplicateOfTheInvoicePageFreeRequest(error)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInConfirmOnRequestADuplicateOfTheInvoicePageFreeRequest(error) });
        }
    }, fireClickInConfirmOnRequestADuplicateOfTheInvoicePageFreeRequest: function(error) {
        // #17 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Free Request
        //console.log('#17 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Free Request')

        if (error) {
            var page_name_next = 'Error on Duplicate of the Invoice Request';
        } else {
            var page_name_next = 'Duplicate of the Invoice Requested With Success';
        }

        utag.link({
            'event_action': 'Invoice Detail - Request a Duplicate of the Invoice',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInReturnOnRequestADuplicateOfTheInvoicePageFreeRequest: function() {
        // #18 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Free Request
        if (window.utag) {
            this.fireClickInReturnOnRequestADuplicateOfTheInvoicePageFreeRequest()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInReturnOnRequestADuplicateOfTheInvoicePageFreeRequest() });
        }
    }, fireClickInReturnOnRequestADuplicateOfTheInvoicePageFreeRequest: function() {
        // #18 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Free Request
        //console.log('#18 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Free Request')

        utag.link({
            'event_action': 'Invoice Detail - Request a Duplicate of the Invoice',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Invoice Detail',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleRequestADuplicateOfTheInvoicePagePaidRequest: function() {
        // #19 - Track View - Request a Duplicate of the Invoice Page - Paid Request
        if (window.utag) {
            this.fireRequestADuplicateOfTheInvoicePagePaidRequest()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRequestADuplicateOfTheInvoicePagePaidRequest() });
        }
    }, fireRequestADuplicateOfTheInvoicePagePaidRequest: function() {
        // #19 - Track View - Request a Duplicate of the Invoice Page - Paid Request
        //console.log('#19 - Track View - Request a Duplicate of the Invoice Page - Paid Request')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Request a Paid Duplicate of the Invoice',
            'page_section': 'My Vodafone:Billing:Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInConfirmOnRequestADuplicateOfTheInvoicePagePaidRequest: function(error) {
        // #20 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Paid Request
        if (window.utag) {
            this.fireClickInConfirmOnRequestADuplicateOfTheInvoicePagePaidRequest(error)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInConfirmOnRequestADuplicateOfTheInvoicePagePaidRequest(error) });
        }
    }, fireClickInConfirmOnRequestADuplicateOfTheInvoicePagePaidRequest: function(error) {
        // #20 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Paid Request
        //console.log('#20 - Track Action - Click in Confirm (on Request a Duplicate of the Invoice Page) - Paid Request')

        if (error) {
            var page_name_next = 'Error on Duplicate of the Invoice Request';
        } else {
            var page_name_next = 'Duplicate of the Invoice Requested With Success';
        }

        utag.link({
            'event_action': 'Invoice Detail - Request a Paid Duplicate of the Invoice',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInReturnOnRequestADuplicateOfTheInvoicePagePaidRequest: function() {
        // #21 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Paid Request
        if (window.utag) {
            this.fireClickInReturnOnRequestADuplicateOfTheInvoicePagePaidRequest()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInReturnOnRequestADuplicateOfTheInvoicePagePaidRequest() });
        }
    }, fireClickInReturnOnRequestADuplicateOfTheInvoicePagePaidRequest: function() {
        // #21 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Paid Request
        //console.log('#21 - Track Action - Click in Return (on Request a Duplicate of the Invoice Page) - Paid Request')

        utag.link({
            'event_action': 'Invoice Detail - Request a Paid Duplicate of the Invoice',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Invoice Detail',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleRequestWithSuccessADuplicateOfTheInvoicePage: function(request) {
        // #22 - Track View - Request with Success a Duplicate of the Invoice Page
        if (window.utag) {
            this.fireRequestWithSuccessADuplicateOfTheInvoicePage(request)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRequestWithSuccessADuplicateOfTheInvoicePage(request) });
        }
    }, fireRequestWithSuccessADuplicateOfTheInvoicePage: function(request) {
        // #22 - Track View - Request with Success a Duplicate of the Invoice Page
        //console.log('#22 - Track View - Request with Success a Duplicate of the Invoice Page')

        if (request === 'Free') {
            var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Duplicate of the Invoice';
        } else if (request === 'Paid') {
            var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Paid Duplicate of the Invoice';
        }

        utag.view({
            'event': ['page_view'],
            'page_name': 'Duplicate of the Invoice Requested With Success',
            'page_section': page_section,
            'visitor_login_status': 'Logged In'
        });
    }, handleRequestWithErrorADuplicateOfTheInvoicePage: function(request) {
        // #23 - Track View - Request with Error a Duplicate of the Invoice Page
        if (window.utag) {
            this.fireRequestWithErrorADuplicateOfTheInvoicePage(request)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRequestWithErrorADuplicateOfTheInvoicePage(request) });
        }
    }, fireRequestWithErrorADuplicateOfTheInvoicePage: function(request) {
        // #23 - Track View - Request with Error a Duplicate of the Invoice Page
        //console.log('#23 - Track View - Request with Error a Duplicate of the Invoice Page')

        if (request === 'Free') {
            var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Duplicate of the Invoice';
        } else if (request === 'Paid') {
            var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Paid Duplicate of the Invoice';
        }

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error on Duplicate of the Invoice Request',
            'page_section': page_section,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInContinueOnRequestWithSuccessADuplicateOfTheInvoicePage: function() {
        // #24 - Track Action - Click in Continue (on Request with Success a Duplicate of the Invoice Page)
        if (window.utag) {
            this.fireClickInContinueOnRequestWithSuccessADuplicateOfTheInvoicePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInContinueOnRequestWithSuccessADuplicateOfTheInvoicePage() });
        }
    }, fireClickInContinueOnRequestWithSuccessADuplicateOfTheInvoicePage: function() {
        // #24 - Track Action - Click in Continue (on Request with Success a Duplicate of the Invoice Page)
        //console.log('#24 - Track Action - Click in Continue (on Request with Success a Duplicate of the Invoice Page)')

        utag.link({
            'event_action': 'Invoice Detail - Duplicate of the Invoice Requested With Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInContinueOnRequestWithErrorADuplicateOfTheInvoicePage: function() {
        // #25 - Track Action - Click in Continue (on Request with Error a Duplicate of the Invoice Page)
        if (window.utag) {
            this.fireClickInContinueOnRequestWithErrorADuplicateOfTheInvoicePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInContinueOnRequestWithErrorADuplicateOfTheInvoicePage() });
        }
    }, fireClickInContinueOnRequestWithErrorADuplicateOfTheInvoicePage: function() {
        // #25 - Track Action - Click in Continue (on Request with Error a Duplicate of the Invoice Page)
        //console.log('#25 - Track Action - Click in Continue (on Request with Error a Duplicate of the Invoice Page)')

        utag.link({
            'event_action': 'Invoice Detail - Error on Duplicate of the Invoice Request',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInDownloadInvoiceOnBillingDetailPage: function(error) {
        // #26 - Track Action - Click in Download Invoice (on Billing Detail Page)
        if (window.utag) {
            this.fireClickInDownloadInvoiceOnBillingDetailPage(error)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInDownloadInvoiceOnBillingDetailPage(error) });
        }
    }, fireClickInDownloadInvoiceOnBillingDetailPage: function(error) {
        // #26 - Track Action - Click in Download Invoice (on Billing Detail Page)
        //console.log('#26 - Track Action - Click in Download Invoice (on Billing Detail Page)')

        if (error) {
            var page_name_next = 'Error on Invoice Download';
        } else {
            var page_name_next = 'Invoice Downloaded With Success';
        }

        utag.link({
            'event_action': 'Invoice Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Download Invoice',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadInvoiceWithSuccessToast: function() {
        // #27 - Track View - Download Invoice with Success Toast
        if (window.utag) {
            this.fireDownloadInvoiceWithSuccessToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadInvoiceWithSuccessToast() });
        }
    }, fireDownloadInvoiceWithSuccessToast: function() {
        // #27 - Track View - Download Invoice with Success Toast
        //console.log('#27 - Track View - Download Invoice with Success Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Informative Extract Downloaded With Success',
            'page_section': 'My Vodafone:Billing Extracts:Informative Extract',
            'page_section_full': 'My Vodafone:Billing Extracts:Informative Extract:Informative Extact Downloaded With Success',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadInvoiceWithErrorToast: function() {
        // #28 - Track View - Download Invoice with Error Toast
        if (window.utag) {
            this.fireDownloadInvoiceWithErrorToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadInvoiceWithErrorToast() });
        }
    }, fireDownloadInvoiceWithErrorToast: function() {
        // #28 - Track View - Download Invoice with Error Toast
        //console.log('#28 - Track View - Download Invoice with Error Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Downloading Informative Extact',
            'page_section': 'My Vodafone:Billing Extracts:Informative Extract',
            'page_section_full': 'My Vodafone:Billing Extracts:Informative Extract:Error Downloading Informative Extact',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInCommunicationsDetailsTabOnBillingDetailPage: function() {
        // #29 - Track Action - Click in Communications Details Tab (on Billing Detail Page)
        if (window.utag) {
            this.fireClickInCommunicationsDetailsTabOnBillingDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInCommunicationsDetailsTabOnBillingDetailPage() });
        }
    }, fireClickInCommunicationsDetailsTabOnBillingDetailPage: function() {
        // #29 - Track Action - Click in Communications Details Tab (on Billing Detail Page)
        //console.log('#29 - Track Action - Click in Communications Details Tab (on Billing Detail Page)')

        utag.link({
            'event_action': 'Informative Extract',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Communications Detail',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInInvoiceDetailsSearchButtonOnBillingDetailPage: function(type) {
        // #30 - Track Action - Click in Invoice Details Search Button (on Billing Detail Page)
        if (window.utag) {
            this.fireClickInInvoiceDetailsSearchButtonOnBillingDetailPage(type)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInInvoiceDetailsSearchButtonOnBillingDetailPage(type) });
        }
    }, fireClickInInvoiceDetailsSearchButtonOnBillingDetailPage: function(type) {
        // #30 - Track Action - Click in Invoice Details Search Button (on Billing Detail Page)
        //console.log('#30 - Track Action - Click in Invoice Details Search Button (on Billing Detail Page)')

        if (type === 'Nacional Communications') {
            var event_label = 'Nacional Communications';
        } else if (type === 'Roaming Communications') {
            var event_label = 'Roaming Communications';
        } else if (type === 'Nactional Data Consumption') {
            var event_label = 'Nactional Data Consumption';
        } else if (type === 'Roaming Data Consumption') {
            var event_label = 'Roaming Data Consumption';
        }

        utag.link({
            'event_action': 'Invoice Detail - Search Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleOrderCommunicationsTableOnBillingDetailPage: function(order_by) {
        // #31 - Track Action - Order Communications table (on Billing Detail Page)
        if (window.utag) {
            this.fireOrderCommunicationsTableOnBillingDetailPage(order_by)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOrderCommunicationsTableOnBillingDetailPage(order_by) });
        }
    }, fireOrderCommunicationsTableOnBillingDetailPage: function(order_by) {
        // #31 - Track Action - Order Communications table (on Billing Detail Page)
        //console.log('#31 - Track Action - Order Communications table (on Billing Detail Page)')

        if (order_by === 'Sort By Date') {
            var event_label = 'Sort By Date';
            var page_sorting = 'Date';
        } else if (order_by === 'Sort By Time') {
            var event_label = 'Sort By Time';
            var page_sorting = 'Time';
        } else if (order_by === 'Sort By Destination Number') {
            var event_label = 'Sort By Destination Number';
            var page_sorting = 'Destination Number';
        } else if (order_by === 'Sort By Communication Type') {
            var event_label = 'Sort By Communication Type';
            var page_sorting = 'Communication Type';
        } else if (order_by === 'Sort By Description') {
            var event_label = 'Sort By Description';
            var page_sorting = 'Description';
        } else if (order_by === 'Sort By Duration') {
            var event_label = 'Sort By Duration';
            var page_sorting = 'Duration';
        } else if (order_by === 'Sort By Value') {
            var event_label = 'Sort By Value';
            var page_sorting = 'Value';
        } else if (order_by === 'Sort By Data Volume') {
            var event_label = 'Sort By Data Volume';
            var page_sorting = 'Data Volume';
        }

        utag.link({
            'event_action': 'Invoice Detail - Sort Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance', 'page_sort'],
            'event_label': event_label,
            'page_sorting': page_sorting,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInInvoiceDetailsTabOnBillingDetailPage: function() {
        // #32 - Track Action - Click in Invoice Details Tab (on Billing Detail Page)
        if (window.utag) {
            this.fireClickInInvoiceDetailsTabOnBillingDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInInvoiceDetailsTabOnBillingDetailPage() });
        }
    }, fireClickInInvoiceDetailsTabOnBillingDetailPage: function() {
        // #32 - Track Action - Click in Invoice Details Tab (on Billing Detail Page)
        //console.log('#32 - Track Action - Click in Invoice Details Tab (on Billing Detail Page)')

        utag.link({
            'event_action': 'Informative Extract',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Extract Summary',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandServiceOnBillingDetailPage: function(service_to_expand) {
        // #33 - Track Action - Expand Service (on Billing Detail Page) - Only capture expand events, not collapse events
        if (window.utag) {
            this.fireExpandServiceOnBillingDetailPage(service_to_expand)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandServiceOnBillingDetailPage(service_to_expand) });
        }
    }, fireExpandServiceOnBillingDetailPage: function(service_to_expand) {
        // #33 - Track Action - Expand Service (on Billing Detail Page) - Only capture expand events, not collapse events
        //console.log('#33 - Track Action - Expand Service (on Billing Detail Page) - Only capture expand events, not collapse events')

        if (service_to_expand === 'MSISDN') {
            var event_label = 'MSISDN';
        } else if (service_to_expand === 'BroadBand') {
            var event_label = 'BroadBand';
        } else if (service_to_expand === 'Account') {
            var event_label = 'Account';
        } else if (service_to_expand === 'Signal Max') {
            var event_label = 'Signal Max';
        } else if (service_to_expand === 'Fixed Service') {
            var event_label = 'Fixed Service';
        }

        utag.link({
            'event_action': 'Invoice Detail - Expand Service on Summary Charges',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandCategoryOnAlreadyExpandedServiceOnBillingDetailPage: function(category_to_expand) {
        // #34 - Track Action - Expand Category on already Expanded Service (on Billing Detail Page) - Only capture expand events, not collapse events
        if (window.utag) {
            this.fireExpandCategoryOnAlreadyExpandedServiceOnBillingDetailPage(category_to_expand)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandCategoryOnAlreadyExpandedServiceOnBillingDetailPage(category_to_expand) });
        }
    }, fireExpandCategoryOnAlreadyExpandedServiceOnBillingDetailPage: function(category_to_expand) {
        // #34 - Track Action - Expand Category on already Expanded Service (on Billing Detail Page) - Only capture expand events, not collapse events
        //console.log('#34 - Track Action - Expand Category on already Expanded Service (on Billing Detail Page) - Only capture expand events, not collapse events')

        if (category_to_expand === 'Monthly Charge') {
            var event_label = 'Monthly Charge';
        } else if (category_to_expand === 'Additional Service') {
            var event_label = 'Additional Service';
        } else if (category_to_expand === 'Communications') {
            var event_label = 'Communications';
        } else if (category_to_expand === 'Additional Charges') {
            var event_label = 'Additional Charges';
        } else if (category_to_expand === 'Deductions') {
            var event_label = 'Deductions';
        }

        utag.link({
            'event_action': 'Invoice Detail - Expand Category on Summary',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInInhibitCommunicationsDetailOnBillingDetailPage: function() {
        // #35 - Track Action - Click in Inhibit Communications Detail (on Billing Detail Page)
        if (window.utag) {
            this.fireClickInInhibitCommunicationsDetailOnBillingDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInInhibitCommunicationsDetailOnBillingDetailPage() });
        }
    }, fireClickInInhibitCommunicationsDetailOnBillingDetailPage: function() {
        // #35 - Track Action - Click in Inhibit Communications Detail (on Billing Detail Page)
        //console.log('#35 - Track Action - Click in Inhibit Communications Detail (on Billing Detail Page)')

        utag.link({
            'event_action': 'Invoice Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Inhibit Communications Detail',
            'event_value': '1',
            'page_name_next': 'Inhibit Communications Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleInhibitCommunicationsDetailPage: function() {
        // #36 - Track View - Inhibit Communications Detail Page
        if (window.utag) {
            this.fireInhibitCommunicationsDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInhibitCommunicationsDetailPage() });
        }
    }, fireInhibitCommunicationsDetailPage: function() {
        // #36 - Track View - Inhibit Communications Detail Page
        //console.log('#36 - Track View - Inhibit Communications Detail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Inhibit Communications Detail',
            'page_section': 'My Vodafone:Billing:Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInConfirmOnInhibitCommunicationsDetailPage: function(error) {
        // #37 - Track Action - Click in Confirm (on Inhibit Communications Detail Page)
        if (window.utag) {
            this.fireClickInConfirmOnInhibitCommunicationsDetailPage(error)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInConfirmOnInhibitCommunicationsDetailPage(error) });
        }
    }, fireClickInConfirmOnInhibitCommunicationsDetailPage: function(error) {
        // #37 - Track Action - Click in Confirm (on Inhibit Communications Detail Page)
        //console.log('#37 - Track Action - Click in Confirm (on Inhibit Communications Detail Page)')

        if (error) {
            var page_name_next = 'Error in Communication Detail Inhibition ';
        } else {
            var page_name_next = 'Communications Detail Inhibited With Success';
        }

        utag.link({
            'event_action': 'Invoice Detail - Inhibit Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInReturnOnInhibitCommunicationsDetailPage: function() {
        // #38 - Track Action - Click in Return (on Inhibit Communications Detail Page)
        if (window.utag) {
            this.fireClickInReturnOnInhibitCommunicationsDetailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInReturnOnInhibitCommunicationsDetailPage() });
        }
    }, fireClickInReturnOnInhibitCommunicationsDetailPage: function() {
        // #38 - Track Action - Click in Return (on Inhibit Communications Detail Page)
        //console.log('#38 - Track Action - Click in Return (on Inhibit Communications Detail Page)')

        utag.link({
            'event_action': 'Invoice Detail - Inhibit Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Invoice Detail',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleInhibitCommunicationsSuccessPage: function() {
        // #39 - Track View - Inhibit Communications Success Page
        if (window.utag) {
            this.fireInhibitCommunicationsSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInhibitCommunicationsSuccessPage() });
        }
    }, fireInhibitCommunicationsSuccessPage: function() {
        // #39 - Track View - Inhibit Communications Success Page
        //console.log('#39 - Track View - Inhibit Communications Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Communications Detail Inhibited With Success',
            'page_section': 'My Vodafone:Billing:Invoice Detail:Inhibit Communications Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleInhibitCommunicationsErrorPage: function() {
        // #40 - Track View - Inhibit Communications Error Page
        if (window.utag) {
            this.fireInhibitCommunicationsErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInhibitCommunicationsErrorPage() });
        }
    }, fireInhibitCommunicationsErrorPage: function() {
        // #40 - Track View - Inhibit Communications Error Page
        //console.log('#40 - Track View - Inhibit Communications Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error in Communication Detail Inhibition ',
            'page_section': 'My Vodafone:Billing:Invoice Detail:Inhibit Communications Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInContinueOnInhibitCommunicationsSuccessPage: function() {
        // #41 - Track Action - Click in Continue (on Inhibit Communications Success Page)
        if (window.utag) {
            this.fireClickInContinueOnInhibitCommunicationsSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInContinueOnInhibitCommunicationsSuccessPage() });
        }
    }, fireClickInContinueOnInhibitCommunicationsSuccessPage: function() {
        // #41 - Track Action - Click in Continue (on Inhibit Communications Success Page)
        //console.log('#41 - Track Action - Click in Continue (on Inhibit Communications Success Page)')

        utag.link({
            'event_action': 'Informative Extract - Communications Detail Inhibited With Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Informative Extract',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInContinueOnInhibitCommunicationsErrorPage: function() {
        // #42 - Track Action - Click in Continue (on Inhibit Communications Error Page)
        if (window.utag) {
            this.fireClickInContinueOnInhibitCommunicationsErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInContinueOnInhibitCommunicationsErrorPage() });
        }
    }, fireClickInContinueOnInhibitCommunicationsErrorPage: function() {
        // #42 - Track Action - Click in Continue (on Inhibit Communications Error Page)
        //console.log('#42 - Track Action - Click in Continue (on Inhibit Communications Error Page)')

        utag.link({
            'event_action': 'Informative Extract - Error in Communication Detail Inhibition',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Informative Extract',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global window, console, utag, tealiumBus*/
var tealium_billing_cont = {
    methods: {handleClickBillingSettingsOnHomepage: function(bill_status) {
        // #1 - Track Action - Click Billing Settings (on Homepage)
        if (window.utag) {
            this.fireClickBillingSettingsOnHomepage(bill_status)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickBillingSettingsOnHomepage(bill_status) });
        }
    }, fireClickBillingSettingsOnHomepage: function(bill_status) {
        // #1 - Track Action - Click Billing Settings (on Homepage)
        //console.log('#1 - Track Action - Click Billing Settings (on Homepage)')

        if (bill_status === 'Electronic Bill Active') { //Fatura Eletrónica
            var event_label = 'Electronic Bill Active';
        } else if (bill_status === 'Electronic Data Exchange Active') { //EDI
            var event_label = 'Electronic Data Exchange Active';
        } else if (bill_status === 'Electronic Bill Inactive') { //Fatura em Papel
            var event_label = 'Electronic Bill Inactive';
        } else if (bill_status === 'No Bill') { //Sem Fatura Ativa
            var event_label = 'No Bill';
        }

        utag.link({
            'event_action': 'Billing Settings',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickDirectDebitOnHomepage: function(direct_debit) {
        // #2 - Track Action - Click Direct Debit (on Homepage)
        if (window.utag) {
            this.fireClickDirectDebitOnHomepage(direct_debit)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickDirectDebitOnHomepage(direct_debit) });
        }
    }, fireClickDirectDebitOnHomepage: function(direct_debit) {
        // #2 - Track Action - Click Direct Debit (on Homepage)
        //console.log('#2 - Track Action - Click Direct Debit (on Homepage)')

        if (direct_debit === true) {
            var event_label = 'Direct Debit Active';
        } else if (direct_debit === false) {
            var event_label = 'Direct Debit Inactive';
        }

        utag.link({
            'event_action': 'Billing Settings',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleEbillPage: function() {
        // #3 - Track View - eBill Page
        if (window.utag) {
            this.fireEbillPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEbillPage() });
        }
    }, fireEbillPage: function() {
        // #3 - Track View - eBill Page
        //console.log('#3 - Track View - eBill Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Electronic Bill',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitPage: function() {
        // #4 - Track View - Direct Debit Page
        if (window.utag) {
            this.fireDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitPage() });
        }
    }, fireDirectDebitPage: function() {
        // #4 - Track View - Direct Debit Page
        //console.log('#4 - Track View - Direct Debit Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickChangeInvoiceFormatOnEbillPage: function(bill_status) {
        // #5 - Track Action - Click Change Invoice Format (on eBill Page)
        if (window.utag) {
            this.fireClickChangeInvoiceFormatOnEbillPage(bill_status)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickChangeInvoiceFormatOnEbillPage(bill_status) });
        }
    }, fireClickChangeInvoiceFormatOnEbillPage: function(bill_status) {
        // #5 - Track Action - Click Change Invoice Format (on eBill Page)
        //console.log('#5 - Track Action - Click Change Invoice Format (on eBill Page)')

        if (bill_status === 'No Bill') {
            var event_label = 'No Bill';
        } else if (bill_status === ' Detailed Electronic Bill') {
            var event_label = ' Detailed Electronic Bill';
        } else if (bill_status === 'Short Electronic Bill') {
            var event_label = 'Short Electronic Bill';
        } else if (bill_status === 'Detailed Paper Bill') {
            var event_label = 'Detailed Paper Bill';
        } else if (bill_status === 'Short Paper Bill') {
            var event_label = 'Short Paper Bill';
        } else if (bill_status === 'Electronic Data Exchange') {
            var event_label = 'Electronic Data Exchange';
        }

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': 'Invoice Format Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickChangeEmailOnEbillPage: function() {
        // #6 - Track Action - Click Change Email (on eBill Page)
        if (window.utag) {
            this.fireClickChangeEmailOnEbillPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickChangeEmailOnEbillPage() });
        }
    }, fireClickChangeEmailOnEbillPage: function() {
        // #6 - Track Action - Click Change Email (on eBill Page)
        //console.log('#6 - Track Action - Click Change Email (on eBill Page)')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Change Email',
            'event_value': '1',
            'page_name_next': 'Change Email',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickAddEmailOnEbillPage: function() {
        // #7 - Track Action - Click Add Email (on eBill Page)
        if (window.utag) {
            this.fireClickAddEmailOnEbillPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickAddEmailOnEbillPage() });
        }
    }, fireClickAddEmailOnEbillPage: function() {
        // #7 - Track Action - Click Add Email (on eBill Page)
        //console.log('#7 - Track Action - Click Add Email (on eBill Page)')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Add Email',
            'event_value': '1',
            'page_name_next': 'Add Email',
            'visitor_login_status': 'Logged In'
        });
    }, handleInvoiceFormatPage: function() {
        // #8 - Track View - Invoice Format Page
        if (window.utag) {
            this.fireInvoiceFormatPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvoiceFormatPage() });
        }
    }, fireInvoiceFormatPage: function() {
        // #8 - Track View - Invoice Format Page
        //console.log('#8 - Track View - Invoice Format Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Invoice Format Settings',
            'page_section': 'My Vodafone:Billing:Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInTermsAndConditionsCheckboxOnInvoiceFormatPage: function(checkbox) {
        // #9 - Track Action - Click in Terms and Conditions Checkbox (on Invoice Format Page)
        if (window.utag) {
            this.fireClickInTermsAndConditionsCheckboxOnInvoiceFormatPage(checkbox)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInTermsAndConditionsCheckboxOnInvoiceFormatPage(checkbox) });
        }
    }, fireClickInTermsAndConditionsCheckboxOnInvoiceFormatPage: function(checkbox) {
        // #9 - Track Action - Click in Terms and Conditions Checkbox (on Invoice Format Page)
        //console.log('#9 - Track Action - Click in Terms and Conditions Checkbox (on Invoice Format Page)')

        if (checkbox.checked) {
            var event_label = 'Enable Electronic Bill Terms and Conditions';
            var permission_event = 'visitor_permission_enable';
            var permission_status = 'Enabled';
        } else {
            var event_label = 'Disable Electronic Bill Terms and Conditions';
            var permission_event = 'visitor_permission_disable';
            var permission_status = 'Disabled';
        }

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance', permission_event],
            'event_label': event_label,
            'event_value': '1',
            'visitor_permission_name': 'Electronic Bill Terms and Conditions',
            'visitor_permission_status': permission_status,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickTermsconditionsHyperlinkOnInvoiceFormatPage: function() {
        // #10 - Track Action - Click Terms & Conditions Hyperlink (on Invoice Format Page)
        if (window.utag) {
            this.fireClickTermsconditionsHyperlinkOnInvoiceFormatPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTermsconditionsHyperlinkOnInvoiceFormatPage() });
        }
    }, fireClickTermsconditionsHyperlinkOnInvoiceFormatPage: function() {
        // #10 - Track Action - Click Terms & Conditions Hyperlink (on Invoice Format Page)
        //console.log('#10 - Track Action - Click Terms & Conditions Hyperlink (on Invoice Format Page)')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'See Electronic Bill Terms and Conditions',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailInputBoxWithInvalidEmailOnInvoiceFormatPage: function() {
        // #11 - Track Action - Leave Email Input Box with Invalid Email (on Invoice Format Page)
        if (window.utag) {
            this.fireLeaveEmailInputBoxWithInvalidEmailOnInvoiceFormatPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailInputBoxWithInvalidEmailOnInvoiceFormatPage() });
        }
    }, fireLeaveEmailInputBoxWithInvalidEmailOnInvoiceFormatPage: function() {
        // #11 - Track Action - Leave Email Input Box with Invalid Email (on Invoice Format Page)
        //console.log('#11 - Track Action - Leave Email Input Box with Invalid Email (on Invoice Format Page)')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnInvoiceFormatPageOnlySendWhenNoErrorsOnPage: function() {
        // #12 - Track Action - Click Continue (on Invoice Format Page) - Only send when no errors on page
        if (window.utag) {
            this.fireClickContinueOnInvoiceFormatPageOnlySendWhenNoErrorsOnPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInvoiceFormatPageOnlySendWhenNoErrorsOnPage() });
        }
    }, fireClickContinueOnInvoiceFormatPageOnlySendWhenNoErrorsOnPage: function() {
        // #12 - Track Action - Click Continue (on Invoice Format Page) - Only send when no errors on page
        //console.log('#12 - Track Action - Click Continue (on Invoice Format Page) - Only send when no errors on page')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Invoice Format Confirmation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCancelOnInvoiceFormatPage: function() {
        // #13 - Track Action - Click Cancel (on Invoice Format Page)
        if (window.utag) {
            this.fireClickCancelOnInvoiceFormatPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCancelOnInvoiceFormatPage() });
        }
    }, fireClickCancelOnInvoiceFormatPage: function() {
        // #13 - Track Action - Click Cancel (on Invoice Format Page)
        //console.log('#13 - Track Action - Click Cancel (on Invoice Format Page)')

        utag.link({
            'event_action': 'Change Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Cancel',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleInvoiceFormatConfirmationPage: function() {
        // #14 - Track View - Invoice Format Confirmation Page
        if (window.utag) {
            this.fireInvoiceFormatConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvoiceFormatConfirmationPage() });
        }
    }, fireInvoiceFormatConfirmationPage: function() {
        // #14 - Track View - Invoice Format Confirmation Page
        //console.log('#14 - Track View - Invoice Format Confirmation Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Invoice Format Confirmation',
            'page_section': 'My Vodafone:Billing:Electronic Bill:Invoice Format Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnInvoiceFormatConfirmationPage: function(success) {
        // #15 - Track Action - Click Continue (on Invoice Format Confirmation Page)
        if (window.utag) {
            this.fireClickContinueOnInvoiceFormatConfirmationPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInvoiceFormatConfirmationPage(success) });
        }
    }, fireClickContinueOnInvoiceFormatConfirmationPage: function(success) {
        // #15 - Track Action - Click Continue (on Invoice Format Confirmation Page)
        //console.log('#15 - Track Action - Click Continue (on Invoice Format Confirmation Page)')

        if (success) {
            var page_name_next = 'Invoice Format Changed with Success';
        } else {
            var page_name_next = 'Error Changing Invoice Format';
        }

        utag.link({
            'event_action': 'New Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnInvoiceFormatConfirmationPage: function() {
        // #16 - Track Action - Click Return (on Invoice Format Confirmation Page)
        if (window.utag) {
            this.fireClickReturnOnInvoiceFormatConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnInvoiceFormatConfirmationPage() });
        }
    }, fireClickReturnOnInvoiceFormatConfirmationPage: function() {
        // #16 - Track Action - Click Return (on Invoice Format Confirmation Page)
        //console.log('#16 - Track Action - Click Return (on Invoice Format Confirmation Page)')

        utag.link({
            'event_action': 'New Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Invoice Format Settings',
            'event_value': '1',
            'page_name_next': 'Invoice Format Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleInvoiceFormatSuccessPage: function() {
        // #17 - Track View - Invoice Format Success Page
        if (window.utag) {
            this.fireInvoiceFormatSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvoiceFormatSuccessPage() });
        }
    }, fireInvoiceFormatSuccessPage: function() {
        // #17 - Track View - Invoice Format Success Page
        //console.log('#17 - Track View - Invoice Format Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Invoice Format Changed with Success',
            'page_section': 'My Vodafone:Billing:Electronic Bill:Invoice Format Settings:Invoice Format Confirmation',
            'visitor_login_status': 'Logged In'
        });
    }, handleInvoiceFormatErrorPage: function() {
        // #18 - Track View - Invoice Format Error Page
        if (window.utag) {
            this.fireInvoiceFormatErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvoiceFormatErrorPage() });
        }
    }, fireInvoiceFormatErrorPage: function() {
        // #18 - Track View - Invoice Format Error Page
        //console.log('#18 - Track View - Invoice Format Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Changing Invoice Format',
            'page_section': 'My Vodafone:Billing:Electronic Bill:Invoice Format Settings:Invoice Format Confirmation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnInvoiceFormatSuccessPage: function() {
        // #19 - Track Action - Click Continue (on Invoice Format Success Page)
        if (window.utag) {
            this.fireClickContinueOnInvoiceFormatSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInvoiceFormatSuccessPage() });
        }
    }, fireClickContinueOnInvoiceFormatSuccessPage: function() {
        // #19 - Track Action - Click Continue (on Invoice Format Success Page)
        //console.log('#19 - Track Action - Click Continue (on Invoice Format Success Page)')

        utag.link({
            'event_action': 'Invoice Format Changed with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnInvoiceFormatErrorPage: function() {
        // #20 - Track Action - Click Continue (on Invoice Format Error Page)
        if (window.utag) {
            this.fireClickContinueOnInvoiceFormatErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInvoiceFormatErrorPage() });
        }
    }, fireClickContinueOnInvoiceFormatErrorPage: function() {
        // #20 - Track Action - Click Continue (on Invoice Format Error Page)
        //console.log('#20 - Track Action - Click Continue (on Invoice Format Error Page)')

        utag.link({
            'event_action': 'Error Changing Invoice Format',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeInvoiceEmailPage: function() {
        // #21 - Track View - Change Invoice Email Page
        if (window.utag) {
            this.fireChangeInvoiceEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeInvoiceEmailPage() });
        }
    }, fireChangeInvoiceEmailPage: function() {
        // #21 - Track View - Change Invoice Email Page
        //console.log('#21 - Track View - Change Invoice Email Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Change Email',
            'page_section': 'My Vodafone:Billing:Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnChangeInvoiceEmailPageOnlySendWhenNoErrorsOnPage: function() {
        // #22 - Track Action - Click Continue (on Change Invoice Email Page) - Only send when no errors on page
        if (window.utag) {
            this.fireClickContinueOnChangeInvoiceEmailPageOnlySendWhenNoErrorsOnPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnChangeInvoiceEmailPageOnlySendWhenNoErrorsOnPage() });
        }
    }, fireClickContinueOnChangeInvoiceEmailPageOnlySendWhenNoErrorsOnPage: function() {
        // #22 - Track Action - Click Continue (on Change Invoice Email Page) - Only send when no errors on page
        //console.log('#22 - Track Action - Click Continue (on Change Invoice Email Page) - Only send when no errors on page')

        utag.link({
            'event_action': 'Change Electronic Bill Email',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Email Changed with Success',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnChangeInvoiceEmailPage: function() {
        // #23 - Track Action - Click Return (on Change Invoice Email Page)
        if (window.utag) {
            this.fireClickReturnOnChangeInvoiceEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnChangeInvoiceEmailPage() });
        }
    }, fireClickReturnOnChangeInvoiceEmailPage: function() {
        // #23 - Track Action - Click Return (on Change Invoice Email Page)
        //console.log('#23 - Track Action - Click Return (on Change Invoice Email Page)')

        utag.link({
            'event_action': 'Change Electronic Bill Email',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Electronic Bill',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleEmailChangedWithSuccessPage: function() {
        // #24 - Track View - Email Changed with Success Page
        if (window.utag) {
            this.fireEmailChangedWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEmailChangedWithSuccessPage() });
        }
    }, fireEmailChangedWithSuccessPage: function() {
        // #24 - Track View - Email Changed with Success Page
        //console.log('#24 - Track View - Email Changed with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Email Changed with Success',
            'page_section': 'My Vodafone:Billing:Electronic Bill:Change Email',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnEmailChangedWithSuccessPage: function() {
        // #25 - Track Action - Click Continue (on Email Changed with Success Page)
        if (window.utag) {
            this.fireClickContinueOnEmailChangedWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnEmailChangedWithSuccessPage() });
        }
    }, fireClickContinueOnEmailChangedWithSuccessPage: function() {
        // #25 - Track Action - Click Continue (on Email Changed with Success Page)
        //console.log('#25 - Track Action - Click Continue (on Email Changed with Success Page)')

        utag.link({
            'event_action': 'Email Changed with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailInputBoxWithInvalidEmailOnChangeInvoiceEmailPage: function() {
        // #26 - Track Action - Leave Email Input Box with Invalid Email (on Change Invoice Email Page)
        if (window.utag) {
            this.fireLeaveEmailInputBoxWithInvalidEmailOnChangeInvoiceEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailInputBoxWithInvalidEmailOnChangeInvoiceEmailPage() });
        }
    }, fireLeaveEmailInputBoxWithInvalidEmailOnChangeInvoiceEmailPage: function() {
        // #26 - Track Action - Leave Email Input Box with Invalid Email (on Change Invoice Email Page)
        //console.log('#26 - Track Action - Leave Email Input Box with Invalid Email (on Change Invoice Email Page)')

        utag.link({
            'event_action': 'Change Electronic Bill Email',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailConfirmationInputBoxWithMismatchEmailOnChangeInvoiceEmailPage: function() {
        // #27 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)
        if (window.utag) {
            this.fireLeaveEmailConfirmationInputBoxWithMismatchEmailOnChangeInvoiceEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailConfirmationInputBoxWithMismatchEmailOnChangeInvoiceEmailPage() });
        }
    }, fireLeaveEmailConfirmationInputBoxWithMismatchEmailOnChangeInvoiceEmailPage: function() {
        // #27 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)
        //console.log('#27 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)')

        utag.link({
            'event_action': 'Change Electronic Bill Email',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Confirmation Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueWithRequiredFieldsNotFilledOnChangeInvoiceEmailPage: function() {
        // #28 - Track Action - Click Continue with Required Fields not filled (on Change Invoice Email Page)
        if (window.utag) {
            this.fireClickContinueWithRequiredFieldsNotFilledOnChangeInvoiceEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueWithRequiredFieldsNotFilledOnChangeInvoiceEmailPage() });
        }
    }, fireClickContinueWithRequiredFieldsNotFilledOnChangeInvoiceEmailPage: function() {
        // #28 - Track Action - Click Continue with Required Fields not filled (on Change Invoice Email Page)
        //console.log('#28 - Track Action - Click Continue with Required Fields not filled (on Change Invoice Email Page)')

        utag.link({
            'event_action': 'Change Electronic Bill Email',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Mandatory Field',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleAddEmailPage: function() {
        // #29 - Track View - Add Email Page
        if (window.utag) {
            this.fireAddEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAddEmailPage() });
        }
    }, fireAddEmailPage: function() {
        // #29 - Track View - Add Email Page
        //console.log('#29 - Track View - Add Email Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Add Email',
            'page_section': 'My Vodafone:Billing:Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailInputBoxWithInvalidEmailOnAddEmailPage: function() {
        // #30 - Track Action - Leave Email Input Box with Invalid Email (on Add Email Page)
        if (window.utag) {
            this.fireLeaveEmailInputBoxWithInvalidEmailOnAddEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailInputBoxWithInvalidEmailOnAddEmailPage() });
        }
    }, fireLeaveEmailInputBoxWithInvalidEmailOnAddEmailPage: function() {
        // #30 - Track Action - Leave Email Input Box with Invalid Email (on Add Email Page)
        //console.log('#30 - Track Action - Leave Email Input Box with Invalid Email (on Add Email Page)')

        utag.link({
            'event_action': 'Add Email to Electronic Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueWithRequiredFieldsNotFilledOnAddEmailPage: function() {
        // #31 - Track Action - Click Continue with Required Fields not filled (on Add Email Page)
        if (window.utag) {
            this.fireClickContinueWithRequiredFieldsNotFilledOnAddEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueWithRequiredFieldsNotFilledOnAddEmailPage() });
        }
    }, fireClickContinueWithRequiredFieldsNotFilledOnAddEmailPage: function() {
        // #31 - Track Action - Click Continue with Required Fields not filled (on Add Email Page)
        //console.log('#31 - Track Action - Click Continue with Required Fields not filled (on Add Email Page)')

        utag.link({
            'event_action': 'Add Email to Electronic Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Mandatory Field',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleMismatchEmailOnAddEmail: function() {
        // #32 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)
        if (window.utag) {
            this.fireMismatchEmailOnAddEmail()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMismatchEmailOnAddEmail() });
        }
    }, fireMismatchEmailOnAddEmail: function() {
        // #32 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)
        //console.log('#32 - Track Action - Leave Email Confirmation Input Box with Mismatch Email (on Change Invoice Email Page)')

        utag.link({
            'event_action': 'Add Email to Electronic Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Confirmation Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnAddEmailPageOnlySendWhenNoErrorsOnPage: function() {
        // #33 - Track Action - Click Continue (on Add Email Page) - Only send when no errors on page
        if (window.utag) {
            this.fireClickContinueOnAddEmailPageOnlySendWhenNoErrorsOnPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnAddEmailPageOnlySendWhenNoErrorsOnPage() });
        }
    }, fireClickContinueOnAddEmailPageOnlySendWhenNoErrorsOnPage: function() {
        // #33 - Track Action - Click Continue (on Add Email Page) - Only send when no errors on page
        //console.log('#33 - Track Action - Click Continue (on Add Email Page) - Only send when no errors on page')

        utag.link({
            'event_action': 'Add Email to Electronic Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Email Added with Success',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCancelOnAddEmailPage: function() {
        // #34 - Track Action - Click Cancel (on Add Email Page)
        if (window.utag) {
            this.fireClickCancelOnAddEmailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCancelOnAddEmailPage() });
        }
    }, fireClickCancelOnAddEmailPage: function() {
        // #34 - Track Action - Click Cancel (on Add Email Page)
        //console.log('#34 - Track Action - Click Cancel (on Add Email Page)')

        utag.link({
            'event_action': 'Add Email to Electronic Bill',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Electronic Bill',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleAddEmailSuccessPage: function() {
        // #35 - Track View - Add Email Success Page
        if (window.utag) {
            this.fireAddEmailSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAddEmailSuccessPage() });
        }
    }, fireAddEmailSuccessPage: function() {
        // #35 - Track View - Add Email Success Page
        //console.log('#35 - Track View - Add Email Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Email Added with Success',
            'page_section': 'My Vodafone:Billing:Electronic Bill:Add Email',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnAddEmailSuccessPage: function() {
        // #36 - Track Action - Click Continue (on Add Email Success Page)
        if (window.utag) {
            this.fireClickContinueOnAddEmailSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnAddEmailSuccessPage() });
        }
    }, fireClickContinueOnAddEmailSuccessPage: function() {
        // #36 - Track Action - Click Continue (on Add Email Success Page)
        //console.log('#36 - Track Action - Click Continue (on Add Email Success Page)')

        utag.link({
            'event_action': 'Email Added with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Electronic Bill',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInCreditNoteComponentOnBillingPage: function(success) {
        // #37 - Track Action - Click in Credit Note Component (on Billing Page)
        if (window.utag) {
            this.fireClickInCreditNoteComponentOnBillingPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInCreditNoteComponentOnBillingPage(success) });
        }
    }, fireClickInCreditNoteComponentOnBillingPage: function(success) {
        // #37 - Track Action - Click in Credit Note Component (on Billing Page)
        //console.log('#37 - Track Action - Click in Credit Note Component (on Billing Page)')

        // This request has already been implemented previously: change the event_label (it was "See Previous Credit Note") and change page_name_next (it was "Credit Note Detail")

        if (success) {
            var page_name_next = 'Credit Note Downloaded With Success';
        } else {
            var page_name_next = 'Error on Credit Note Download';
        }

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Download Credit Note',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPaymentComponentOnBillingPage: function(success) {
        // #38 - Track Action - Click in Payment Component (on Billing Page)
        if (window.utag) {
            this.fireClickInPaymentComponentOnBillingPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPaymentComponentOnBillingPage(success) });
        }
    }, fireClickInPaymentComponentOnBillingPage: function(success) {
        // #38 - Track Action - Click in Payment Component (on Billing Page)
        //console.log('#38 - Track Action - Click in Payment Component (on Billing Page)')

        // This request has already been implemented previously: change the event_label (it was "See Previous Payment") and change page_name_next (it was "Payment Detail")

        if (success) {
            var page_name_next = 'Payment Downloaded With Success';
        } else {
            var page_name_next = 'Error on Payment Download';
        }

        utag.link({
            'event_action': 'Last Movements',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Download Payment',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickInPaymentReversalComponentOnBillingPage: function() {
        // #39 - Track Action - Click in Payment Reversal Component (on Billing Page)
        if (window.utag) {
            this.fireClickInPaymentReversalComponentOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInPaymentReversalComponentOnBillingPage() });
        }
    }, fireClickInPaymentReversalComponentOnBillingPage: function() {
        // #39 - Track Action - Click in Payment Reversal Component (on Billing Page)
        //console.log('#39 - Track Action - Click in Payment Reversal Component (on Billing Page)')

        // This request has already been implemented previously: remove the tracking (the event_label was "Payment Reversal")

        /*
utag.link({
"event_action"          : "Last Movements",
"event_category"        : "Billing",
"event"                 : ["event_instance"],
"event_label"           : "Payment Reversal",
"event_value"           : "1",
"visitor_login_status"  : "Logged In"
});
*/
    }, handleDownloadCreditNoteSuccessToast: function() {
        // #40 - Track View - Download Credit Note Success Toast
        if (window.utag) {
            this.fireDownloadCreditNoteSuccessToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCreditNoteSuccessToast() });
        }
    }, fireDownloadCreditNoteSuccessToast: function() {
        // #40 - Track View - Download Credit Note Success Toast
        //console.log('#40 - Track View - Download Credit Note Success Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Credit Note Downloaded With Success',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadCreditNoteErrorToast: function() {
        // #41 - Track View - Download Credit Note Error Toast
        if (window.utag) {
            this.fireDownloadCreditNoteErrorToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCreditNoteErrorToast() });
        }
    }, fireDownloadCreditNoteErrorToast: function() {
        // #41 - Track View - Download Credit Note Error Toast
        //console.log('#41 - Track View - Download Credit Note Error Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error on Credit Note Download',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadPaymentSuccessToast: function() {
        // #42 - Track View - Download Payment Success Toast
        if (window.utag) {
            this.fireDownloadPaymentSuccessToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadPaymentSuccessToast() });
        }
    }, fireDownloadPaymentSuccessToast: function() {
        // #42 - Track View - Download Payment Success Toast
        //console.log('#42 - Track View - Download Payment Success Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Payment Downloaded With Success',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadPaymentErrorToast: function() {
        // #43 - Track View - Download Payment Error Toast
        if (window.utag) {
            this.fireDownloadPaymentErrorToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadPaymentErrorToast() });
        }
    }, fireDownloadPaymentErrorToast: function() {
        // #43 - Track View - Download Payment Error Toast
        //console.log('#43 - Track View - Download Payment Error Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error on Payment Download',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickGeneralTabOnBillingPage: function() {
        // #44 - Track Action - Click General Tab (on Billing Page)
        if (window.utag) {
            this.fireClickGeneralTabOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickGeneralTabOnBillingPage() });
        }
    }, fireClickGeneralTabOnBillingPage: function() {
        // #44 - Track Action - Click General Tab (on Billing Page)
        //console.log('#44 - Track Action - Click General Tab (on Billing Page)')

        utag.link({
            'event_action': 'Invoice Detail - Summary Charges',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'General',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickByServiceTabOnBillingPage: function() {
        // #45 - Track Action - Click By Service Tab (on Billing Page)
        if (window.utag) {
            this.fireClickByServiceTabOnBillingPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickByServiceTabOnBillingPage() });
        }
    }, fireClickByServiceTabOnBillingPage: function() {
        // #45 - Track Action - Click By Service Tab (on Billing Page)
        //console.log('#45 - Track Action - Click By Service Tab (on Billing Page)')

        utag.link({
            'event_action': 'Invoice Detail - Summary Charges',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'By Service',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandMobileServicesOnBillingPageOnlyTrackExpandNotTrackCollapse: function(service_expanded) {
        // #46 - Track Action - Expand Mobile Services (on Billing Page) - Only track expand, not track collapse
        if (window.utag) {
            this.fireExpandMobileServicesOnBillingPageOnlyTrackExpandNotTrackCollapse(service_expanded)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandMobileServicesOnBillingPageOnlyTrackExpandNotTrackCollapse(service_expanded) });
        }
    }, fireExpandMobileServicesOnBillingPageOnlyTrackExpandNotTrackCollapse: function(service_expanded) {
        // #46 - Track Action - Expand Mobile Services (on Billing Page) - Only track expand, not track collapse
        //console.log('#46 - Track Action - Expand Mobile Services (on Billing Page) - Only track expand, not track collapse')

        if (service_expanded === 'Mobile Services') {
            var event_label = 'Mobile Services';
        } else if (service_expanded === 'Business Solutions') {
            var event_label = 'Business Solutions';
        }

        utag.link({
            'event_action': 'Invoice Detail - Expand General Summary Charges',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectServiceOnBillingPageByServiceTab: function() {
        // #47 - Track Action - Select Service (on Billing Page By Service Tab)
        if (window.utag) {
            this.fireSelectServiceOnBillingPageByServiceTab()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectServiceOnBillingPageByServiceTab() });
        }
    }, fireSelectServiceOnBillingPageByServiceTab: function() {
        // #47 - Track Action - Select Service (on Billing Page By Service Tab)
        //console.log('#47 - Track Action - Select Service (on Billing Page By Service Tab)')

        utag.link({
            'event_action': 'Invoice Detail - Summary Charges by Service',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Select Different Service',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeMsisdnToMobileAndAddPackages3p4pAnd5p: function(service_to_expand) {
        // #48 - Track Action - Update event_label rules on Expand Service (Already tracked in VFPTMYVF-367 as #33) - Change MSISDN to Mobile and add Packages 3P, 4P and 5P
        if (window.utag) {
            this.fireChangeMsisdnToMobileAndAddPackages3p4pAnd5p(service_to_expand)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeMsisdnToMobileAndAddPackages3p4pAnd5p(service_to_expand) });
        }
    }, fireChangeMsisdnToMobileAndAddPackages3p4pAnd5p: function(service_to_expand) {
        // #48 - Track Action - Update event_label rules on Expand Service (Already tracked in VFPTMYVF-367 as #33) - Change MSISDN to Mobile and add Packages 3P, 4P and 5P
        //console.log('#48 - Track Action - Update event_label rules on Expand Service (Already tracked in VFPTMYVF-367 as #33) - Change MSISDN to Mobile and add Packages 3P, 4P and 5P')

        if (service_to_expand === 'MSISDN') {
            var event_label = 'Mobile';
        } else if (service_to_expand === 'BroadBand') {
            var event_label = 'BroadBand';
        } else if (service_to_expand === 'Account') {
            var event_label = 'Account';
        } else if (service_to_expand === 'Signal Max') {
            var event_label = 'Signal Max';
        } else if (service_to_expand === 'Fixed Service') {
            var event_label = 'Fixed Service';
        } else if (service_to_expand === '3P') {
            var event_label = '3P';
        } else if (service_to_expand === '4P') {
            var event_label = '4P';
        } else if (service_to_expand === '5P') {
            var event_label = '5P';
        }

        utag.link({
            'event_action': 'Invoice Detail - Expand Service on Summary Charges',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandExportCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse: function() {
        // #49 - Track Action - Expand Export Communications (on Billing Details Page) - Only track expand, not track collapse
        if (window.utag) {
            this.fireExpandExportCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandExportCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse() });
        }
    }, fireExpandExportCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse: function() {
        // #49 - Track Action - Expand Export Communications (on Billing Details Page) - Only track expand, not track collapse
        //console.log('#49 - Track Action - Expand Export Communications (on Billing Details Page) - Only track expand, not track collapse')

        utag.link({
            'event_action': 'Invoice Detail - Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Expand Export Communications',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickExportCommunicationsOnBillingDetailsPage: function(file_type, success) {
        // #50 - Track Action - Click Export Communications (on Billing Details Page)
        if (window.utag) {
            this.fireClickExportCommunicationsOnBillingDetailsPage(file_type, success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickExportCommunicationsOnBillingDetailsPage(file_type, success) });
        }
    }, fireClickExportCommunicationsOnBillingDetailsPage: function(file_type, success) {
        // #50 - Track Action - Click Export Communications (on Billing Details Page)
        //console.log('#50 - Track Action - Click Export Communications (on Billing Details Page)')

        if (file_type === 'CSV') {
            var event_label = 'Download CSV';
        } else if (file_type === 'TXT') {
            var event_label = 'Download TXT';
        } else if (file_type === 'XLS') {
            var event_label = 'Download XLS';
        } else if (file_type === 'TLC') {
            var event_label = 'Download TLC';
        }

        if (success) {
            var page_name_next = 'Communications Exported With Success';
        } else {
            var page_name_next = 'Error Exporting Communications';
        }

        utag.link({
            'event_action': 'Invoice Detail - Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadCommunicationsSuccessToastOnBillingDetailsPage: function() {
        // #51 - Track View - Download Communications Success Toast (on Billing Details Page)
        if (window.utag) {
            this.fireDownloadCommunicationsSuccessToastOnBillingDetailsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCommunicationsSuccessToastOnBillingDetailsPage() });
        }
    }, fireDownloadCommunicationsSuccessToastOnBillingDetailsPage: function() {
        // #51 - Track View - Download Communications Success Toast (on Billing Details Page)
        //console.log('#51 - Track View - Download Communications Success Toast (on Billing Details Page)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Communications Exported With Success',
            'page_section': 'My Vodafone:Billing:Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadCommunicationsErrorToastOnBillingDetailsPage: function() {
        // #52 - Track View - Download Communications Error Toast (on Billing Details Page)
        if (window.utag) {
            this.fireDownloadCommunicationsErrorToastOnBillingDetailsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCommunicationsErrorToastOnBillingDetailsPage() });
        }
    }, fireDownloadCommunicationsErrorToastOnBillingDetailsPage: function() {
        // #52 - Track View - Download Communications Error Toast (on Billing Details Page)
        //console.log('#52 - Track View - Download Communications Error Toast (on Billing Details Page)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Exporting Communications',
            'page_section': 'My Vodafone:Billing Extracts:Informative Extract',
            'page_section_full': 'My Vodafone:Billing Extracts:Informative Extract:Error Exporting Communications',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandInhibitCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse: function() {
        // #53 - Track Action - Expand Inhibit Communications (on Billing Details Page) - Only track expand, not track collapse
        if (window.utag) {
            this.fireExpandInhibitCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandInhibitCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse() });
        }
    }, fireExpandInhibitCommunicationsOnBillingDetailsPageOnlyTrackExpandNotTrackCollapse: function() {
        // #53 - Track Action - Expand Inhibit Communications (on Billing Details Page) - Only track expand, not track collapse
        //console.log('#53 - Track Action - Expand Inhibit Communications (on Billing Details Page) - Only track expand, not track collapse')

        utag.link({
            'event_action': 'Invoice Detail - Communications Detail',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Expand Inhibit Communications',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickExportCommunicationsOnHomepagePage: function(file_type, success) {
        // #54 - Track Action - Click Export Communications (on Homepage Page)
        if (window.utag) {
            this.fireClickExportCommunicationsOnHomepagePage(file_type, success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickExportCommunicationsOnHomepagePage(file_type, success) });
        }
    }, fireClickExportCommunicationsOnHomepagePage: function(file_type, success) {
        // #54 - Track Action - Click Export Communications (on Homepage Page)
        //console.log('#54 - Track Action - Click Export Communications (on Homepage Page)')

        if (file_type === 'CSV') {
            var event_label = 'Download CSV';
        } else if (file_type === 'TXT') {
            var event_label = 'Download TXT';
        } else if (file_type === 'XLS') {
            var event_label = 'Download XLS';
        }

        if (success) {
            var page_name_next = 'Last Communications Exported With Success';
        } else {
            var page_name_next = 'Error Exporting Last Communications';
        }

        utag.link({
            'event_action': 'Export Last Communications',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadCommunicationsSuccessToastOnHomepage: function() {
        // #55 - Track View - Download Communications Success Toast (on Homepage)
        if (window.utag) {
            this.fireDownloadCommunicationsSuccessToastOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCommunicationsSuccessToastOnHomepage() });
        }
    }, fireDownloadCommunicationsSuccessToastOnHomepage: function() {
        // #55 - Track View - Download Communications Success Toast (on Homepage)
        //console.log('#55 - Track View - Download Communications Success Toast (on Homepage)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Last Communications Exported With Success',
            'page_section': 'My Vodafone',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadCommunicationsErrorToastOnHomepage: function() {
        // #56 - Track View - Download Communications Error Toast (on Homepage)
        if (window.utag) {
            this.fireDownloadCommunicationsErrorToastOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadCommunicationsErrorToastOnHomepage() });
        }
    }, fireDownloadCommunicationsErrorToastOnHomepage: function() {
        // #56 - Track View - Download Communications Error Toast (on Homepage)
        //console.log('#56 - Track View - Download Communications Error Toast (on Homepage)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Exporting Last Communications',
            'page_section': 'My Vodafone',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global window, console, utag, tealiumBus*/
var tealium_billing_it3 = {
    methods: {handleClickActivateDirectDebit: function() {
        // #1 - Track Action - Click Activate Direct Debit
        if (window.utag) {
            this.fireClickActivateDirectDebit()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickActivateDirectDebit() });
        }
    }, fireClickActivateDirectDebit: function() {
        // #1 - Track Action - Click Activate Direct Debit
        //console.log('#1 - Track Action - Click Activate Direct Debit')

        utag.link({
            'event_action': 'Manage Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Activate Direct Debit',
            'event_value': '1',
            'page_name_next': 'Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitPage: function() {
        // #2 - Track View - Direct Debit Page
        if (window.utag) {
            this.fireDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitPage() });
        }
    }, fireDirectDebitPage: function() {
        // #2 - Track View - Direct Debit Page
        //console.log('#2 - Track View - Direct Debit Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit Activation',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSettingExpirationDateOnDirectDebitPage: function() {
        // #3 - Track Action - Error setting expiration date (on Direct Debit Page)
        if (window.utag) {
            this.fireErrorSettingExpirationDateOnDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSettingExpirationDateOnDirectDebitPage() });
        }
    }, fireErrorSettingExpirationDateOnDirectDebitPage: function() {
        // #3 - Track Action - Error setting expiration date (on Direct Debit Page)
        //console.log('#3 - Track Action - Error setting expiration date (on Direct Debit Page)')

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Expiration Date',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSettingIbanOnDirectDebitPage: function() {
        // #4 - Track Action - Error setting IBAN (on Direct Debit Page)
        if (window.utag) {
            this.fireErrorSettingIbanOnDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSettingIbanOnDirectDebitPage() });
        }
    }, fireErrorSettingIbanOnDirectDebitPage: function() {
        // #4 - Track Action - Error setting IBAN (on Direct Debit Page)
        //console.log('#4 - Track Action - Error setting IBAN (on Direct Debit Page)')

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid IBAN',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueWithoutErrorsOnDirectDebitPage: function() {
        // #5 - Track Action - Click Continue without errors (on Direct Debit Page)
        if (window.utag) {
            this.fireClickContinueWithoutErrorsOnDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueWithoutErrorsOnDirectDebitPage() });
        }
    }, fireClickContinueWithoutErrorsOnDirectDebitPage: function() {
        // #5 - Track Action - Click Continue without errors (on Direct Debit Page)
        //console.log('#5 - Track Action - Click Continue without errors (on Direct Debit Page)')

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Confirm Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCancelOnDirectDebitPage: function() {
        // #6 - Track Action - Click Cancel (on Direct Debit Page)
        if (window.utag) {
            this.fireClickCancelOnDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCancelOnDirectDebitPage() });
        }
    }, fireClickCancelOnDirectDebitPage: function() {
        // #6 - Track Action - Click Cancel (on Direct Debit Page)
        //console.log('#6 - Track Action - Click Cancel (on Direct Debit Page)')

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Direct Debit Page',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitConfirmationPage: function() {
        // #7 - Track View - Direct Debit Confirmation Page
        if (window.utag) {
            this.fireDirectDebitConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitConfirmationPage() });
        }
    }, fireDirectDebitConfirmationPage: function() {
        // #7 - Track View - Direct Debit Confirmation Page
        //console.log('#7 - Track View - Direct Debit Confirmation Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Confirm Direct Debit Activation',
            'page_section': 'My Vodafone:Billing:Direct Debit:Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmWithoutErrorsOnDirectDebitConfirmationPage: function(success) {
        // #8 - Track Action - Click Confirm without errors (on Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickConfirmWithoutErrorsOnDirectDebitConfirmationPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmWithoutErrorsOnDirectDebitConfirmationPage(success) });
        }
    }, fireClickConfirmWithoutErrorsOnDirectDebitConfirmationPage: function(success) {
        // #8 - Track Action - Click Confirm without errors (on Direct Debit Confirmation Page)
        //console.log('#8 - Track Action - Click Confirm without errors (on Direct Debit Confirmation Page)')

        if (success) {
            var page_name_next = 'Direct Debit Activated with Success';
        } else {
            var page_name_next = 'Error Activating Direct Debit';
        }

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickGoBackOnDirectDebitConfirmationPage: function() {
        // #9 - Track Action - Click Go Back (on Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickGoBackOnDirectDebitConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickGoBackOnDirectDebitConfirmationPage() });
        }
    }, fireClickGoBackOnDirectDebitConfirmationPage: function() {
        // #9 - Track Action - Click Go Back (on Direct Debit Confirmation Page)
        //console.log('#9 - Track Action - Click Go Back (on Direct Debit Confirmation Page)')

        utag.link({
            'event_action': 'Activate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Direct Debit Settings',
            'event_value': '1',
            'page_name_next': 'Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitActivationSuccessPage: function() {
        // #10 - Track View - Direct Debit Activation Success Page
        if (window.utag) {
            this.fireDirectDebitActivationSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitActivationSuccessPage() });
        }
    }, fireDirectDebitActivationSuccessPage: function() {
        // #10 - Track View - Direct Debit Activation Success Page
        //console.log('#10 - Track View - Direct Debit Activation Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit Activated with Success',
            'page_section': 'My Vodafone:Billing:Direct Debit:Direct Debit Activation:Confirm Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDirectDebitActivationSuccessPage: function() {
        // #11 - Track Action - Click Continue (on Direct Debit Activation Success Page)
        if (window.utag) {
            this.fireClickContinueOnDirectDebitActivationSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDirectDebitActivationSuccessPage() });
        }
    }, fireClickContinueOnDirectDebitActivationSuccessPage: function() {
        // #11 - Track Action - Click Continue (on Direct Debit Activation Success Page)
        //console.log('#11 - Track Action - Click Continue (on Direct Debit Activation Success Page)')

        utag.link({
            'event_action': 'Direct Debit Activated with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitActivationErrorPage: function() {
        // #12 - Track View - Direct Debit Activation Error Page
        if (window.utag) {
            this.fireDirectDebitActivationErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitActivationErrorPage() });
        }
    }, fireDirectDebitActivationErrorPage: function() {
        // #12 - Track View - Direct Debit Activation Error Page
        //console.log('#12 - Track View - Direct Debit Activation Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Activating Direct Debit',
            'page_section': 'My Vodafone:Billing:Direct Debit:Direct Debit Activation:Confirm Direct Debit Activation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDirectDebitActivationErrorPage: function() {
        // #13 - Track Action - Click Continue (on Direct Debit Activation Error Page)
        if (window.utag) {
            this.fireClickContinueOnDirectDebitActivationErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDirectDebitActivationErrorPage() });
        }
    }, fireClickContinueOnDirectDebitActivationErrorPage: function() {
        // #13 - Track Action - Click Continue (on Direct Debit Activation Error Page)
        //console.log('#13 - Track Action - Click Continue (on Direct Debit Activation Error Page)')

        utag.link({
            'event_action': 'Error Activating Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDownloadDirectDebitMandate: function(success) {
        // #14 - Track Action - Download Direct Debit Mandate
        if (window.utag) {
            this.fireDownloadDirectDebitMandate(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadDirectDebitMandate(success) });
        }
    }, fireDownloadDirectDebitMandate: function(success) {
        // #14 - Track Action - Download Direct Debit Mandate
        //console.log('#14 - Track Action - Download Direct Debit Mandate')

        if (success) {
            var page_name_next = 'Debit Direct Mandate Downloaded With Success';
        } else {
            var page_name_next = 'Error Downloading Debit Direct Mandate';
        }

        utag.link({
            'event_action': 'Manage Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Download Direct Debit Mandate',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleDebitDirectMandateDownloadedWithSuccessToast: function() {
        // #15 - Track View - Debit Direct Mandate Downloaded With Success Toast
        if (window.utag) {
            this.fireDebitDirectMandateDownloadedWithSuccessToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDebitDirectMandateDownloadedWithSuccessToast() });
        }
    }, fireDebitDirectMandateDownloadedWithSuccessToast: function() {
        // #15 - Track View - Debit Direct Mandate Downloaded With Success Toast
        //console.log('#15 - Track View - Debit Direct Mandate Downloaded With Success Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Debit Direct Mandate Downloaded With Success',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorDownloadingDebitDirectMandateToast: function() {
        // #16 - Track View - Error Downloading Debit Direct Mandate Toast
        if (window.utag) {
            this.fireErrorDownloadingDebitDirectMandateToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorDownloadingDebitDirectMandateToast() });
        }
    }, fireErrorDownloadingDebitDirectMandateToast: function() {
        // #16 - Track View - Error Downloading Debit Direct Mandate Toast
        //console.log('#16 - Track View - Error Downloading Debit Direct Mandate Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Downloading Debit Direct Mandate',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDisableDirectDebit: function() {
        // #17 - Track Action - Disable Direct Debit
        if (window.utag) {
            this.fireDisableDirectDebit()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDisableDirectDebit() });
        }
    }, fireDisableDirectDebit: function() {
        // #17 - Track Action - Disable Direct Debit
        //console.log('#17 - Track Action - Disable Direct Debit')

        utag.link({
            'event_action': 'Manage Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Deactivate Direct Debit',
            'event_value': '1',
            'page_name_next': 'Direct Debit Deactivation',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitDeactivateConfirmationPage: function() {
        // #18 - Track View - Direct Debit Confirmation Page
        if (window.utag) {
            this.fireDirectDebitDeactivateConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitDeactivateConfirmationPage() });
        }
    }, fireDirectDebitDeactivateConfirmationPage: function() {
        // #18 - Track View - Direct Debit Confirmation Page
        //console.log('#18 - Track View - Direct Debit Confirmation Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit Deactivation',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmOnDirectDebitConfirmationPage: function(success) {
        // #19 - Track Action - Click Confirm (on Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickConfirmOnDirectDebitConfirmationPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmOnDirectDebitConfirmationPage(success) });
        }
    }, fireClickConfirmOnDirectDebitConfirmationPage: function(success) {
        // #19 - Track Action - Click Confirm (on Direct Debit Confirmation Page)
        //console.log('#19 - Track Action - Click Confirm (on Direct Debit Confirmation Page)')

        if (success) {
            var page_name_next = 'Direct Debit Deactivated with Success';
        } else {
            var page_name_next = 'Error Deactivating Direct Debit';
        }

        utag.link({
            'event_action': 'Deactivate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnDirectDebitConfirmationPage: function() {
        // #20 - Track Action - Click Return (on Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickReturnOnDirectDebitConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnDirectDebitConfirmationPage() });
        }
    }, fireClickReturnOnDirectDebitConfirmationPage: function() {
        // #20 - Track Action - Click Return (on Direct Debit Confirmation Page)
        //console.log('#20 - Track Action - Click Return (on Direct Debit Confirmation Page)')

        utag.link({
            'event_action': 'Deactivate Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Direct Debit Page',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitDeactivatedSuccessPage: function() {
        // #21 - Track View - Direct Debit Deactivated Success Page
        if (window.utag) {
            this.fireDirectDebitDeactivatedSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitDeactivatedSuccessPage() });
        }
    }, fireDirectDebitDeactivatedSuccessPage: function() {
        // #21 - Track View - Direct Debit Deactivated Success Page
        //console.log('#21 - Track View - Direct Debit Deactivated Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit Deactivated with Success',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDirectDebitSuccessPage: function() {
        // #22 - Track Action - Click Continue (on Direct Debit Success Page)
        if (window.utag) {
            this.fireClickContinueOnDirectDebitSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDirectDebitSuccessPage() });
        }
    }, fireClickContinueOnDirectDebitSuccessPage: function() {
        // #22 - Track Action - Click Continue (on Direct Debit Success Page)
        //console.log('#22 - Track Action - Click Continue (on Direct Debit Success Page)')

        utag.link({
            'event_action': 'Direct Debit Deactivated with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleDirectDebitDeactivatedErrorPage: function() {
        // #23 - Track View - Direct Debit Deactivated Error Page
        if (window.utag) {
            this.fireDirectDebitDeactivatedErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDirectDebitDeactivatedErrorPage() });
        }
    }, fireDirectDebitDeactivatedErrorPage: function() {
        // #23 - Track View - Direct Debit Deactivated Error Page
        //console.log('#23 - Track View - Direct Debit Deactivated Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Deactivating Direct Debit',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDirectDebitErrorPage: function() {
        // #24 - Track Action - Click Continue (on Direct Debit Error Page)
        if (window.utag) {
            this.fireClickContinueOnDirectDebitErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDirectDebitErrorPage() });
        }
    }, fireClickContinueOnDirectDebitErrorPage: function() {
        // #24 - Track Action - Click Continue (on Direct Debit Error Page)
        //console.log('#24 - Track Action - Click Continue (on Direct Debit Error Page)')

        utag.link({
            'event_action': 'Error Deactivating Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickChangeDirectDebit: function() {
        // #25 - Track Action - Click Change Direct Debit
        if (window.utag) {
            this.fireClickChangeDirectDebit()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickChangeDirectDebit() });
        }
    }, fireClickChangeDirectDebit: function() {
        // #25 - Track Action - Click Change Direct Debit
        //console.log('#25 - Track Action - Click Change Direct Debit')

        utag.link({
            'event_action': 'Manage Direct Debit',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Change Direct Debit',
            'event_value': '1',
            'page_name_next': 'Change Direct Debit Data',
            'visitor_login_status': 'Logged In'
        });
    }, handleEditDirectDebitPage: function() {
        // #26 - Track View - Edit Direct Debit Page
        if (window.utag) {
            this.fireEditDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditDirectDebitPage() });
        }
    }, fireEditDirectDebitPage: function() {
        // #26 - Track View - Edit Direct Debit Page
        //console.log('#26 - Track View - Edit Direct Debit Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Change Direct Debit Data',
            'page_section': 'My Vodafone:Billing:Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSettingExpirationDateOnEditDirectDebitPage: function() {
        // #27 - Track Action - Error setting expiration date (on Edit Direct Debit Page)
        if (window.utag) {
            this.fireErrorSettingExpirationDateOnEditDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSettingExpirationDateOnEditDirectDebitPage() });
        }
    }, fireErrorSettingExpirationDateOnEditDirectDebitPage: function() {
        // #27 - Track Action - Error setting expiration date (on Edit Direct Debit Page)
        //console.log('#27 - Track Action - Error setting expiration date (on Edit Direct Debit Page)')

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Expiration Date',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSettingIbanOnEditDirectDebitPage: function() {
        // #28 - Track Action - Error setting IBAN (on Edit Direct Debit Page)
        if (window.utag) {
            this.fireErrorSettingIbanOnEditDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSettingIbanOnEditDirectDebitPage() });
        }
    }, fireErrorSettingIbanOnEditDirectDebitPage: function() {
        // #28 - Track Action - Error setting IBAN (on Edit Direct Debit Page)
        //console.log('#28 - Track Action - Error setting IBAN (on Edit Direct Debit Page)')

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid IBAN',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueWithoutErrorsOnEditDirectDebitPage: function() {
        // #29 - Track Action - Click Continue without errors (on Edit Direct Debit Page)
        if (window.utag) {
            this.fireClickContinueWithoutErrorsOnEditDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueWithoutErrorsOnEditDirectDebitPage() });
        }
    }, fireClickContinueWithoutErrorsOnEditDirectDebitPage: function() {
        // #29 - Track Action - Click Continue without errors (on Edit Direct Debit Page)
        //console.log('#29 - Track Action - Click Continue without errors (on Edit Direct Debit Page)')

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Confirm Direct Debit Changes',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCancelOnEditDirectDebitPage: function() {
        // #30 - Track Action - Click Cancel (on Edit Direct Debit Page)
        if (window.utag) {
            this.fireClickCancelOnEditDirectDebitPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCancelOnEditDirectDebitPage() });
        }
    }, fireClickCancelOnEditDirectDebitPage: function() {
        // #30 - Track Action - Click Cancel (on Edit Direct Debit Page)
        //console.log('#30 - Track Action - Click Cancel (on Edit Direct Debit Page)')

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Direct Debit Page',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleEditDirectDebitConfirmationPage: function() {
        // #31 - Track View - Edit Direct Debit Confirmation Page
        if (window.utag) {
            this.fireEditDirectDebitConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditDirectDebitConfirmationPage() });
        }
    }, fireEditDirectDebitConfirmationPage: function() {
        // #31 - Track View - Edit Direct Debit Confirmation Page
        //console.log('#31 - Track View - Edit Direct Debit Confirmation Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Confirm Direct Debit Changes',
            'page_section': 'My Vodafone:Billing:Direct Debit:Change Direct Debit Data',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmOnEditDirectDebitConfirmationPage: function(success) {
        // #32 - Track Action - Click Confirm (on Edit Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickConfirmOnEditDirectDebitConfirmationPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmOnEditDirectDebitConfirmationPage(success) });
        }
    }, fireClickConfirmOnEditDirectDebitConfirmationPage: function(success) {
        // #32 - Track Action - Click Confirm (on Edit Direct Debit Confirmation Page)
        //console.log('#32 - Track Action - Click Confirm (on Edit Direct Debit Confirmation Page)')

        if (success) {
            var page_name_next = 'Direct Debit Data Changed with Success';
        } else {
            var page_name_next = 'Error Changing Direct Debit Data';
        }

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnEditDirectDebitConfirmationPage: function() {
        // #33 - Track Action - Click Return (on Edit Direct Debit Confirmation Page)
        if (window.utag) {
            this.fireClickReturnOnEditDirectDebitConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnEditDirectDebitConfirmationPage() });
        }
    }, fireClickReturnOnEditDirectDebitConfirmationPage: function() {
        // #33 - Track Action - Click Return (on Edit Direct Debit Confirmation Page)
        //console.log('#33 - Track Action - Click Return (on Edit Direct Debit Confirmation Page)')

        utag.link({
            'event_action': 'Change Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Direct Debit Settings',
            'event_value': '1',
            'page_name_next': 'Change Direct Debit Data',
            'visitor_login_status': 'Logged In'
        });
    }, handleEditDirectDebitSuccessPage: function() {
        // #34 - Track View - Edit Direct Debit Success Page
        if (window.utag) {
            this.fireEditDirectDebitSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditDirectDebitSuccessPage() });
        }
    }, fireEditDirectDebitSuccessPage: function() {
        // #34 - Track View - Edit Direct Debit Success Page
        //console.log('#34 - Track View - Edit Direct Debit Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Direct Debit Data Changed with Success',
            'page_section': 'My Vodafone:Billing:Direct Debit:Change Direct Debit Data:Confirm Direct Debit Changes',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnEditDirectDebitSuccessPage: function() {
        // #35 - Track Action - Click Continue (on Edit Direct Debit Success Page)
        if (window.utag) {
            this.fireClickContinueOnEditDirectDebitSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnEditDirectDebitSuccessPage() });
        }
    }, fireClickContinueOnEditDirectDebitSuccessPage: function() {
        // #35 - Track Action - Click Continue (on Edit Direct Debit Success Page)
        //console.log('#35 - Track Action - Click Continue (on Edit Direct Debit Success Page)')

        utag.link({
            'event_action': 'Direct Debit Data Changed with Success',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleEditDirectDebitErrorPage: function() {
        // #36 - Track View - Edit Direct Debit Error Page
        if (window.utag) {
            this.fireEditDirectDebitErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditDirectDebitErrorPage() });
        }
    }, fireEditDirectDebitErrorPage: function() {
        // #36 - Track View - Edit Direct Debit Error Page
        //console.log('#36 - Track View - Edit Direct Debit Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Changing Direct Debit Data',
            'page_section': 'My Vodafone:Billing:Direct Debit:Change Direct Debit Data:Confirm Direct Debit Changes',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnEditDirectDebitErrorPage: function() {
        // #37 - Track Action - Click Continue (on Edit Direct Debit Error Page)
        if (window.utag) {
            this.fireClickContinueOnEditDirectDebitErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnEditDirectDebitErrorPage() });
        }
    }, fireClickContinueOnEditDirectDebitErrorPage: function() {
        // #37 - Track Action - Click Continue (on Edit Direct Debit Error Page)
        //console.log('#37 - Track Action - Click Continue (on Edit Direct Debit Error Page)')

        utag.link({
            'event_action': 'Error Changing Direct Debit Data',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Direct Debit',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickPayCurrentInvoice: function() {
        // #38 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice - replace request #8 from VFPTMYVF-367 with this one
        if (window.utag) {
            this.fireClickPayCurrentInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fire3ClickPayCurrentInvoice() });
        }
    }, fireClickPayCurrentInvoice: function() {
        // #38 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice - replace request #8 from VFPTMYVF-367 with this one
        //console.log('#38 - Track Action - Click in Pay Current Invoice (on Billing Page) - not the overdue invoice - replace request #8 from VFPTMYVF-367 with this one ')

        /* OLD:
utag.link({
"event_action"          : "Values to Pay",
"event_category"        : "Billing",
"event"                 : ["event_instance"],
"event_label"           : "Pay Current Invoice",
"event_value"           : "1",
"visitor_login_status"  : "Logged In"
});
*/

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Pay Current Amount',
            'event_value': '1',
            'page_name_next': 'Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickPayOverdueInvoice: function() {
        // #39 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice - replace request #10 from VFPTMYVF-367 with this one
        if (window.utag) {
            this.fireClickPayOverdueInvoice()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickPayOverdueInvoice() });
        }
    }, fireClickPayOverdueInvoice: function() {
        // #39 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice - replace request #10 from VFPTMYVF-367 with this one
        //console.log('#39 - Track Action - Click in Pay Overdue Invoice (on Billing Page) - not the current invoice - replace request #10 from VFPTMYVF-367 with this one ')

        /* OLD:
utag.link({
"event_action"          : "Values to Pay",
"event_category"        : "Billing",
"event"                 : ["event_instance"],
"event_label"           : "Pay Overdue Invoice",
"event_value"           : "1",
"visitor_login_status"  : "Logged In"
});
*/

        utag.link({
            'event_action': 'Values to Pay',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Pay Overdue Amount',
            'event_value': '1',
            'page_name_next': 'Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaymentsPage: function() {
        // #40 - Track View - Payments Page
        if (window.utag) {
            this.firePaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaymentsPage() });
        }
    }, firePaymentsPage: function() {
        // #40 - Track View - Payments Page
        //console.log('#40 - Track View - Payments Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Payments',
            'page_section': 'My Vodafone:Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeValueToPayOnPaymentsPage: function() {
        // #41 - Track Action - Change Value to Pay (on Payments Page)
        if (window.utag) {
            this.fireChangeValueToPayOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeValueToPayOnPaymentsPage() });
        }
    }, fireChangeValueToPayOnPaymentsPage: function() {
        // #41 - Track Action - Change Value to Pay (on Payments Page)
        //console.log('#41 - Track Action - Change Value to Pay (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Change Amount to be Paid',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleTypeDifferentValueToPayOnPaymentsPage: function() {
        // #42 - Track Action - Type different value to Pay (on Payments Page)
        if (window.utag) {
            this.fireTypeDifferentValueToPayOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTypeDifferentValueToPayOnPaymentsPage() });
        }
    }, fireTypeDifferentValueToPayOnPaymentsPage: function() {
        // #42 - Track Action - Type different value to Pay (on Payments Page)
        //console.log('#42 - Track Action - Type different value to Pay (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Enter Other Amount to be Paid',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectPaymentMethodOnPaymentsPage: function(selected) {
        // #43 - Track Action - Select Payment Method (on Payments Page)
        if (window.utag) {
            this.fireSelectPaymentMethodOnPaymentsPage(selected)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectPaymentMethodOnPaymentsPage(selected) });
        }
    }, fireSelectPaymentMethodOnPaymentsPage: function(selected) {
        // #43 - Track Action - Select Payment Method (on Payments Page)
        //console.log('#43 - Track Action - Select Payment Method (on Payments Page)')

        if (selected === 'MB Reference') {
            var event_label = 'Payment Method - MB Reference';
        } else if (selected === ' Credit Card') {
            var event_label = 'Payment Method - Credit Card';
        }

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnPaymentsPage: function() {
        // #44 - Track Action - Click Continue (on Payments Page)
        if (window.utag) {
            this.fireClickContinueOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnPaymentsPage() });
        }
    }, fireClickContinueOnPaymentsPage: function() {
        // #44 - Track Action - Click Continue (on Payments Page)
        //console.log('#44 - Track Action - Click Continue (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSendMbReferenceViaSmsOnPaymentsPage: function(success) {
        // #45 - Track Action - Click Send MB Reference via SMS (on Payments Page)
        if (window.utag) {
            this.fireClickSendMbReferenceViaSmsOnPaymentsPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSendMbReferenceViaSmsOnPaymentsPage(success) });
        }
    }, fireClickSendMbReferenceViaSmsOnPaymentsPage: function(success) {
        // #45 - Track Action - Click Send MB Reference via SMS (on Payments Page)
        //console.log('#45 - Track Action - Click Send MB Reference via SMS (on Payments Page)')

        if (success) {
            var page_name_next = 'MB Payment Reference Sent with Success';
        } else {
            var page_name_next = 'Error Sending MB Payment Reference';
        }

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Send MB Reference Via SMS',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnToBillingOnPaymentsPage: function() {
        // #46 - Track Action - Click Return to Billing (on Payments Page)
        if (window.utag) {
            this.fireClickReturnToBillingOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnToBillingOnPaymentsPage() });
        }
    }, fireClickReturnToBillingOnPaymentsPage: function() {
        // #46 - Track Action - Click Return to Billing (on Payments Page)
        //console.log('#46 - Track Action - Click Return to Billing (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Billing',
            'event_value': '1',
            'page_name_next': 'Billing',
            'visitor_login_status': 'Logged In'
        });
    }, handleMbReferenceSentWithSuccessToastForPayments: function() {
        // #47 - Track View - MB Reference Sent With Success Toast (for Payments)
        if (window.utag) {
            this.fireMbReferenceSentWithSuccessToastForPayments()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMbReferenceSentWithSuccessToastForPayments() });
        }
    }, fireMbReferenceSentWithSuccessToastForPayments: function() {
        // #47 - Track View - MB Reference Sent With Success Toast (for Payments)
        //console.log('#47 - Track View - MB Reference Sent With Success Toast (for Payments)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'MB Payment Reference Sent with Success',
            'page_section': 'My Vodafone:Billing:Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSendingMbReferenceToastForPayments: function() {
        // #48 - Track View - Error Sending MB Reference Toast (for Payments)
        if (window.utag) {
            this.fireErrorSendingMbReferenceToastForPayments()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSendingMbReferenceToastForPayments() });
        }
    }, fireErrorSendingMbReferenceToastForPayments: function() {
        // #48 - Track View - Error Sending MB Reference Toast (for Payments)
        //console.log('#48 - Track View - Error Sending MB Reference Toast (for Payments)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Sending MB Payment Reference',
            'page_section': 'My Vodafone:Billing:Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickTopUpOnHomepage: function() {
        // #49 - Track Action - Click Top UP (on Homepage)
        if (window.utag) {
            this.fireClickTopUpOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTopUpOnHomepage() });
        }
    }, fireClickTopUpOnHomepage: function() {
        // #49 - Track Action - Click Top UP (on Homepage)
        //console.log('#49 - Track Action - Click Top UP (on Homepage)')

        utag.link({
            'event_action': 'Current Balance',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': 'Top-Up',
            'event_value': '1',
            'page_name_next': 'Top-Ups',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickPaymentsTabOnPaymentsPage: function() {
        // #50 - Track Action - Click Payments Tab (on Payments Page)
        if (window.utag) {
            this.fireClickPaymentsTabOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickPaymentsTabOnPaymentsPage() });
        }
    }, fireClickPaymentsTabOnPaymentsPage: function() {
        // #50 - Track Action - Click Payments Tab (on Payments Page)
        //console.log('#50 - Track Action - Click Payments Tab (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Payments',
            'event_value': '1',
            'page_name_next': 'Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickTopUpsTabOnPaymentsPage: function() {
        // #51 - Track Action - Click Top-Ups Tab (on Payments Page)
        if (window.utag) {
            this.fireClickTopUpsTabOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTopUpsTabOnPaymentsPage() });
        }
    }, fireClickTopUpsTabOnPaymentsPage: function() {
        // #51 - Track Action - Click Top-Ups Tab (on Payments Page)
        //console.log('#51 - Track Action - Click Top-Ups Tab (on Payments Page)')

        utag.link({
            'event_action': 'Payments',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Top-Up',
            'event_value': '1',
            'page_name_next': 'Top-Ups',
            'visitor_login_status': 'Logged In'
        });
    }, handleTopUpsPageOnPaymentsPage: function() {
        // #52 - Track View - Top-Ups Page (on Payments Page)
        if (window.utag) {
            this.fireTopUpsPageOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTopUpsPageOnPaymentsPage() });
        }
    }, fireTopUpsPageOnPaymentsPage: function() {
        // #52 - Track View - Top-Ups Page (on Payments Page)
        //console.log('#52 - Track View - Top-Ups Page (on Payments Page)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Top-Ups',
            'page_section': 'My Vodafone:Billing:Payments',
            'visitor_login_status': 'Logged In'
        });
    }, handleInvalidMsisdnSelectedOnTopUpsPage: function() {
        // #53 - Track Action - Invalid MSISDN Selected (on Top-Ups Page)
        if (window.utag) {
            this.fireInvalidMsisdnSelectedOnTopUpsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvalidMsisdnSelectedOnTopUpsPage() });
        }
    }, fireInvalidMsisdnSelectedOnTopUpsPage: function() {
        // #53 - Track Action - Invalid MSISDN Selected (on Top-Ups Page)
        //console.log('#53 - Track Action - Invalid MSISDN Selected (on Top-Ups Page)')

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid MSISDN',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeValueToTopUpOnTopUpsPage: function(amount) {
        // #54 - Track Action - Change Value to Top UP (on Top-Ups Page)
        if (window.utag) {
            this.fireChangeValueToTopUpOnTopUpsPage(amount)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeValueToTopUpOnTopUpsPage(amount) });
        }
    }, fireChangeValueToTopUpOnTopUpsPage: function(amount) {
        // #54 - Track Action - Change Value to Top UP (on Top-Ups Page)
        //console.log('#54 - Track Action - Change Value to Top UP (on Top-Ups Page)')

        if (amount === '5') {
            var event_label = 'Top-Up Amount - €5';
        } else if (amount === '7.5') {
            var event_label = 'Top-Up Amount - €7.5';
        } else if (amount === '15') {
            var event_label = 'Top-Up Amount - €15';
        } else if (amount === '25') {
            var event_label = 'Top-Up Amount - €25';
        } else if (amount === '37.5') {
            var event_label = 'Top-Up Amount - €37.5';
        } else {
            var event_label = 'Top-Up Amount - Other';
        }

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectPaymentMethodOnTopUpsPage: function(selected) {
        // #55 - Track Action - Select Payment Method (on Top-Ups Page)
        if (window.utag) {
            this.fireSelectPaymentMethodOnTopUpsPage(selected)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectPaymentMethodOnTopUpsPage(selected) });
        }
    }, fireSelectPaymentMethodOnTopUpsPage: function(selected) {
        // #55 - Track Action - Select Payment Method (on Top-Ups Page)
        //console.log('#55 - Track Action - Select Payment Method (on Top-Ups Page)')

        if (selected === 'MB Reference') {
            var event_label = 'Top-Up Method - MB Reference';
        } else if (selected === ' Credit Card') {
            var event_label = 'Top-Up Method - Credit Card';
        } else if (selected === 'Paypal') {
            var event_label = 'Top-Up Method - Paypal';
        }

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnTopUpsPage: function() {
        // #56 - Track Action - Click Continue (on Top-Ups Page)
        if (window.utag) {
            this.fireClickContinueOnTopUpsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnTopUpsPage() });
        }
    }, fireClickContinueOnTopUpsPage: function() {
        // #56 - Track Action - Click Continue (on Top-Ups Page)
        //console.log('#56 - Track Action - Click Continue (on Top-Ups Page)')

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSendMbReferenceViaSmsOnTopUpsPage: function(success) {
        // #57 - Track Action - Click Send MB Reference via SMS (on Top-Ups Page)
        if (window.utag) {
            this.fireClickSendMbReferenceViaSmsOnTopUpsPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSendMbReferenceViaSmsOnTopUpsPage(success) });
        }
    }, fireClickSendMbReferenceViaSmsOnTopUpsPage: function(success) {
        // #57 - Track Action - Click Send MB Reference via SMS (on Top-Ups Page)
        //console.log('#57 - Track Action - Click Send MB Reference via SMS (on Top-Ups Page)')

        if (success) {
            var page_name_next = 'MB Top-Up Reference Sent with Success';
        } else {
            var page_name_next = 'Error Sending MB Top-Up Reference';
        }

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Send MB Reference Via SMS',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleMbReferenceSentWithSuccessToastForTopUp: function() {
        // #58 - Track View - MB Reference Sent With Success Toast (for Top-Up)
        if (window.utag) {
            this.fireMbReferenceSentWithSuccessToastForTopUp()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMbReferenceSentWithSuccessToastForTopUp() });
        }
    }, fireMbReferenceSentWithSuccessToastForTopUp: function() {
        // #58 - Track View - MB Reference Sent With Success Toast (for Top-Up)
        //console.log('#58 - Track View - MB Reference Sent With Success Toast (for Top-Up)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'MB Top-Up Reference Sent with Success',
            'page_section': 'My Vodafone:Billing:Payments:Top-Ups',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSendingMbReferenceToastForTopUp: function() {
        // #59 - Track View - Error Sending MB Reference Toast (for Top-Up)
        if (window.utag) {
            this.fireErrorSendingMbReferenceToastForTopUp()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSendingMbReferenceToastForTopUp() });
        }
    }, fireErrorSendingMbReferenceToastForTopUp: function() {
        // #59 - Track View - Error Sending MB Reference Toast (for Top-Up)
        //console.log('#59 - Track View - Error Sending MB Reference Toast (for Top-Up)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Sending MB Top-Up Reference',
            'page_section': 'My Vodafone:Billing:Payments:Top-Ups',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnToBillingOnTopUpsPage: function() {
        // #60 - Track Action - Click Return to Billing (on Top-Ups Page)
        if (window.utag) {
            this.fireClickReturnToBillingOnTopUpsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnToBillingOnTopUpsPage() });
        }
    }, fireClickReturnToBillingOnTopUpsPage: function() {
        // #60 - Track Action - Click Return to Billing (on Top-Ups Page)
        //console.log('#60 - Track Action - Click Return to Billing (on Top-Ups Page)')

        utag.link({
            'event_action': 'Top-Ups',
            'event_category': 'Billing',
            'event': ['event_instance'],
            'event_label': 'Return to Billing',
            'event_value': '1',
            'page_name_next': 'Billing',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global window, console, tealiumBus, utag*/
var tealium_billing_it4 = {
    methods: {
        handleConfirmCreditCardPaymentOnPaymentsPage: function () {
            // #1 - Track Action - Confirm Credit Card Payment (on Payments Page)
            if (window.utag) {
                this.fireConfirmCreditCardPaymentOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireConfirmCreditCardPaymentOnPaymentsPage()
                });
            }
        },
        fireConfirmCreditCardPaymentOnPaymentsPage: function () {
            // #1 - Track Action - Confirm Credit Card Payment (on Payments Page)
            //console.log('#1 - Track Action - Confirm Credit Card Payment (on Payments Page)')

            utag.link({
                'event_action': 'Payments',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Confirm Credit Card Payment',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handlePaymentWithSucessMessageOnPaymentsPage: function () {
            // #2 - Track View - Payment with Sucess Message (on Payments Page)
            if (window.utag) {
                this.firePaymentWithSucessMessageOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.firePaymentWithSucessMessageOnPaymentsPage()
                });
            }
        },
        firePaymentWithSucessMessageOnPaymentsPage: function () {
            // #2 - Track View - Payment with Sucess Message (on Payments Page)
            //console.log('#2 - Track View - Payment with Sucess Message (on Payments Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Payment Done with Success',
                'page_section': 'My Vodafone:Billing:Payments',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSendReceiptToEmailOnPaymentsPage: function (success) {
            // #3 - Track Action - Click Send Receipt to Email (on Payments Page)
            if (window.utag) {
                this.fireClickSendReceiptToEmailOnPaymentsPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSendReceiptToEmailOnPaymentsPage(success)
                });
            }
        },
        fireClickSendReceiptToEmailOnPaymentsPage: function (success) {
            // #3 - Track Action - Click Send Receipt to Email (on Payments Page)
            //console.log('#3 - Track Action - Click Send Receipt to Email (on Payments Page)')

            if (success) {
                var page_name_next = 'Credit Card Payment Receipt Sent with Success';
            } else {
                var page_name_next = 'Error Sending Credit Card Payment Receipt';
            }

            utag.link({
                'event_action': 'Payments',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Send Credit Card Payment Receipt to Email',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickDownloadReceiptOnPaymentsPage: function (success) {
            // #4 - Track Action - Click Download Receipt (on Payments Page)
            if (window.utag) {
                this.fireClickDownloadReceiptOnPaymentsPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickDownloadReceiptOnPaymentsPage(success)
                });
            }
        },
        fireClickDownloadReceiptOnPaymentsPage: function (success) {
            // #4 - Track Action - Click Download Receipt (on Payments Page)
            //console.log('#4 - Track Action - Click Download Receipt (on Payments Page)')

            if (success) {
                var page_name_next = 'Credit Card Payment Receipt Downloaded with Success';
            } else {
                var page_name_next = 'Error Downloading Credit Card Payment Receipt';
            }

            utag.link({
                'event_action': 'Payments',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Download Credit Card Payment Receipt',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptSentWithSuccessToastOnPaymentsPage: function () {
            // #5 - Track View - Receipt Sent with Success Toast (on Payments Page)
            if (window.utag) {
                this.fireReceiptSentWithSuccessToastOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptSentWithSuccessToastOnPaymentsPage()
                });
            }
        },
        fireReceiptSentWithSuccessToastOnPaymentsPage: function () {
            // #5 - Track View - Receipt Sent with Success Toast (on Payments Page)
            //console.log('#5 - Track View - Receipt Sent with Success Toast (on Payments Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Payment Receipt Sent with Success',
                'page_section': 'My Vodafone:Billing:Payments:Credit Card Payment Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptNotSentErrorToastOnPaymentsPage: function () {
            // #6 - Track View - Receipt not Sent Error Toast (on Payments Page)
            if (window.utag) {
                this.fireReceiptNotSentErrorToastOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptNotSentErrorToastOnPaymentsPage()
                });
            }
        },
        fireReceiptNotSentErrorToastOnPaymentsPage: function () {
            // #6 - Track View - Receipt not Sent Error Toast (on Payments Page)
            //console.log('#6 - Track View - Receipt not Sent Error Toast (on Payments Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Sending Credit Card Payment Receipt',
                'page_section': 'My Vodafone:Billing:Payments:Credit Card Payment Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptDownloadedWithSuccessToastOnPaymentsPage: function () {
            // #7 - Track View - Receipt Downloaded with Success Toast (on Payments Page)
            if (window.utag) {
                this.fireReceiptDownloadedWithSuccessToastOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptDownloadedWithSuccessToastOnPaymentsPage()
                });
            }
        },
        fireReceiptDownloadedWithSuccessToastOnPaymentsPage: function () {
            // #7 - Track View - Receipt Downloaded with Success Toast (on Payments Page)
            //console.log('#7 - Track View - Receipt Downloaded with Success Toast (on Payments Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Payment Receipt Downloaded with Success',
                'page_section': 'My Vodafone:Billing:Payments:Credit Card Payment Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptNotDownloadedErrorToastOnPaymentsPage: function () {
            // #8 - Track View - Receipt not Downloaded Error Toast (on Payments Page)
            if (window.utag) {
                this.fireReceiptNotDownloadedErrorToastOnPaymentsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptNotDownloadedErrorToastOnPaymentsPage()
                });
            }
        },
        fireReceiptNotDownloadedErrorToastOnPaymentsPage: function () {
            // #8 - Track View - Receipt not Downloaded Error Toast (on Payments Page)
            //console.log('#8 - Track View - Receipt not Downloaded Error Toast (on Payments Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Downloading Credit Card Payment Receipt',
                'page_section': 'My Vodafone:Billing:Payments:Credit Card Payment Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleConfirmCreditCardPaymentOnTopUpsPage: function () {
            // #9 - Track Action - Confirm Credit Card Payment (on Top-Ups Page)
            if (window.utag) {
                this.fireConfirmCreditCardPaymentOnTopUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireConfirmCreditCardPaymentOnTopUpsPage()
                });
            }
        },
        fireConfirmCreditCardPaymentOnTopUpsPage: function () {
            // #9 - Track Action - Confirm Credit Card Payment (on Top-Ups Page)
            //console.log('#9 - Track Action - Confirm Credit Card Payment (on Top-Ups Page)')

            utag.link({
                'event_action': 'Top-Ups',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Confirm Credit Card Top-Up',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleUpsPage: function () {
            // #10 - Track View - Top-Up with Sucess Message (on Top-Ups Page)
            if (window.utag) {
                this.fireUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireUpsPage()
                });
            }
        },
        fireUpsPage: function () {
            // #10 - Track View - Top-Up with Sucess Message (on Top-Ups Page)
            //console.log('#10 - Track View - Top-Up with Sucess Message (on Top-Ups Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Top-Up Done with Success',
                'page_section': 'My Vodafone:Billing:Payments:Top-Ups',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSendReceiptToEmailOnTopUpsPage: function (success) {
            // #11 - Track Action - Click Send Receipt to Email (on Top-Ups Page)
            if (window.utag) {
                this.fireClickSendReceiptToEmailOnTopUpsPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSendReceiptToEmailOnTopUpsPage(success)
                });
            }
        },
        fireClickSendReceiptToEmailOnTopUpsPage: function (success) {
            // #11 - Track Action - Click Send Receipt to Email (on Top-Ups Page)
            //console.log('#11 - Track Action - Click Send Receipt to Email (on Top-Ups Page)')

            if (success) {
                var page_name_next = 'Credit Card Top-Up Receipt Sent with Success';
            } else {
                var page_name_next = 'Error Sending Credit Card Top-Up Receipt';
            }

            utag.link({
                'event_action': 'Top-Ups',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Send Credit Card Top-Up Receipt to Email',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickDownloadReceiptOnTopUpsPage: function (success) {
            // #12 - Track Action - Click Download Receipt (on Top-Ups Page)
            if (window.utag) {
                this.fireClickDownloadReceiptOnTopUpsPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickDownloadReceiptOnTopUpsPage(success)
                });
            }
        },
        fireClickDownloadReceiptOnTopUpsPage: function (success) {
            // #12 - Track Action - Click Download Receipt (on Top-Ups Page)
            //console.log('#12 - Track Action - Click Download Receipt (on Top-Ups Page)')

            if (success) {
                var page_name_next = 'Credit Card Top-Up Receipt Downloaded with Success';
            } else {
                var page_name_next = 'Error Downloading Credit Card Top-Up Receipt';
            }

            utag.link({
                'event_action': 'Top-Ups',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Download Credit Card Top-Up Receipt',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptSentWithSuccessToastOnTopUpsPage: function () {
            // #13 - Track View - Receipt Sent with Success Toast (on Top-Ups Page)
            if (window.utag) {
                this.fireReceiptSentWithSuccessToastOnTopUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptSentWithSuccessToastOnTopUpsPage()
                });
            }
        },
        fireReceiptSentWithSuccessToastOnTopUpsPage: function () {
            // #13 - Track View - Receipt Sent with Success Toast (on Top-Ups Page)
            //console.log('#13 - Track View - Receipt Sent with Success Toast (on Top-Ups Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Top-Up Receipt Sent with Success',
                'page_section': 'My Vodafone:Billing:Payments:Top-Ups:Credit Card Top-Up Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptNotSentErrorToastOnTopUpsPage: function () {
            // #14 - Track View - Receipt not Sent Error Toast (on Top-Ups Page)
            if (window.utag) {
                this.fireReceiptNotSentErrorToastOnTopUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptNotSentErrorToastOnTopUpsPage()
                });
            }
        },
        fireReceiptNotSentErrorToastOnTopUpsPage: function () {
            // #14 - Track View - Receipt not Sent Error Toast (on Top-Ups Page)
            //console.log('#14 - Track View - Receipt not Sent Error Toast (on Top-Ups Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Sending Credit Card Top-Up Receipt',
                'page_section': 'My Vodafone:Billing:Payments:Top-Ups:Credit Card Top-Up Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptDownloadedWithSuccessToastOnTopUpsPage: function () {
            // #15 - Track View - Receipt Downloaded with Success Toast (on Top-Ups Page)
            if (window.utag) {
                this.fireReceiptDownloadedWithSuccessToastOnTopUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptDownloadedWithSuccessToastOnTopUpsPage()
                });
            }
        },
        fireReceiptDownloadedWithSuccessToastOnTopUpsPage: function () {
            // #15 - Track View - Receipt Downloaded with Success Toast (on Top-Ups Page)
            //console.log('#15 - Track View - Receipt Downloaded with Success Toast (on Top-Ups Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Credit Card Top-Up Receipt Downloaded with Success',
                'page_section': 'My Vodafone:Billing:Payments:Top-Ups:Credit Card Top-Up Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleReceiptNotDownloadedErrorToastOnTopUpsPage: function () {
            // #16 - Track View - Receipt not Downloaded Error Toast (on Top-Ups Page)
            if (window.utag) {
                this.fireReceiptNotDownloadedErrorToastOnTopUpsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireReceiptNotDownloadedErrorToastOnTopUpsPage()
                });
            }
        },
        fireReceiptNotDownloadedErrorToastOnTopUpsPage: function () {
            // #16 - Track View - Receipt not Downloaded Error Toast (on Top-Ups Page)
            //console.log('#16 - Track View - Receipt not Downloaded Error Toast (on Top-Ups Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Downloading Credit Card Top-Up Receipt',
                'page_section': 'My Vodafone:Billing:Payments:Top-Ups:Credit Card Top-Up Done with Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickViewInvoicesAndMovementsOnHomepage: function () {
            // #17 - Track Action - Click View Invoices and Movements (on Homepage)
            if (window.utag) {
                this.fireClickViewInvoicesAndMovementsOnHomepage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickViewInvoicesAndMovementsOnHomepage()
                });
            }
        },
        fireClickViewInvoicesAndMovementsOnHomepage: function () {
            // #17 - Track Action - Click View Invoices and Movements (on Homepage)
            //console.log('#17 - Track Action - Click View Invoices and Movements (on Homepage)')

            utag.link({
                'event_action': 'View Prepaid Billing',
                'event_category': 'Homepage',
                'event': ['event_instance'],
                'event_label': 'Invoices and Movements',
                'event_value': '1',
                'page_name_next': 'Billing',
                'visitor_login_status': 'Logged In'
            });
        },
        handleViewBillingPrePaidOnBillingPage: function () {
            // #18 - Track View - View Billing Pre-Paid (on Billing Page)
            if (window.utag) {
                this.fireViewBillingPrePaidOnBillingPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewBillingPrePaidOnBillingPage()
                });
            }
        },
        fireViewBillingPrePaidOnBillingPage: function () {
            // #18 - Track View - View Billing Pre-Paid (on Billing Page)
            //console.log('#18 - Track View - View Billing Pre-Paid (on Billing Page)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Billing',
                'page_section': 'My Vodafone',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickServiceTopUpOnBillingPage: function () {
            // #19 - Track Action - Click Service Top-Up (on Billing Page)
            if (window.utag) {
                this.fireClickServiceTopUpOnBillingPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickServiceTopUpOnBillingPage()
                });
            }
        },
        fireClickServiceTopUpOnBillingPage: function () {
            // #19 - Track Action - Click Service Top-Up (on Billing Page)
            //console.log('#19 - Track Action - Click Service Top-Up (on Billing Page)')

            utag.link({
                'event_action': 'Balance and Top-Up',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Service Top-Up',
                'event_value': '1',
                'page_name_next': 'Top-Ups',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickEbillSettingsOnBillingPage: function (eBill) {
            // #20 - Track Action - Click eBill Settings (on Billing Page)
            if (window.utag) {
                this.fireClickEbillSettingsOnBillingPage(eBill)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickEbillSettingsOnBillingPage(eBill)
                });
            }
        },
        fireClickEbillSettingsOnBillingPage: function (eBill) {
            // #20 - Track Action - Click eBill Settings (on Billing Page)
            //console.log('#20 - Track Action - Click eBill Settings (on Billing Page)')

            if (eBill.active) {
                var event_label = 'Electronic Bill Active';
            } else {
                var event_label = 'No Bill';
            }

            utag.link({
                'event_action': 'Billing Settings',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': 'Electronic Bill',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickOnLastMovementsOnBillingPage: function (movement) {
            // #21 - Track Action - Click on Last Movements (on Billing Page)
            if (window.utag) {
                this.fireClickOnLastMovementsOnBillingPage(movement)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickOnLastMovementsOnBillingPage(movement)
                });
            }
        },
        fireClickOnLastMovementsOnBillingPage: function (movement) {
            // #21 - Track Action - Click on Last Movements (on Billing Page)
            //console.log('#21 - Track Action - Click on Last Movements (on Billing Page)')

            var data = {
                'event_action': 'Last Movements',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_value': '1',
                'page_name_next': 'Electronic Bill',
                'visitor_login_status': 'Logged In'
            };

            if (movement.type === 'Top-Up') {
                var event_label = 'Top-Up';
            } else if (movement.type === 'Monthly Tariff') {
                var event_label = 'Monthly Tariff';
            } else if (movement.type === 'Weekly Tariff') {
                var event_label = 'Weekly Tariff';
            } else if (movement.type === 'Late Top-Up Cost') {
                var event_label = 'Late Top-Up Cost';
            } else if (movement.type === 'Balance Credit') {
                var event_label = 'Balance Credit';
            } else if (movement.type === 'Balance Transfer') {
                var event_label = 'Balance Transfer';
            } else if (movement.type === 'SOS Extra Credit') {
                var event_label = 'SOS Extra Credit';
            } else if (movement.type === 'Extra Day to Communicate') {
                var event_label = 'Extra Day to Communicate';
            } else if (movement.type === 'Informative Extract') {
                var event_label = 'Informative Extract';
                data.page_name_next = 'Informative Extract';
            }

            data.event_label = event_label;

            utag.link(data);
        },
        handleClickViewMoreLastMovementsOnBillingPage: function () {
            // #22 - Track Action - Click View More Last Movements (on Billing Page)
            if (window.utag) {
                this.fireClickViewMoreLastMovementsOnBillingPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickViewMoreLastMovementsOnBillingPage()
                });
            }
        },
        fireClickViewMoreLastMovementsOnBillingPage: function () {
            // #22 - Track Action - Click View More Last Movements (on Billing Page)
            //console.log('#22 - Track Action - Click View More Last Movements (on Billing Page)')

            utag.link({
                'event_action': 'Last Movements',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'See More',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSearchByMovementTypeOnBillingPage: function (movement) {
            // #23 - Track Action - Click Search by Movement Type (on Billing Page)
            if (window.utag) {
                this.fireClickSearchByMovementTypeOnBillingPage(movement)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSearchByMovementTypeOnBillingPage(movement)
                });
            }
        },
        fireClickSearchByMovementTypeOnBillingPage: function (movement) {
            // #23 - Track Action - Click Search by Movement Type (on Billing Page)
            //console.log('#23 - Track Action - Click Search by Movement Type (on Billing Page)')

            if (movement.type === 'Top-Up') {
                var event_label = 'Top-Up';
            } else if (movement.type === 'Monthly Tariff') {
                var event_label = 'Monthly Tariff';
            } else if (movement.type === 'Weekly Tariff') {
                var event_label = 'Weekly Tariff';
            } else if (movement.type === 'Late Top-Up Cost') {
                var event_label = 'Late Top-Up Cost';
            } else if (movement.type === 'Balance Credit') {
                var event_label = 'Balance Credit';
            } else if (movement.type === 'Balance Transfer') {
                var event_label = 'Balance Transfer';
            } else if (movement.type === 'SOS Extra Credit') {
                var event_label = 'SOS Extra Credit';
            } else if (movement.type === 'Extra Day to Communicate') {
                var event_label = 'Extra Day to Communicate';
            } else if (movement.type === 'Informative Extract') {
                var event_label = 'Informative Extract';
                //data.page_name_next = 'Informative Extract';
            }

            utag.link({
                'event_action': 'Search Last Movements',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickInSavePasswordCheckboxOnLoginOverlay: function (checked) {
            // #24 - Track Action - Click in Save Password Checkbox (on Login Overlay)
            if (window.utag) {
                this.fireClickInSavePasswordCheckboxOnLoginOverlay(checked)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickInSavePasswordCheckboxOnLoginOverlay(checked)
                });
            }
        },
        fireClickInSavePasswordCheckboxOnLoginOverlay: function (checked) {
            // #24 - Track Action - Click in Save Password Checkbox (on Login Overlay)
            //console.log('#24 - Track Action - Click in Save Password Checkbox (on Login Overlay)')

            if (checked) {
                var event_label = 'Enable Remember Me';
                var permission_event = 'visitor_permission_enable';
                var permission_status = 'enabled';
            } else {
                var event_label = 'Disable Remember Me';
                var permission_event = 'visitor_permission_disable';
                var permission_status = 'disabled';
            }

            utag.link({
                'event_action': 'Remember Me',
                'event_category': 'Login',
                'event': ['event_instance', permission_event],
                'event_label': event_label,
                'event_value': '1',
                'visitor_permission_name': 'Remember Me',
                'visitor_permission_status': permission_status,
                'visitor_login_status': 'Logged Out'
            });
        },
        handleClickDownloadPdfOnFreeDuplicateInvoicePage: function (success) {
            // #25 - Track Action - Click Download PDF (on Free Duplicate Invoice Page)
            if (window.utag) {
                this.fireClickDownloadPdfOnFreeDuplicateInvoicePage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickDownloadPdfOnFreeDuplicateInvoicePage(success)
                });
            }
        },
        fireClickDownloadPdfOnFreeDuplicateInvoicePage: function (success) {
            // #25 - Track Action - Click Download PDF (on Free Duplicate Invoice Page)
            //console.log('#25 - Track Action - Click Download PDF (on Free Duplicate Invoice Page)')

            if (success) {
                var page_name_next = 'Invoice Downloaded With Success';
            } else {
                var page_name_next = 'Error on Invoice Download';
            }

            utag.link({
                'event_action': 'Invoice Detail - Request a Duplicate of the Invoice',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Download Invoice',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickDownloadPdfOnPaidDuplicateInvoicePage: function (success) {
            // #26 - Track Action - Click Download PDF (on Paid Duplicate Invoice Page)
            if (window.utag) {
                this.fireClickDownloadPdfOnPaidDuplicateInvoicePage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickDownloadPdfOnPaidDuplicateInvoicePage(success)
                });
            }
        },
        fireClickDownloadPdfOnPaidDuplicateInvoicePage: function (success) {
            // #26 - Track Action - Click Download PDF (on Paid Duplicate Invoice Page)
            //console.log('#26 - Track Action - Click Download PDF (on Paid Duplicate Invoice Page)')

            if (success) {
                var page_name_next = 'Invoice Downloaded With Success';
            } else {
                var page_name_next = 'Error on Invoice Download';
            }

            utag.link({
                'event_action': 'Invoice Detail - Request a Paid Duplicate of the Invoice',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Download Invoice',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleDownloadWithSucessToastAfterDownloadPdfOnDuplicateInvoicePage: function (free_second_invoice, paid_second_invoice) {
            // #27 - Track View - Download with Sucess Toast (after Download PDF on Duplicate Invoice Page)
            if (window.utag) {
                this.fireDownloadWithSucessToastAfterDownloadPdfOnDuplicateInvoicePage(free_second_invoice, paid_second_invoice)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireDownloadWithSucessToastAfterDownloadPdfOnDuplicateInvoicePage(free_second_invoice, paid_second_invoice)
                });
            }
        },
        fireDownloadWithSucessToastAfterDownloadPdfOnDuplicateInvoicePage: function (free_second_invoice, paid_second_invoice) {
            // #27 - Track View - Download with Sucess Toast (after Download PDF on Duplicate Invoice Page)
            //console.log('#27 - Track View - Download with Sucess Toast (after Download PDF on Duplicate Invoice Page)')

            if (free_second_invoice) {
                var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Duplicate of the Invoice';
            } else if (paid_second_invoice) {
                var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Paid Duplicate of the Invoice';
            }

            utag.view({
                'event': ['page_view'],
                'page_name': 'Invoice Downloaded With Success',
                'page_section': page_section,
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorDownloadingToastAfterDownloadPdfOnDuplicateInvoicePage: function (free_second_invoice, paid_second_invoice) {
            // #28 - Track View - Error Downloading Toast (after Download PDF on Duplicate Invoice Page)
            if (window.utag) {
                this.fireErrorDownloadingToastAfterDownloadPdfOnDuplicateInvoicePage(free_second_invoice, paid_second_invoice)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorDownloadingToastAfterDownloadPdfOnDuplicateInvoicePage(free_second_invoice, paid_second_invoice)
                });
            }
        },
        fireErrorDownloadingToastAfterDownloadPdfOnDuplicateInvoicePage: function (free_second_invoice, paid_second_invoice) {
            // #28 - Track View - Error Downloading Toast (after Download PDF on Duplicate Invoice Page)
            //console.log('#28 - Track View - Error Downloading Toast (after Download PDF on Duplicate Invoice Page)')

            if (free_second_invoice) {
                var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Duplicate of the Invoice';
            } else if (paid_second_invoice) {
                var page_section = 'My Vodafone:Billing:Invoice Detail:Request a Paid Duplicate of the Invoice';
            }

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error on Invoice Download',
                'page_section': page_section,
                'visitor_login_status': 'Logged In'
            });
        },
        handleInformativeExtractPage: function () {
            // #29 - Track View - Informative Extract Page
            if (window.utag) {
                this.fireInformativeExtractPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireInformativeExtractPage()
                });
            }
        },
        fireInformativeExtractPage: function () {
            // #29 - Track View - Informative Extract Page
            //console.log('#29 - Track View - Informative Extract Page')

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Informative Extract",
                "page_section"          : "My Vodafone:Billing Extracts",
                "page_section_full": "My Vodafone:Billing Extracts:Informative Extract",
                "visitor_login_status"  : "Logged In"
            });
        },
        handleClickExtractSummaryTabOnInformativeExtractPage: function () {
            // #30 - Track Action - Click Extract Summary Tab (on Informative Extract Page)
            if (window.utag) {
                this.fireClickExtractSummaryTabOnInformativeExtractPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickExtractSummaryTabOnInformativeExtractPage()
                });
            }
        },
        fireClickExtractSummaryTabOnInformativeExtractPage: function () {
            // #30 - Track Action - Click Extract Summary Tab (on Informative Extract Page)
            //console.log('#30 - Track Action - Click Extract Summary Tab (on Informative Extract Page)')

            utag.link({
                'event_action': 'Informative Extract',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Extract Summary',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCommunicationsDetailTabOnInformativeExtractPage: function () {
            // #31 - Track Action - Click Communications Detail Tab (on Informative Extract Page)
            if (window.utag) {
                this.fireClickCommunicationsDetailTabOnInformativeExtractPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickCommunicationsDetailTabOnInformativeExtractPage()
                });
            }
        },
        fireClickCommunicationsDetailTabOnInformativeExtractPage: function () {
            // #31 - Track Action - Click Communications Detail Tab (on Informative Extract Page)
            //console.log('#31 - Track Action - Click Communications Detail Tab (on Informative Extract Page)')

            utag.link({
                'event_action': 'Informative Extract',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Communications Detail',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandCreditDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #32 - Track Action - Expand Credit Detail (on Informative Extract Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandCreditDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandCreditDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandCreditDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #32 - Track Action - Expand Credit Detail (on Informative Extract Page) - only track expands, not collapses
            //console.log('#32 - Track Action - Expand Credit Detail (on Informative Extract Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Informative Extract - Expand Extract Summary',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Credit Detail',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandDebitDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #33 - Track Action - Expand Debit Detail (on Informative Extract Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandDebitDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandDebitDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandDebitDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #33 - Track Action - Expand Debit Detail (on Informative Extract Page) - only track expands, not collapses
            //console.log('#33 - Track Action - Expand Debit Detail (on Informative Extract Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Informative Extract - Expand Extract Summary',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Debit Detail',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickDownloadInformativeExtractOnInformativeExtractPage: function (success) {
            // #34 - Track Action - Click Download Informative Extract (on Informative Extract Page)
            if (window.utag) {
                this.fireClickDownloadInformativeExtractOnInformativeExtractPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickDownloadInformativeExtractOnInformativeExtractPage(success)
                });
            }
        },
        fireClickDownloadInformativeExtractOnInformativeExtractPage: function (success) {
            // #34 - Track Action - Click Download Informative Extract (on Informative Extract Page)
            //console.log('#34 - Track Action - Click Download Informative Extract (on Informative Extract Page)')
            if(success){
                var page_name_next = "Informative Extact Downloaded With Success";
            }
            else{
                var page_name_next = "Error Downloading Informative Extact";
            }
            utag.link({
                'event_action': 'Informative Extract',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Download Informative Extract',
                'event_value': '1',
                'visitor_login_status': 'Logged In',
                "page_name_next": page_name_next
            });
        },
        handleSelectCommunicationTypeOnInformativeExtractDetailsPage: function (communication_type) {
            // #35 - Track Action - Select communication type (on Informative Extract Details Page)
            if (window.utag) {
                this.fireSelectCommunicationTypeOnInformativeExtractDetailsPage(communication_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSelectCommunicationTypeOnInformativeExtractDetailsPage(communication_type)
                });
            }
        },
        fireSelectCommunicationTypeOnInformativeExtractDetailsPage: function (communication_type) {
            // #35 - Track Action - Select communication type (on Informative Extract Details Page)
            //console.log('#35 - Track Action - Select communication type (on Informative Extract Details Page)')
            if (communication_type === 'National Communications' || communication_type === 'Nacional Communications') {
                var event_label = 'National Communications';
            } else if (communication_type === 'Roaming Communications') {
                var event_label = 'Roaming Communications';
            } else if (communication_type === 'National Data Consumption' || communication_type === 'Nactional Data Consumption') {
                var event_label = 'National Data Consumption';
            } else if (communication_type === 'Roaming Data Consumption') {
                var event_label = 'Roaming Data Consumption';
            }

            utag.link({
                'event_action': 'Informative Extract - Search Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSortCommunicationsByOnInformativeExtractDetailsPage: function (sort_by) {
            // #36 - Track Action - Sort communications by (on Informative Extract Details Page)
            if (window.utag) {
                this.fireSortCommunicationsByOnInformativeExtractDetailsPage(sort_by)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSortCommunicationsByOnInformativeExtractDetailsPage(sort_by)
                });
            }
        },
        fireSortCommunicationsByOnInformativeExtractDetailsPage: function (sort_by) {
            // #36 - Track Action - Sort communications by (on Informative Extract Details Page)
            //console.log('#36 - Track Action - Sort communications by (on Informative Extract Details Page)')

            if (sort_by === 'Sort By Date') {
                var event_label = 'Sort By Date';
                var page_sorting = 'Date';
            } else if (sort_by === 'Sort By Time') {
                var event_label = 'Sort By Time';
                var page_sorting = 'Time';
            } else if (sort_by === 'Sort By Destination Number') {
                var event_label = 'Sort By Destination Number';
                var page_sorting = 'Destination Number';
            } else if (sort_by === 'Sort By Communication Type') {
                var event_label = 'Sort By Communication Type';
                var page_sorting = 'Communication Type';
            } else if (sort_by === 'Sort By Description') {
                var event_label = 'Sort By Description';
                var page_sorting = 'Description';
            } else if (sort_by === 'Sort By Duration') {
                var event_label = 'Sort By Duration';
                var page_sorting = 'Duration';
            } else if (sort_by === 'Sort By Value') {
                var event_label = 'Sort By Value';
                var page_sorting = 'Value';
            } else if (sort_by === 'Sort By Data Volume') {
                var event_label = 'Sort By Data Volume';
                var page_sorting = 'Data Volume';
            }

            utag.link({
                'event_action': 'Informative Extract - Sort Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance', 'page_sort'],
                'event_label': event_label,
                'event_value': '1',
                'page_sorting': page_sorting,
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandExportCommunicationsOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #37 - Track Action - Expand Export Communications (on Informative Extract Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandExportCommunicationsOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandExportCommunicationsOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandExportCommunicationsOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #37 - Track Action - Expand Export Communications (on Informative Extract Page) - only track expands, not collapses
            //console.log('#37 - Track Action - Expand Export Communications (on Informative Extract Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Informative Extract - Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Expand Export Communications',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandInhibitCommunicationsDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #38 - Track Action - Expand Inhibit Communications Detail (on Informative Extract Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandInhibitCommunicationsDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandInhibitCommunicationsDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandInhibitCommunicationsDetailOnInformativeExtractPageOnlyTrackExpandsNotCollapses: function () {
            // #38 - Track Action - Expand Inhibit Communications Detail (on Informative Extract Page) - only track expands, not collapses
            //console.log('#38 - Track Action - Expand Inhibit Communications Detail (on Informative Extract Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Informative Extract - Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Expand Inhibit Communications Detail',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickExportCommunicationsDetailOnInformativeExtractPage: function (file_format, success) {
            // #39 - Track Action - Click Export Communications Detail (on Informative Extract Page)
            if (window.utag) {
                this.fireClickExportCommunicationsDetailOnInformativeExtractPage(file_format, success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickExportCommunicationsDetailOnInformativeExtractPage(file_format, success)
                });
            }
        },
        fireClickExportCommunicationsDetailOnInformativeExtractPage: function (file_format, success) {
            // #39 - Track Action - Click Export Communications Detail (on Informative Extract Page)
            //console.log('#39 - Track Action - Click Export Communications Detail (on Informative Extract Page)')

            if (file_format === 'CSV') {
                var event_label = 'Download CSV';
            } else if (file_format === 'TXT') {
                var event_label = 'Download TXT';
            } else if (file_format === 'XLS') {
                var event_label = 'Download XLS';
            } else if (file_format === 'TLC') {
                var event_label = 'Download TLC';
            }

            if (success) {
                var page_name_next = 'Communications Exported With Success';
            } else {
                var page_name_next = 'Error Exporting Communications';
            }

            utag.link({
                'event_action': 'Informative Extract - Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleDownloadWithSucessToastAfterExportCommunications: function () {
            // #40 - Track View - Download with Sucess Toast (after Export Communications)
            if (window.utag) {
                this.fireDownloadWithSucessToastAfterExportCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireDownloadWithSucessToastAfterExportCommunications()
                });
            }
        },
        fireDownloadWithSucessToastAfterExportCommunications: function () {
            // #40 - Track View - Download with Sucess Toast (after Export Communications)
            //console.log('#40 - Track View - Download with Sucess Toast (after Export Communications)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Communications Exported With Success',
                'page_section': 'My Vodafone:Billing:Informative Extract',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorDownloadingToastAfterExportCommunications: function () {
            // #41 - Track View - Error Downloading Toast (after Export Communications)
            if (window.utag) {
                this.fireErrorDownloadingToastAfterExportCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorDownloadingToastAfterExportCommunications()
                });
            }
        },
        fireErrorDownloadingToastAfterExportCommunications: function () {
            // #41 - Track View - Error Downloading Toast (after Export Communications)
            //console.log('#41 - Track View - Error Downloading Toast (after Export Communications)')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Exporting Communications',
                'page_section': 'My Vodafone:Billing:Informative Extract',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickInhibitCommunicationsDetailOnInformativeExtractPage: function () {
            // #42 - Track Action - Click Inhibit Communications Detail (on Informative Extract Page)
            if (window.utag) {
                this.fireClickInhibitCommunicationsDetailOnInformativeExtractPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickInhibitCommunicationsDetailOnInformativeExtractPage()
                });
            }
        },
        fireClickInhibitCommunicationsDetailOnInformativeExtractPage: function () {
            // #42 - Track Action - Click Inhibit Communications Detail (on Informative Extract Page)
            //console.log('#42 - Track Action - Click Inhibit Communications Detail (on Informative Extract Page)')

            utag.link({
                'event_action': 'Informative Extract - Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Inhibit Communications Detail',
                'event_value': '1',
                'page_name_next': 'Inhibit Communications Detail',
                'visitor_login_status': 'Logged In'
            });
        },
        handleInhibitCommunicationsDetailPage: function () {
            // #43 - Track View - Inhibit Communications Detail Page
            if (window.utag) {
                this.fireInhibitCommunicationsDetailPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireInhibitCommunicationsDetailPage()
                });
            }
        },
        fireInhibitCommunicationsDetailPage: function () {
            // #43 - Track View - Inhibit Communications Detail Page
            //console.log('#43 - Track View - Inhibit Communications Detail Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Inhibit Communications Detail',
                'page_section': 'My Vodafone:Billing Extracts:Informative Extract',
                'page_section_full': 'My Vodafone:Billing Extracts:Informative Extract:Inhibit Communications Detail',
                'visitor_login_status': 'Logged In'
            });
        },
        handleConfirmInhibitCommunicationsDetailOnInhibitCommunicationsDetailPage: function (success) {
            // #44 - Track Action - Confirm Inhibit Communications Detail (on Inhibit Communications Detail Page)
            if (window.utag) {
                this.fireConfirmInhibitCommunicationsDetailOnInhibitCommunicationsDetailPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireConfirmInhibitCommunicationsDetailOnInhibitCommunicationsDetailPage(success)
                });
            }
        },
        fireConfirmInhibitCommunicationsDetailOnInhibitCommunicationsDetailPage: function (success) {
            // #44 - Track Action - Confirm Inhibit Communications Detail (on Inhibit Communications Detail Page)
            //console.log('#44 - Track Action - Confirm Inhibit Communications Detail (on Inhibit Communications Detail Page)')

            if (success) {
                var page_name_next = 'Communications Detail Inhibited With Success';
            } else {
                var page_name_next = 'Error in Communication Detail Inhibition';
            }

            utag.link({
                'event_action': 'Informative Extract - Inhibit Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Confirm',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnInhibitCommunicationsDetailPage: function () {
            // #45 - Track Action - Click Return (on Inhibit Communications Detail Page)
            if (window.utag) {
                this.fireClickReturnOnInhibitCommunicationsDetailPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnInhibitCommunicationsDetailPage()
                });
            }
        },
        fireClickReturnOnInhibitCommunicationsDetailPage: function () {
            // #45 - Track Action - Click Return (on Inhibit Communications Detail Page)
            //console.log('#45 - Track Action - Click Return (on Inhibit Communications Detail Page)')

            utag.link({
                'event_action': 'Informative Extract - Inhibit Communications Detail',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Return to Invoice Detail',
                'event_value': '1',
                'page_name_next': 'Informative Extract',
                'visitor_login_status': 'Logged In'
            });
        },
        handleInhibitCommunicationsSuccessPage: function () {
            // #46 - Track View - Inhibit Communications Success Page
            if (window.utag) {
                this.fireInhibitCommunicationsSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireInhibitCommunicationsSuccessPage()
                });
            }
        },
        fireInhibitCommunicationsSuccessPage: function () {
            // #46 - Track View - Inhibit Communications Success Page
            //console.log('#46 - Track View - Inhibit Communications Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Communications Detail Inhibited With Success',
                'page_section': 'My Vodafone:Billing:Informative Extract:Inhibit Communications Detail',
                'page_section_full': 'My Vodafone:Billing Extracts:Informative Extract:Inhibit Communications Detail:Communications Detail Inhibited With Success',
                'visitor_login_status': 'Logged In'
            });
        },
        handleInhibitCommunicationsErrorPage: function () {
            // #47 - Track View - Inhibit Communications Error Page
            if (window.utag) {
                this.fireInhibitCommunicationsErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireInhibitCommunicationsErrorPage()
                });
            }
        },
        fireInhibitCommunicationsErrorPage: function () {
            // #47 - Track View - Inhibit Communications Error Page
            //console.log('#47 - Track View - Inhibit Communications Error Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error in Communication Detail Inhibition',
                'page_section': 'My Vodafone:Billing:Informative Extract:Inhibit Communications Detail',
                'page_section_full' : 'My Vodafone:Billing Extracts:Informative Extract:Inhibit Communications Detail:Error in Communication Detail Inhibition',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnInhibitCommunicationsSuccessPage: function () {
            // #48 - Track Action - Click Continue (on Inhibit Communications Success Page)
            if (window.utag) {
                this.fireClickContinueOnInhibitCommunicationsSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnInhibitCommunicationsSuccessPage()
                });
            }
        },
        fireClickContinueOnInhibitCommunicationsSuccessPage: function () {
            // #48 - Track Action - Click Continue (on Inhibit Communications Success Page)
            //console.log('#48 - Track Action - Click Continue (on Inhibit Communications Success Page)')

            utag.link({
                'event_action': 'Informative Extract - Communications Detail Inhibited With Success',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Informative Extract',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnInhibitCommunicationsErrorPage: function () {
            // #49 - Track Action - Click Continue (on Inhibit Communications Error Page)
            if (window.utag) {
                this.fireClickContinueOnInhibitCommunicationsErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnInhibitCommunicationsErrorPage()
                });
            }
        },
        fireClickContinueOnInhibitCommunicationsErrorPage: function () {
            // #49 - Track Action - Click Continue (on Inhibit Communications Error Page)
            //console.log('#49 - Track Action - Click Continue (on Inhibit Communications Error Page)')

            utag.link({
                'event_action': 'Informative Extract - Error in Communication Detail Inhibition',
                'event_category': 'Billing',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Informative Extract',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses: function () {
            // #50 - Track Action - Expand Change Password (on Settings Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses: function () {
            // #50 - Track Action - Expand Change Password (on Settings Page) - only track expands, not collapses
            //console.log('#50 - Track Action - Expand Change Password (on Settings Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Manage Personal Information',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Change Password',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickConfirmChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses: function (success) {
            // #51 - Track Action - Click Confirm Change Password (on Settings Page) - only track expands, not collapses
            if (window.utag) {
                this.fireClickConfirmChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickConfirmChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses(success)
                });
            }
        },
        fireClickConfirmChangePasswordOnSettingsPageOnlyTrackExpandsNotCollapses: function (success) {
            // #51 - Track Action - Click Confirm Change Password (on Settings Page) - only track expands, not collapses
            //console.log('#51 - Track Action - Click Confirm Change Password (on Settings Page) - only track expands, not collapses')

            if (success) {
                var page_name_next = 'Password Changed with Success';
            } else {
                var page_name_next = 'Error Changing Password';
            }

            utag.link({
                'event_action': 'Change Password',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Confirm',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handlePasswordChangedWithSuccessToast: function () {
            // #52 - Track View - Password Changed with Success Toast
            if (window.utag) {
                this.firePasswordChangedWithSuccessToast()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.firePasswordChangedWithSuccessToast()
                });
            }
        },
        firePasswordChangedWithSuccessToast: function () {
            // #52 - Track View - Password Changed with Success Toast
            //console.log('#52 - Track View - Password Changed with Success Toast')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Password Changed with Success',
                'page_section': 'My Vodafone:Settings:My Personal Information',
                'visitor_login_status': 'Logged In'
            });
        },
        handlePasswordNotChangedToast: function () {
            // #53 - Track View - Password Not Changed Toast
            if (window.utag) {
                this.firePasswordNotChangedToast()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.firePasswordNotChangedToast()
                });
            }
        },
        firePasswordNotChangedToast: function () {
            // #53 - Track View - Password Not Changed Toast
            //console.log('#53 - Track View - Password Not Changed Toast')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Changing Password',
                'page_section': 'My Vodafone:Settings:My Personal Information',
                'visitor_login_status': 'Logged In'
            });
        },
        handleShowMismatchBetweenPasswordsErrorOnSettingsPage: function () {
            // #54 - Track Action - Show mismatch between passwords error (on Settings Page)
            if (window.utag) {
                this.fireShowMismatchBetweenPasswordsErrorOnSettingsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireShowMismatchBetweenPasswordsErrorOnSettingsPage()
                });
            }
        },
        fireShowMismatchBetweenPasswordsErrorOnSettingsPage: function () {
            // #54 - Track Action - Show mismatch between passwords error (on Settings Page)
            //console.log('#54 - Track Action - Show mismatch between passwords error (on Settings Page)')

            utag.link({
                'event_action': 'Change Password',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Error - Mismatch Between Passwords',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleShowSamePasswordAlreadyUsedErrorOnSettingsPage: function () {
            // #55 - Track Action - Show same password already used error (on Settings Page)
            if (window.utag) {
                this.fireShowSamePasswordAlreadyUsedErrorOnSettingsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireShowSamePasswordAlreadyUsedErrorOnSettingsPage()
                });
            }
        },
        fireShowSamePasswordAlreadyUsedErrorOnSettingsPage: function () {
            // #55 - Track Action - Show same password already used error (on Settings Page)
            //console.log('#55 - Track Action - Show same password already used error (on Settings Page)')

            utag.link({
                'event_action': 'Change Password',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Error - Same as Previous Password',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleShowWrongPasswordErrorOnSettingsPage: function () {
            // #56 - Track Action - Show wrong password error (on Settings Page)
            if (window.utag) {
                this.fireShowWrongPasswordErrorOnSettingsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireShowWrongPasswordErrorOnSettingsPage()
                });
            }
        },
        fireShowWrongPasswordErrorOnSettingsPage: function () {
            // #56 - Track Action - Show wrong password error (on Settings Page)
            //console.log('#56 - Track Action - Show wrong password error (on Settings Page)')

            utag.link({
                'event_action': 'Change Password',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Error - Wrong Current Password',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        }
    }
};
/* global window, utag, tealiumBus, console*/
var tealium_billing5 = {
    methods: {
        handleResumeLastMovements: function() {
            // #43 - Track Action - Resume Last Movements
            if (window.utag) {
                this.fireResumeLastMovements()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireResumeLastMovements()
                });
            }
        },
        fireResumeLastMovements: function() {
            // #43 - Track Action - Resume Last Movements
            //console.log('#43 - Track Action - Resume Last Movements')
            utag.link({
                "event_action": "Last Movements",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Resume Last Movements",
                "event_value": "1",
                "page_name_next": "Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });
        },
        handleInvoicesAndPaymentsResume: function() {
            // #44 - Track View - Invoices and Payments Resume
            if (window.utag) {
                this.fireInvoicesAndPaymentsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireInvoicesAndPaymentsResume()
                });
            }
        },
        fireInvoicesAndPaymentsResume: function() {
            // #44 - Track View - Invoices and Payments Resume
            //console.log('#44 - Track View - Invoices and Payments Resume')
            utag.view({
                "event": ["page_view"],
                "page_name": "Invoices and Payments Resume",
                "page_section": "My Vodafone:Billing",
                "visitor_login_status": "Logged In"
            });
        },
        handleSearchLastMovementsByDate: function() {
            // #45 - Track Action - Search Last Movements by Date
            if (window.utag) {
                this.fireSearchLastMovementsByDate()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSearchLastMovementsByDate()
                });
            }
        },
        fireSearchLastMovementsByDate: function() {
            // #45 - Track Action - Search Last Movements by Date
            //console.log('#45 - Track Action - Search Last Movements by Date')
            utag.link({
                "event_action": "Invoices and Payments Resume",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Search Last Movements by Date",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleDownloadLastMovementsResume: function() {
            // #46 - Track Action - Download Last Movements Resume
            if (window.utag) {
                this.fireDownloadLastMovementsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDownloadLastMovementsResume()
                });
            }
        },
        fireDownloadLastMovementsResume: function() {
            // #46 - Track Action - Download Last Movements Resume
            //console.log('#46 - Track Action - Download Last Movements Resume')
            utag.link({
                "event_action": "Invoices and Payments Resume",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Download Last Movements Resume",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleLastMovementsResumeDownloadedWithSuccess: function() {
            // #47 - Track View - Last Movements Resume Downloaded with Success
            if (window.utag) {
                this.fireLastMovementsResumeDownloadedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireLastMovementsResumeDownloadedWithSuccess()
                });
            }
        },
        fireLastMovementsResumeDownloadedWithSuccess: function() {
            // #47 - Track View - Last Movements Resume Downloaded with Success
            //console.log('#47 - Track View - Last Movements Resume Downloaded with Success')
            utag.view({
                "event": ["page_view"],
                "page_name": "Last Movements Resume Downloaded with Success",
                "page_section": "My Vodafone:Billing:Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });
        },
        handleErrorDownloadingLastMovementsResume: function() {
            // #48 - Track View - Error Downloading Last Movements Resume
            if (window.utag) {
                this.fireErrorDownloadingLastMovementsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorDownloadingLastMovementsResume()
                });
            }
        },
        fireErrorDownloadingLastMovementsResume: function() {
            // #48 - Track View - Error Downloading Last Movements Resume
            //console.log('#48 - Track View - Error Downloading Last Movements Resume')
            utag.view({
                "event": ["page_view"],
                "page_name": "Error Downloading Last Movements Resume",
                "page_section": "My Vodafone:Billing:Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });
        }
    }
};
var tealium_homepage = {
    methods: {

        //Homepage
        handleHomepage: function() {
            if (window.utag) {
                this.fireHomepage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireHomepage() });
            }
        },
        fireHomepage: function() {

            // #1 - Track View - Homepage

            utag.view({
                "event": ["page_view"],
                "page_name": "Homepage My Vodafone Web",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },

        //Loyalty Points
        handleLoyaltyPointsExpand: function(isIdentified) {
            if (window.utag) {
                this.fireLoyaltyPointsExpand(isIdentified)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLoyaltyPointsExpand(isIdentified) });
            }
        },
        fireLoyaltyPointsExpand: function(isIdentified) {

            // #2 - Track Action - Expand Clube Viva (on Homepage) -
            // Only track expands, and not collapses

            var data = {
                "event_action": "Clube Viva Points",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Expand Clube Viva Points",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            };

            if (!isIdentified) {
                data.page_name_next = "Clube Viva - Not Identified Customer";
            }

            utag.link(data);
        },
        // 3, 4, 5, 6
        handleLoyaltyPointsLinkClick: function(page) {
            if (window.utag) {
                this.fireLoyaltyPointsLinkClick(page)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLoyaltyPointsLinkClick(page) });
            }
        },
        fireLoyaltyPointsLinkClick: function(page) {

            // #3 - Track Action - Select Mobile Phones on Clube Viva Section (on Homepage)

            utag.link({
                "event_action": "Clube Viva Points",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Go to Clube Viva "+ page,
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },

        handleClickSeeClubeViva: function() {
            if (window.utag) {
                this.fireClickSeeClubeViva()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSeeClubeViva() });
            }
        },
        fireClickSeeClubeViva: function() {

            // #7 - Track Action - Select See Clube Viva on Clube Viva Section (on Homepage)

            utag.link({
                "event_action": "Clube Viva Points",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Go to Clube Viva Online Store",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },

        handleNotIdentifiedCostumer: function() {
            if (window.utag) {
                this.fireNotIdentifiedCostumer()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNotIdentifiedCostumer() });
            }
        },
        fireNotIdentifiedCostumer: function() {

            // #8 - Track View - Not Identified Clube Viva Customer Page

            utag.view({
                "event": ["page_view"],
                "page_name": "Clube Viva - Not Identified Customer",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickSeeLastCommunications: function() {
            if (window.utag) {
                this.fireClickSeeLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSeeLastCommunications() });
            }
        },
        fireClickSeeLastCommunications: function() {

            // #9 - Track Action - Click See Last Communications (on Homepage)

            utag.link({
                "event_action" : "Search Last Communications",
                "event_category" : "Homepage",
                "event" : ["event_instance"],
                "event_label" : "Last Communications",
                "event_value" : "1",
                "visitor_login_status" : "Logged In"
            });
        },
        handleClickSearchLastCommunications: function() {
            if (window.utag) {
                this.fireClickSearchLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSearchLastCommunications() });
            }
        },
        fireClickSearchLastCommunications: function() {

            // #10 - Track Action - Search Last Communications (on Homepage)

            utag.link({
                "event_action": "Search Last Communications",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Search between Dates",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickResetSearchLastCommunications: function() {
            if (window.utag) {
                this.fireClickResetSearchLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickResetSearchLastCommunications() });
            }
        },
        fireClickResetSearchLastCommunications: function() {

            // #11 - Track Action - Reset Search Dates (on Homepage)

            utag.link({
                "event_action": "Search Last Communications",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Reset Search Dates",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        // TODO 12
        handleSearchWithoutResultsLastCommunications: function() {
            if (window.utag) {
                this.fireSearchWithoutResultsLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSearchWithoutResultsLastCommunications() });
            }
        },
        fireSearchWithoutResultsLastCommunications: function() {

            // #13 - Track View - Search communications without Results Page

            utag.view({
                "event": ["page_view"],
                "page_name": "Search without Results",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        //TODO 14
        handleClickInhibitLastCommunications: function() {
            if (window.utag) {
                this.fireClickInhibitLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInhibitLastCommunications() });
            }
        },
        fireClickInhibitLastCommunications: function() {

            // #15 - Track Action - Click Inhibit Last Communications (on Homepage)

            utag.link({
                "event_action": "Inhibit Last Communications",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Inhibit Last Communications Detail",
                "event_value": "1",
                "page_name_next": "Inhibit Last Communications",
                "visitor_login_status": "Logged In"
            });
        },
        handleInhibitLastCommunications: function() {
            if (window.utag) {
                this.fireInhibitLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInhibitLastCommunications() });
            }
        },
        fireInhibitLastCommunications: function() {

            // #16 - Track View - Inhibit Last Communications Confirmation Page

            utag.view({
                "event": ["page_view"],
                "page_name": "Inhibit Last Communications",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickContinueInInhibitLastCommunications: function(success) {
            if (window.utag) {
                this.fireClickContinueInInhibitLastCommunications(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueInInhibitLastCommunications(success) });
            }
        },
        fireClickContinueInInhibitLastCommunications: function(success) {

            // #17 - Track Action - Click Continue (on Inhibit Last Communications Confirmation Page)

            if (success) {
                var page_name_next = "Last Communications Inhibited With Success";
            } else {
                var page_name_next = "Error in Last Communications Inhibition";
            }

            utag.link({
                "event_action": "Inhibit Last Communications",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Confirm",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });
        },
        handleClickInReturnOnInhibitLastCommunications: function() {
            if (window.utag) {
                this.fireClickInReturnOnInhibitLastCommunications()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInReturnOnInhibitLastCommunications() });
            }
        },
        fireClickInReturnOnInhibitLastCommunications: function() {

            // #18 - Track Action - Click Back (on Inhibit Last Communications Confirmation Page)

            utag.link({
                "event_action": "Inhibit Last Communications",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Return to Last Communications",
                "event_value": "1",
                "page_name_next": "Homepage",
                "visitor_login_status": "Logged In"
            });
        },
        handleShowInhibitLastCommunicationsSuccessPage: function() {
            if (window.utag) {
                this.fireShowInhibitLastCommunicationsSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireShowInhibitLastCommunicationsSuccessPage() });
            }
        },
        fireShowInhibitLastCommunicationsSuccessPage: function() {

            // #19 - Track View - Inhibit Last Communications Success Page

            utag.view({
                "event": ["page_view"],
                "page_name": "Last Communications Inhibited With Success",
                "page_section": "My Vodafone:Inhibit Last Communications",
                "visitor_login_status": "Logged In"
            });
        },
        handleShowInhibitLastCommunicationsErrorPage: function() {
            if (window.utag) {
                this.fireShowInhibitLastCommunicationsErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireShowInhibitLastCommunicationsErrorPage() });
            }
        },
        fireShowInhibitLastCommunicationsErrorPage: function() {

            // #20 - Track View - Inhibit Last Communications Error Page

            utag.view({
                "event": ["page_view"],
                "page_name": "Error in Last Communications Inhibition",
                "page_section": "My Vodafone:Inhibit Last Communications",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickContinueOnInhibitLastCommunicationsSuccessPage: function() {
            if (window.utag) {
                this.fireClickContinueOnInhibitLastCommunicationsSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInhibitLastCommunicationsSuccessPage() });
            }
        },
        fireClickContinueOnInhibitLastCommunicationsSuccessPage: function() {

            // #21 - Track Action - Click Continue (on Inhibit Last Communications Success Page)

            utag.link({
                "event_action": "Last Communications Inhibited With Success",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Continue",
                "event_value": "1",
                "page_name_next": "Homepage",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickContinueOnInhibitLastCommunicationsErrorPage: function() {
            if (window.utag) {
                this.fireClickContinueOnInhibitLastCommunicationsErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnInhibitLastCommunicationsErrorPage() });
            }
        },
        fireClickContinueOnInhibitLastCommunicationsErrorPage: function() {

            // #22 - Track Action - Click Continue (on Inhibit Last Communications Error Page)

            utag.link({
                "event_action": "Error in Last Communications Inhibition",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Continue",
                "event_value": "1",
                "page_name_next": "Homepage",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickSeeMoreOnFixedService: function() {
            if (window.utag) {
                this.fireClickSeeMoreOnFixedService()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSeeMoreOnFixedService() });
            }
        },
        fireClickSeeMoreOnFixedService: function() {

            // #23 - Track Action - Click View More (on TV NET VOZ Section of Homepage)

            utag.link({
                "event_action": "Tv Net Voz",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "See More Details",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickSeeLessOnFixedService: function() {
            if (window.utag) {
                this.fireClickSeeLessOnFixedService()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSeeLessOnFixedService() });
            }
        },
        fireClickSeeLessOnFixedService: function() {

            // #24 - Track Action - Click View Less (on TV NET VOZ Section of Homepage)

            utag.link({
                "event_action": "Tv Net Voz",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "See Less Details",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },

        // Search Portfolio
        handleClickViewMoreServicesPortfolio: function() {
            if (window.utag) {
                this.fireClickViewMoreServicesPortfolio()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickViewMoreServicesPortfolio() });
            }
        },
        fireClickViewMoreServicesPortfolio: function() {

            // #25 - Track Action - Click View More Services (below Portfolio on Full-Screen View) or Cick Portfolio Icon (on smaller screens - responsive portfolio)

            utag.link({
                "event_action": "Search Portfolio",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "See More Services",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickSearchOnPortfolio: function() {
            if (window.utag) {
                this.fireClickSearchOnPortfolio()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSearchOnPortfolio() });
            }
        },
        fireClickSearchOnPortfolio: function() {

            // #26 - Track Action - Click Search (on Portfolio) - Track when input serch box is clicked (both on full-screen view and responsive view)

            utag.link({
                "event_action": "Search Portfolio",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Search Portfolio Service or Account",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickEraseSearchOnPortfolio: function() {
            if (window.utag) {
                this.fireClickEraseSearchOnPortfolio()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickEraseSearchOnPortfolio() });
            }
        },
        fireClickEraseSearchOnPortfolio: function() {

            // #27 - Track Action - Erase Search (on Portfolio - "X" button inside input box - both on Full-Screen View and Responsive View)

            utag.link({
                "event_action": "Search Portfolio",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Reset the Portfolio Search",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickAccountIconOnPortfolio: function() {
            if (window.utag) {
                this.fireClickAccountIconOnPortfolio()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickAccountIconOnPortfolio() });
            }
        },
        fireClickAccountIconOnPortfolio: function() {

            // #28 - Track Action - Drill-Down Accounts (on Portfolio)

            utag.link({
                "event_action": "Search Portfolio",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Expand Portfolio Account",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleSelectServiceOnPortfolio: function() {
            if (window.utag) {
                this.fireSelectServiceOnPortfolio()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectServiceOnPortfolio() });
            }
        },
        fireSelectServiceOnPortfolio: function() {

            // #29 - Track Action - Select Service or Account (on Portfolio)

            utag.link({
                "event_action": "Search Portfolio",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Change Portfolio Selection",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },

        // Portal Navigation
        handleClickExpandPortalNavigation: function() {
            if (window.utag) {
                this.fireClickExpandPortalNavigation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickExpandPortalNavigation() });
            }
        },
        fireClickExpandPortalNavigation: function() {

            // #30 - Track Action - Click Account Icon (on Top Bar)

            utag.link({
                "event_action": "Navigation Portal",
                "event_category": "Header",
                "event": ["event_instance"],
                "event_label": "Expand Navigation Portal",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickCategoryOnPortalNavigation: function(category) {
            if (window.utag) {
                this.fireClickCategoryOnPortalNavigation(category)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCategoryOnPortalNavigation(category) });
            }
        },
        fireClickCategoryOnPortalNavigation: function(category) {

            // #31 - Track Action - Click Navigation Categories (on Top Bar)
            var mapping = {
                "homepage":"Homepage",
                "my-products-and-services":"My Products and Services",
                "billing":"Billing",
                "offers-and-extras":"Offers and Extras",
                "download-center":"Download Center",
                "business-services":"Enterprise Services",
                "Settings":"Settings",
                "logout":"Logout",

            }

            var event_label = mapping[category];
            if(!event_label){
                return;
            }

            var page_name_next = event_label == 'Logout' ? 'Vodafone.pt' : event_label;

            utag.link({
                "event_action": "Navigation Portal",
                "event_category": "Header",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });
        },
        handleClickClosePortalNavigation: function() {
            if (window.utag) {
                this.fireClickClosePortalNavigation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickClosePortalNavigation() });
            }
        },
        fireClickClosePortalNavigation: function() {

            // #32 - Track Action - Click Close Navigation Menu (on Top Bar)

            utag.link({
                "event_action": "Navigation Portal",
                "event_category": "Header",
                "event": ["event_instance"],
                "event_label": "Close Navigation Portal",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },

        // Signal Max
        handleNoSignalMaxUsers: function() {
            if (window.utag) {
                this.fireNoSignalMaxUsers()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNoSignalMaxUsers() });
            }
        },
        fireNoSignalMaxUsers: function() {

            // #33 - Track View - No Signal Max Users Message Box

            utag.view({
                "event": ["page_view"],
                "page_name": "Error - No Signal Max Users",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickAddNumberToSignalMax: function() {
            if (window.utag) {
                this.fireClickAddNumberToSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickAddNumberToSignalMax() });
            }
        },
        fireClickAddNumberToSignalMax: function() {

            // #34 - Track Action - Click Add Number to Signal Max

            utag.link({
                "event_action": "Signal Max",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Add MSISDN to Signal Max",
                "event_value": "1",
                "page_name_next": "MSISDN Added With Success to Signal Max",
                "visitor_login_status": "Logged In"
            });
        },
        handleMSISDNSuccessfullyAddedToSignalMax: function() {
            if (window.utag) {
                this.fireMSISDNSuccessfullyAddedToSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMSISDNSuccessfullyAddedToSignalMax() });
            }
        },
        fireMSISDNSuccessfullyAddedToSignalMax: function() {

            // #35 - Track View - MSISDN Added to Signal Max Message Box

            utag.view({
                "event": ["page_view"],
                "page_name": "MSISDN Added With Success to Signal Max",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleRemoveMSISDNFromSignalMax: function() {
            if (window.utag) {
                this.fireRemoveMSISDNFromSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRemoveMSISDNFromSignalMax() });
            }
        },
        fireRemoveMSISDNFromSignalMax: function() {

            // #36 - Track Action - Remove MSISDN from Signal Max

            utag.link({
                "event_action": "Signal Max",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Remove MSISDN from Signal Max",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        },
        handleErrorOnServiceToastOnSignalMax: function() {
            if (window.utag) {
                this.fireErrorOnServiceToastOnSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorOnServiceToastOnSignalMax() });
            }
        },
        fireErrorOnServiceToastOnSignalMax: function() {

            // #37 - Track View - Error on Service Toast

            utag.view({
                "event": ["page_view"],
                "page_name": "Service Error",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleImportCSVOnSignalMax: function(success) {
            if (window.utag) {
                this.fireImportCSVOnSignalMax(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireImportCSVOnSignalMax(success) });
            }
        },
        fireImportCSVOnSignalMax: function(success) {

            // #38 - Track Action - Import CSV

            if (success) {
                var page_name_next = "CSV File Imported with Success";
            } else {
                var page_name_next = "Error - Invalid CSV File";
            }

            utag.link({
                "event_action": "Signal Max",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Import CSV File to Signal Max",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });
        },
        handleCSVSucessfullyImportedToSignalMax: function() {
            if (window.utag) {
                this.fireCSVSucessfullyImportedToSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCSVSucessfullyImportedToSignalMax() });
            }
        },
        fireCSVSucessfullyImportedToSignalMax: function() {

            // #39 - Track View - CSV File Imported with Success Toast

            utag.view({
                "event": ["page_view"],
                "page_name": "CSV File Imported with Success",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleCSVInvalidFileErrorToastOnSignalMax: function(category) {
            if (window.utag) {
                this.fireCSVInvalidFileErrorToastOnSignalMax(category)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCSVInvalidFileErrorToastOnSignalMax(category) });
            }
        },
        fireCSVInvalidFileErrorToastOnSignalMax: function(category) {

            // #40 - Track View - Invalid CSV File Error Toast

            utag.view({
                "event": ["page_view"],
                "page_name": "Error - Invalid CSV File",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleClickSaveSignalMax: function(success) {
            if (window.utag) {
                this.fireClickSaveSignalMax(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSaveSignalMax(success) });
            }
        },
        fireClickSaveSignalMax: function(success) {

            // #41 - Track Action - Click Save Signal Max Changes

            if (success) {
                var page_name_next = "Changes Saved With Success";
            } else {
                var page_name_next = "Error - Invalid Changes";
            }

            utag.link({
                "event_action": "Signal Max",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Save Signal Max Changes",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });
        },
        handleChangesSavedWithSuccessOnSignalMax: function() {
            if (window.utag) {
                this.fireChangesSavedWithSuccessOnSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangesSavedWithSuccessOnSignalMax() });
            }
        },
        fireChangesSavedWithSuccessOnSignalMax: function() {

            // #42 - Track View - Changes Saved with Success Toast

            utag.view({
                "event": ["page_view"],
                "page_name": "Changes Saved With Success",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
        handleChangesSavedWithErrorOnSignalMax: function() {
            if (window.utag) {
                this.fireChangesSavedWithErrorOnSignalMax()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangesSavedWithErrorOnSignalMax() });
            }
        },
        fireChangesSavedWithErrorOnSignalMax: function() {

            // #43 - Track View - Error Saving Changes Toast

            utag.view({
                "event": ["page_view"],
                "page_name": "Error - Invalid Changes",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });
        },
    }
}
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_homepage2 = {
    methods: {handleClickCounterOnHomepage: function() {
        // #1 - Track Action - Click Counter (on Homepage)
        if (window.utag) {
            this.fireClickCounterOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCounterOnHomepage() });
        }
    }, fireClickCounterOnHomepage: function() {
        // #1 - Track Action - Click Counter (on Homepage)
        //console.log('#1 - Track Action - Click Counter (on Homepage)')

        utag.link({
            'event_action': 'Homepage Counters',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': 'Click Homepage Counter',
            'event_value': '1',
            'page_name_next': 'My Products and Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickMoreDetailsOnHomepage: function() {
        // #2 - Track Action - Click More Details (on Homepage)
        if (window.utag) {
            this.fireClickMoreDetailsOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickMoreDetailsOnHomepage() });
        }
    }, fireClickMoreDetailsOnHomepage: function() {
        // #2 - Track Action - Click More Details (on Homepage)
        //console.log('#2 - Track Action - Click More Details (on Homepage)')

        utag.link({
            'event_action': 'Homepage Counters',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': 'See More Details',
            'event_value': '1',
            'page_name_next': 'My Products and Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickBuyAddonsOnHomepage: function() {
        // #3 - Track Action - Click Buy Addons (on Homepage)
        if (window.utag) {
            this.fireClickBuyAddonsOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickBuyAddonsOnHomepage() });
        }
    }, fireClickBuyAddonsOnHomepage: function() {
        // #3 - Track Action - Click Buy Addons (on Homepage)
        //console.log('#3 - Track Action - Click Buy Addons (on Homepage)')

        utag.link({
            'event_action': 'Homepage Counters',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': 'Buy Add-ons',
            'event_value': '1',
            'page_name_next': 'Add-ons',
            'visitor_login_status': 'Logged In'
        });
    }, handleServiceNotAvailableMessageOnHomepage: function() {
        // #4 - Track View - Service not Available Message (on Homepage)
        if (window.utag) {
            this.fireServiceNotAvailableMessageOnHomepage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireServiceNotAvailableMessageOnHomepage() });
        }
    }, fireServiceNotAvailableMessageOnHomepage: function() {
        // #4 - Track View - Service not Available Message (on Homepage)
        //console.log('#4 - Track View - Service not Available Message (on Homepage)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Service not Available',
            'page_section': 'My Vodafone:Homepage',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSettingsButtonOnHomepageWithServiceNotAvailableMessage: function() {
        // #5 - Track Action - Click Settings Button (on Homepage with Service not Available Message)
        if (window.utag) {
            this.fireClickSettingsButtonOnHomepageWithServiceNotAvailableMessage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSettingsButtonOnHomepageWithServiceNotAvailableMessage() });
        }
    }, fireClickSettingsButtonOnHomepageWithServiceNotAvailableMessage: function() {
        // #5 - Track Action - Click Settings Button (on Homepage with Service not Available Message)
        //console.log('#5 - Track Action - Click Settings Button (on Homepage with Service not Available Message)')

        utag.link({
            'event_action': 'Service not Available',
            'event_category': 'Homepage',
            'event': ['event_instance'],
            'event_label': 'Go to Settings',
            'event_value': '1',
            'page_name_next': 'Settings',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_homepage3 = {
    methods: {
        handleClickInCurrentUsageOnHomepage: function() {
            // #1 - Track Action - Expand Homepage Counters
            if (window.utag) {
                this.fireClickInCurrentUsageOnHomepage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickInCurrentUsageOnHomepage()
                });
            }
        },
        fireClickInCurrentUsageOnHomepage: function() {
            // #1 - Track Action - Expand Homepage Counters
            utag.link({
                "event_action": "Homepage Counters",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Expand Homepage Counters",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        }
    }
};
/* global window, console, utag, tealiumBus*/
var tealium_profile = {
    methods: {handleClickInEditProfileButtonOnSettingsPage: function() {
        // #1 - Track Action - Click in Edit Profile button (on Settings Page)
        if (window.utag) {
            this.fireClickInEditProfileButtonOnSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickInEditProfileButtonOnSettingsPage() });
        }
    }, fireClickInEditProfileButtonOnSettingsPage: function() {
        // #1 - Track Action - Click in Edit Profile button (on Settings Page)
        //console.log('#1 - Track Action - Click in Edit Profile button (on Settings Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Edit Profile',
            'event_value': '1',
            'page_name_next': 'My Personal Information',
            'visitor_login_status': 'Logged In'
        });
    }, handleEditProfilePage: function() {
        // #2 - Track View - Edit Profile Page
        if (window.utag) {
            this.fireEditProfilePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditProfilePage() });
        }
    }, fireEditProfilePage: function() {
        // #2 - Track View - Edit Profile Page
        //console.log('#2 - Track View - Edit Profile Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'My Personal Information',
            'page_section': 'My Vodafone:Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailInputBoxWithInvalidEmailOnEditProfilePage: function() {
        // #3 - Track Action - Leave Email Input Box with Invalid Email (on Edit Profile Page)
        if (window.utag) {
            this.fireLeaveEmailInputBoxWithInvalidEmailOnEditProfilePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailInputBoxWithInvalidEmailOnEditProfilePage() });
        }
    }, fireLeaveEmailInputBoxWithInvalidEmailOnEditProfilePage: function() {
        // #3 - Track Action - Leave Email Input Box with Invalid Email (on Edit Profile Page)
        //console.log('#3 - Track Action - Leave Email Input Box with Invalid Email (on Edit Profile Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Email',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveEmailInputBoxWithEmailAlreadyUsedOnEditProfilePage: function() {
        // #4 - Track Action - Leave Email Input Box with Email Already Used (on Edit Profile Page)
        if (window.utag) {
            this.fireLeaveEmailInputBoxWithEmailAlreadyUsedOnEditProfilePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveEmailInputBoxWithEmailAlreadyUsedOnEditProfilePage() });
        }
    }, fireLeaveEmailInputBoxWithEmailAlreadyUsedOnEditProfilePage: function() {
        // #4 - Track Action - Leave Email Input Box with Email Already Used (on Edit Profile Page)
        //console.log('#4 - Track Action - Leave Email Input Box with Email Already Used (on Edit Profile Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Error - Email Already Registered',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveNumberInputBoxWithInvalidMsisdnOnEditProfilePage: function() {
        // #5 - Track Action - Leave Number Input Box with Invalid MSISDN (on Edit Profile Page)
        if (window.utag) {
            this.fireLeaveNumberInputBoxWithInvalidMsisdnOnEditProfilePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveNumberInputBoxWithInvalidMsisdnOnEditProfilePage() });
        }
    }, fireLeaveNumberInputBoxWithInvalidMsisdnOnEditProfilePage: function() {
        // #5 - Track Action - Leave Number Input Box with Invalid MSISDN (on Edit Profile Page)
        //console.log('#5 - Track Action - Leave Number Input Box with Invalid MSISDN (on Edit Profile Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid MSISDN',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleLeaveBirthdateInputWithInvalidBirthdateOnEditProfilePage: function() {
        // #6 - Track Action - Leave Birthdate Input with Invalid Birthdate (on Edit Profile Page)
        if (window.utag) {
            this.fireLeaveBirthdateInputWithInvalidBirthdateOnEditProfilePage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLeaveBirthdateInputWithInvalidBirthdateOnEditProfilePage() });
        }
    }, fireLeaveBirthdateInputWithInvalidBirthdateOnEditProfilePage: function() {
        // #6 - Track Action - Leave Birthdate Input with Invalid Birthdate (on Edit Profile Page)
        //console.log('#6 - Track Action - Leave Birthdate Input with Invalid Birthdate (on Edit Profile Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Error - Invalid Birthdate',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSaveOnEditProfilePageOnlySendIfThereAreNoErrorsOnForm: function(success) {
        // #7 - Track Action - Click Save (on Edit Profile Page) - Only send if there are no errors on form
        if (window.utag) {
            this.fireClickSaveOnEditProfilePageOnlySendIfThereAreNoErrorsOnForm(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSaveOnEditProfilePageOnlySendIfThereAreNoErrorsOnForm(success) });
        }
    }, fireClickSaveOnEditProfilePageOnlySendIfThereAreNoErrorsOnForm: function(success) {
        // #7 - Track Action - Click Save (on Edit Profile Page) - Only send if there are no errors on form
        //console.log('#7 - Track Action - Click Save (on Edit Profile Page) - Only send if there are no errors on form')

        if (success) {
            var page_name_next = 'Personal Information Updated with Success';
        } else {
            var page_name_next = 'Error Updating Personal Information';
        }

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Save Updates',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleUpdateProfileSuccessToast: function() {
        // #8 - Track View - Update Profile Success Toast
        if (window.utag) {
            this.fireUpdateProfileSuccessToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireUpdateProfileSuccessToast() });
        }
    }, fireUpdateProfileSuccessToast: function() {
        // #8 - Track View - Update Profile Success Toast
        //console.log('#8 - Track View - Update Profile Success Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Personal Information Updated with Success',
            'page_section': 'My Vodafone:Settings:My Personal Information',
            'visitor_login_status': 'Logged In'
        });
    }, handleUpdateProfileErrorToast: function() {
        // #9 - Track View - Update Profile Error Toast
        if (window.utag) {
            this.fireUpdateProfileErrorToast()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireUpdateProfileErrorToast() });
        }
    }, fireUpdateProfileErrorToast: function() {
        // #9 - Track View - Update Profile Error Toast
        //console.log('#9 - Track View - Update Profile Error Toast')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Updating Personal Information',
            'page_section': 'My Vodafone:Settings:My Personal Information',
            'visitor_login_status': 'Logged In'
        });
    }, handleMandatoryField: function() {
        // #10 - Track Action - Mandatory Field
        if (window.utag) {
            this.fireMandatoryField()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMandatoryField() });
        }
    }, fireMandatoryField: function() {
        // #10 - Track Action - Mandatory Field
        //console.log('#10 - Track Action - Mandatory Field ')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Error - Mandatory Field',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleEmailNotActivatedPage: function() {
        // #11 - Track View - Email not activated Page
        if (window.utag) {
            this.fireEmailNotActivatedPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEmailNotActivatedPage() });
        }
    }, fireEmailNotActivatedPage: function() {
        // #11 - Track View - Email not activated Page
        //console.log('#11 - Track View - Email not activated Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Login - Email Has Not Been Activated Yet',
            'page_section': 'My Vodafone:Login',
            'visitor_login_status': 'Logged In'
        });
    }, handleMarketingField: function(checkbox) {
        // #12 - Track Action - Mandatory Field
        if (window.utag) {
            this.fireMarketingField(checkbox)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMarketingField(checkbox) });
        }
    }, fireMarketingField: function(checkbox) {
        // #12 - Track Action - Mandatory Field
        //console.log('#12 - Track Action - Mandatory Field ')

        if (checkbox.checked) {
            var event_action = 'Enable Marketing Authorization';
            var permission_event = 'visitor_permission_enable';
            var permission_status = 'Enabled';
        } else {
            var event_action = 'Disable Marketing Authorization';
            var permission_event = 'visitor_permission_disable';
            var permission_status = 'Disabled';
        }

        utag.link({
            'event_action': event_action,
            'event_category': 'Settings',
            'event': ['event_instance', permission_event],
            'event_label': 'Authorize Data Usage for Marketing Purposes',
            'event_value': '1',
            'visitor_permission_name': 'Authorize Data Usage for Marketing Purposes',
            'visitor_permission_status': permission_status,
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_settings = {
    methods: {
        handleClickInManageServicesButtonBelowPortfolio: function() {
            // #1 - Track Action - Click in Manage Services button (below portfolio)
            if (window.utag) {
                this.fireClickInManageServicesButtonBelowPortfolio();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickInManageServicesButtonBelowPortfolio();
          });
            }
        },
        fireClickInManageServicesButtonBelowPortfolio: function() {
            // #1 - Track Action - Click in Manage Services button (below portfolio)

            utag.link({
                event_action: 'Manage Services',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Manage My Services',
                event_value: '1',
                page_name_next: 'Settings',
                visitor_login_status: 'Logged In'
            });
        },
        handleSettingsPage: function() {
            // #2 - Track View - Settings Page
            if (window.utag) {
                this.fireSettingsPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireSettingsPage();
          });
            }
        },
        fireSettingsPage: function() {
            // #2 - Track View - Settings Page

            utag.view({
                event: ['page_view'],
                page_name: 'Settings',
                page_section: 'My Vodafone',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickInCustomizeSettingsButtonOnSettingsPage: function() {
            // #3 - Track Action - Click in Customize Settings button (on Settings Page)
            if (window.utag) {
                this.fireClickInCustomizeSettingsButtonOnSettingsPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickInCustomizeSettingsButtonOnSettingsPage();
          });
            }
        },
        fireClickInCustomizeSettingsButtonOnSettingsPage: function() {
            // #3 - Track Action - Click in Customize Settings button (on Settings Page)

            utag.link({
                event_action: 'Manage Services',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Customize Settings',
                event_value: '1',
                page_name_next: 'Customize Profile',
                visitor_login_status: 'Logged In'
            });
        },
        handleCustomizeSettingsPage: function() {
            // #4 - Track View - Customize Settings Page
            if (window.utag) {
                this.fireCustomizeSettingsPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireCustomizeSettingsPage();
          });
            }
        },
        fireCustomizeSettingsPage: function() {
            // #4 - Track View - Customize Settings Page

            utag.view({
                event: ['page_view'],
                page_name: 'Customize Profile',
                page_section: 'My Vodafone:Settings',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickInManageServicesAndAccountsButtonOnSettingsPage: function() {
            // #5 - Track Action - Click in Manage Services and Accounts button (on Settings Page)
            if (window.utag) {
                this.fireClickInManageServicesAndAccountsButtonOnSettingsPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickInManageServicesAndAccountsButtonOnSettingsPage();
          });
            }
        },
        fireClickInManageServicesAndAccountsButtonOnSettingsPage: function() {
            // #5 - Track Action - Click in Manage Services and Accounts button (on Settings Page)

            utag.link({
                event_action: 'Manage Services',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Manage Services and Accounts',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleMyServicesPage: function() {
            // #6 - Track View - My Services Page
            if (window.utag) {
                this.fireMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireMyServicesPage();
          });
            }
        },
        fireMyServicesPage: function() {
            // #6 - Track View - My Services Page

            utag.view({
                event: ['page_view', 'form_start'],
                form_name: 'Add Asset to Portfolio',
                page_name: 'My Services',
                page_section: 'My Vodafone:Settings',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickInRequestActivationKeyButtonOnMyServicesPage: function() {
            // #7 - Track Action - Click in Request Activation Key button (on My Services Page)
            if (window.utag) {
                this.fireClickInRequestActivationKeyButtonOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickInRequestActivationKeyButtonOnMyServicesPage();
          });
            }
        },
        fireClickInRequestActivationKeyButtonOnMyServicesPage: function() {
            // #7 - Track Action - Click in Request Activation Key button (on My Services Page)

            utag.link({
                event_action: 'Add Service or Account',
                event_category: 'Settings',
                event: ['event_instance', 'journey_start'],
                event_label: 'Request Activation Key',
                event_value: '1',
                journey_name: 'Add Asset to Portfolio',
                journey_type: 'Portfolio Management',
                page_name_next: 'Activation Key Sent with Success',
                visitor_login_status: 'Logged In'
            });
        },
        handleAddServiceErrorPage: function() {
            // #12 - Track View - Add Service Error Page
            if (window.utag) {
                this.fireAddServiceErrorPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireAddServiceErrorPage();
          });
            }
        },
        fireAddServiceErrorPage: function() {
            // #12 - Track View - Add Service Error Page

            utag.view({
                event: ['page_view'],
                page_name: 'Error on New Activation Key Request',
                page_section:
          'My Vodafone:Settings:My Services:Request New Activation Key',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnAddServiceErrorPage: function() {
            // #13 - Track Action - Click Continue (on Add Service Error Page)
            if (window.utag) {
                this.fireClickContinueOnAddServiceErrorPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnAddServiceErrorPage();
          });
            }
        },
        fireClickContinueOnAddServiceErrorPage: function() {
            // #13 - Track Action - Click Continue (on Add Service Error Page)

            utag.link({
                event_action: 'Request New Activation Key - Error',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Error - Continue',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleAddServiceSuccessPage: function() {
            // #14 - Track View - Add Service Success Page
            if (window.utag) {
                this.fireAddServiceSuccessPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireAddServiceSuccessPage();
          });
            }
        },
        fireAddServiceSuccessPage: function() {
            // #14 - Track View - Add Service Success Page

            utag.view({
                event: ['page_view'],
                page_name: 'New Activation Key Requested with Success',
                page_section:
          'My Vodafone:Settings:My Services:Request New Activation Key ',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnAddServiceSuccessPage: function() {
            // #15 - Track Action - Click Continue (on Add Service Success Page)
            if (window.utag) {
                this.fireClickContinueOnAddServiceSuccessPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnAddServiceSuccessPage();
          });
            }
        },
        fireClickContinueOnAddServiceSuccessPage: function() {
            // #15 - Track Action - Click Continue (on Add Service Success Page)

            utag.link({
                event_action: 'Request New Activation Key - Success',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Success - Continue',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnAddServiceOrAccountBlockOnMyServicesPage: function(service_to_add) {
            // #16 - Track Action - Click Continue (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireClickContinueOnAddServiceOrAccountBlockOnMyServicesPage(service_to_add);
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnAddServiceOrAccountBlockOnMyServicesPage(service_to_add);
          });
            }
        },
        fireClickContinueOnAddServiceOrAccountBlockOnMyServicesPage: function(service_to_add) {
            // #16 - Track Action - Click Continue (on Add Service or Account block on My Services Page)

            if (service_to_add === 'MSISDN') {
                var event_label = 'Add MSISDN';
            } else if (service_to_add === 'BroadBand') {
                //BLM
                var event_label = 'Add BroadBand';
            } else if (service_to_add === 'Account') {
                var event_label = 'Add Account';
            } else if (service_to_add === 'Signal Max') {
                var event_label = 'Add Signal Max';
            }

            utag.link({
                event_action: 'Add Service or Account',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: event_label,
                event_value: '1',
                page_name_next: 'Service or Account Added with Success',
                visitor_login_status: 'Logged In'
            });
        },
        handleAddServiceSuccessMessageToast: function() {
            // #17 - Track View - Add Service Success Message Toast
            if (window.utag) {
                this.fireAddServiceSuccessMessageToast();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireAddServiceSuccessMessageToast();
          });
            }
        },
        fireAddServiceSuccessMessageToast: function() {
            // #17 - Track View - Add Service Success Message Toast

            utag.view({
                event: ['page_view', 'journey_end', 'form_end'],
                page_name: 'Service or Account Added with Success',
                page_section:
          'My Vodafone:Settings:My Services:Channels to Receive Activation Key:Successful Activation Key Request',
                journey_name: 'Add Asset to Portfolio',
                journey_type: 'Portfolio Management',
                form_name: 'Add Asset to Portfolio',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickRemovePendingRequestOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #18 - Track Action - Click Remove Pending Request (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireClickRemovePendingRequestOnAddServiceOrAccountBlockOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickRemovePendingRequestOnAddServiceOrAccountBlockOnMyServicesPage();
          });
            }
        },
        fireClickRemovePendingRequestOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #18 - Track Action - Click Remove Pending Request (on Add Service or Account block on My Services Page)

            utag.link({
                event_action: 'Remove Pending Service or Account',
                event_category: 'Settings',
                event: ['event_instance', 'journey_start'],
                event_label: 'Remove Pending Request',
                event_value: '1',
                journey_name: 'Remove Pending Request',
                journey_type: 'Portfolio Management',
                page_name_next: 'Remove Pending Service',
                visitor_login_status: 'Logged In'
            });
        },
        handleRemovePendingServicePage: function() {
            // #19 - Track View - Remove Pending Service Page
            if (window.utag) {
                this.fireRemovePendingServicePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireRemovePendingServicePage();
          });
            }
        },
        fireRemovePendingServicePage: function() {
            // #19 - Track View - Remove Pending Service Page

            utag.view({
                event: ['page_view'],
                page_name: 'Remove Pending Service',
                page_section: 'My Vodafone:Settings:My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnRemovePendingServicePage: function() {
            // #20 - Track Action - Click Continue (on Remove Pending Service Page)
            if (window.utag) {
                this.fireClickContinueOnRemovePendingServicePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnRemovePendingServicePage();
          });
            }
        },
        fireClickContinueOnRemovePendingServicePage: function() {
            // #20 - Track Action - Click Continue (on Remove Pending Service Page)

            utag.link({
                event_action: 'Remove Pending Service or Account',
                event_category: 'Settings',
                event: ['event_instance', 'journey_end'],
                event_label: 'Confirm',
                event_value: '1',
                journey_name: 'Remove Pending Request',
                journey_type: 'Portfolio Management',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickReturnOnRemovePendingServicePage: function() {
            // #21 - Track Action - Click Return (on Remove Pending Service Page)
            if (window.utag) {
                this.fireClickReturnOnRemovePendingServicePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickReturnOnRemovePendingServicePage();
          });
            }
        },
        fireClickReturnOnRemovePendingServicePage: function() {
            // #21 - Track Action - Click Return (on Remove Pending Service Page)

            utag.link({
                event_action: 'Remove Pending Service or Account',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Return to My Services Page',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleSelectPendingServiceBelowPortfolio: function() {
            // #22 - Track Action - Select Pending Service (below Portfolio)
            if (window.utag) {
                this.fireSelectPendingServiceBelowPortfolio();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireSelectPendingServiceBelowPortfolio();
          });
            }
        },
        fireSelectPendingServiceBelowPortfolio: function() {
            // #22 - Track Action - Select Pending Service (below Portfolio)

            utag.link({
                event_action: 'Manage Services',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'See My Pending Requests',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleRemoveServiceOnServicesPage: function() {
            // #23 - Track Action - Remove Service (on Services Page)
            if (window.utag) {
                this.fireRemoveServiceOnServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireRemoveServiceOnServicesPage();
          });
            }
        },
        fireRemoveServiceOnServicesPage: function() {
            // #23 - Track Action - Remove Service (on Services Page)

            utag.link({
                event_action: 'Remove Asset from Portfolio',
                event_category: 'Settings',
                event: ['event_instance', 'journey_start'],
                event_label: 'Remove Service or Account',
                event_value: '1',
                journey_name: 'Remove Asset from Portfolio',
                journey_type: 'Portfolio Management',
                page_name_next: 'Remove Service',
                visitor_login_status: 'Logged In'
            });
        },
        handleRemoveServicePage: function() {
            // #24 - Track View - Remove Service Page
            if (window.utag) {
                this.fireRemoveServicePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireRemoveServicePage();
          });
            }
        },
        fireRemoveServicePage: function() {
            // #24 - Track View - Remove Service Page

            utag.view({
                event: ['page_view'],
                page_name: 'Remove Service or Account',
                page_section: 'My Vodafone:Settings:My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnRemoveServicesPage: function() {
            // #25 - Track Action - Click Continue (on Remove Services Page)
            if (window.utag) {
                this.fireClickContinueOnRemoveServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnRemoveServicesPage();
          });
            }
        },
        fireClickContinueOnRemoveServicesPage: function() {
            // #25 - Track Action - Click Continue (on Remove Services Page)

            utag.link({
                event_action: 'Remove Service or Account',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Confirm',
                event_value: '1',
                page_name_next: 'Service or Account Removed with Success',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickReturnOnRemoveServicesPage: function() {
            // #26 - Track Action - Click Return (on Remove Services Page)
            if (window.utag) {
                this.fireClickReturnOnRemoveServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickReturnOnRemoveServicesPage();
          });
            }
        },
        fireClickReturnOnRemoveServicesPage: function() {
            // #26 - Track Action - Click Return (on Remove Services Page)

            utag.link({
                event_action: 'Remove Service or Account',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Return to My Services Page',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleSuccessRemoveAssetPage: function() {
            // #27 - Track View - Success Remove Asset Page
            if (window.utag) {
                this.fireSuccessRemoveAssetPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireSuccessRemoveAssetPage();
          });
            }
        },
        fireSuccessRemoveAssetPage: function() {
            // #27 - Track View - Success Remove Asset Page

            utag.view({
                event: ['page_view', 'journey_end'],
                page_name: 'Service or Account Removed with Success',
                page_section:
          'My Vodafone:Settings:My Services:Remove Service or Account',
                journey_name: 'Remove Asset from Portfolio',
                journey_type: 'Portfolio Management',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnSuccessRemoveServicesPage: function() {
            // #28 - Track Action - Click Continue (on Success Remove Services Page)
            if (window.utag) {
                this.fireClickContinueOnSuccessRemoveServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnSuccessRemoveServicesPage();
          });
            }
        },
        fireClickContinueOnSuccessRemoveServicesPage: function() {
            // #28 - Track Action - Click Continue (on Success Remove Services Page)

            utag.link({
                event_action: 'Service or Account removed with Success',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Continue',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickSetFavoriteAssetOnServicesPage: function() {
            // #29 - Track Action - Click Set Favorite Asset (on Services Page)
            if (window.utag) {
                this.fireClickSetFavoriteAssetOnServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickSetFavoriteAssetOnServicesPage();
          });
            }
        },
        fireClickSetFavoriteAssetOnServicesPage: function() {
            // #29 - Track Action - Click Set Favorite Asset (on Services Page)

            utag.link({
                event_action: 'Change My Favourite Service ',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Define This As My Favourite Service',
                event_value: '1',
                page_name_next: 'Change My Favourite Service',
                visitor_login_status: 'Logged In'
            });
        },
        handleChangeFavoritePage: function() {
            // #30 - Track View - Change Favorite Page
            if (window.utag) {
                this.fireChangeFavoritePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireChangeFavoritePage();
          });
            }
        },
        fireChangeFavoritePage: function() {
            // #30 - Track View - Change Favorite Page

            utag.view({
                event: ['page_view'],
                page_name: 'Change My Favourite Service',
                page_section: 'My Vodafone:Settings:Customize Profile',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnChangeFavoritePage: function() {
            // #31 - Track Action - Click Continue (on Change Favorite Page)
            if (window.utag) {
                this.fireClickContinueOnChangeFavoritePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnChangeFavoritePage();
          });
            }
        },
        fireClickContinueOnChangeFavoritePage: function() {
            // #31 - Track Action - Click Continue (on Change Favorite Page)

            utag.link({
                event_action: 'Define This As My Favourite Service',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Confirm',
                event_value: '1',
                page_name_next: 'Favourite Service Changed with Success',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickReturnOnChangeFavoritePage: function() {
            // #32 - Track Action - Click Return (on Change Favorite Page)
            if (window.utag) {
                this.fireClickReturnOnChangeFavoritePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickReturnOnChangeFavoritePage();
          });
            }
        },
        fireClickReturnOnChangeFavoritePage: function() {
            // #32 - Track Action - Click Return (on Change Favorite Page)

            utag.link({
                event_action: 'Define This As My Favourite Service',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Return to My Profile Page',
                event_value: '1',
                page_name_next: 'Customize Profile',
                visitor_login_status: 'Logged In'
            });
        },
        handleSuccessFavoritePage: function() {
            // #33 - Track View - Success Favorite Page
            if (window.utag) {
                this.fireSuccessFavoritePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireSuccessFavoritePage();
          });
            }
        },
        fireSuccessFavoritePage: function() {
            // #33 - Track View - Success Favorite Page

            utag.view({
                event: ['page_view'],
                page_name: 'Favourite Service Changed with Success',
                page_section:
          'My Vodafone:Settings:Customize Profile:Change My Favourite Service',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnSuccessFavoritePage: function() {
            // #34 - Track Action - Click Continue (on Success Favorite Page)
            if (window.utag) {
                this.fireClickContinueOnSuccessFavoritePage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnSuccessFavoritePage();
          });
            }
        },
        fireClickContinueOnSuccessFavoritePage: function() {
            // #34 - Track Action - Click Continue (on Success Favorite Page)

            utag.link({
                event_action: 'Favourite Service Changed with Success',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Continue',
                event_value: '1',
                page_name_next: 'Customize Profile',
                visitor_login_status: 'Logged In'
            });
        },
        handleErrorPleaseAddAValidServiceOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #35 - Track Action - Error "Please add a valid service" (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireErrorPleaseAddAValidServiceOnAddServiceOrAccountBlockOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireErrorPleaseAddAValidServiceOnAddServiceOrAccountBlockOnMyServicesPage();
          });
            }
        },
        fireErrorPleaseAddAValidServiceOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #35 - Track Action - Error "Please add a valid service" (on Add Service or Account block on My Services Page)

            utag.link({
                event_action: 'Error Adding Asset to Portfolio',
                event_category: 'Settings',
                event: ['event_instance', 'form_error'],
                event_label: 'Error - Invalid Service',
                event_value: '1',
                form_error: 'Invalid Service',
                form_name: 'Add Asset to Portfolio',
                visitor_login_status: 'Logged In'
            });
        },
        handleErrorServiceAlreadyAddedOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #36 - Track Action - Error "Service already added" (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireErrorServiceAlreadyAddedOnAddServiceOrAccountBlockOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireErrorServiceAlreadyAddedOnAddServiceOrAccountBlockOnMyServicesPage();
          });
            }
        },
        fireErrorServiceAlreadyAddedOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #36 - Track Action - Error "Service already added" (on Add Service or Account block on My Services Page)

            utag.link({
                event_action: 'Error Adding Asset to Portfolio',
                event_category: 'Settings',
                event: ['event_instance', 'form_error'],
                event_label: 'Error - Service Already Belongs to Portfolio',
                event_value: '1',
                form_error: 'Number Already Belongs to Portfolio',
                form_name: 'Add Asset to Portfolio',
                visitor_login_status: 'Logged In'
            });
        },
        handleErrorInvalidActivationKeyOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #37 - Track Action - Error "Invalid Activation Key" (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireErrorInvalidActivationKeyOnAddServiceOrAccountBlockOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireErrorInvalidActivationKeyOnAddServiceOrAccountBlockOnMyServicesPage();
          });
            }
        },
        fireErrorInvalidActivationKeyOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #37 - Track Action - Error "Invalid Activation Key" (on Add Service or Account block on My Services Page)

            utag.link({
                event_action: 'Error Adding Asset to Portfolio',
                event_category: 'Settings',
                event: ['event_instance', 'form_error'],
                event_label: 'Error - Invalid Activation Key',
                event_value: '1',
                form_error: 'Invalid Activation Key',
                form_name: 'Add Asset to Portfolio',
                visitor_login_status: 'Logged In'
            });
        },
        handleActivationKeyRequestSuccessMessageToast: function() {
            // #38 - Track View - Activation Key Request Success Message Toast
            if (window.utag) {
                this.fireActivationKeyRequestSuccessMessageToast();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireActivationKeyRequestSuccessMessageToast();
          });
            }
        },
        fireActivationKeyRequestSuccessMessageToast: function() {
            // #38 - Track View - Activation Key Request Success Message Toast

            utag.view({
                event: ['page_view'],
                page_name: 'Activation Key Sent with Success',
                page_section: 'My Vodafone:Settings:My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickNewActovationKeyOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #39 - Track Action - Click New Actovation Key (on Add Service or Account block on My Services Page)
            if (window.utag) {
                this.fireClickNewActovationKeyOnAddServiceOrAccountBlockOnMyServicesPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickNewActovationKeyOnAddServiceOrAccountBlockOnMyServicesPage();
          });
            }
        },
        fireClickNewActovationKeyOnAddServiceOrAccountBlockOnMyServicesPage: function() {
            // #39 - Track Action - Click New Actovation Key (on Add Service or Account block on My Services Page)

            utag.link({
                event_action: 'Add Service or Account',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Request New Activation Key',
                event_value: '1',
                page_name_next: 'Request New Activation Key',
                visitor_login_status: 'Logged In'
            });
        },
        handleActivationKeyRequestPage: function() {
            // #40 - Track View - Activation Key Request Page
            if (window.utag) {
                this.fireActivationKeyRequestPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireActivationKeyRequestPage();
          });
            }
        },
        fireActivationKeyRequestPage: function() {
            // #40 - Track View - Activation Key Request Page

            utag.view({
                event: ['page_view'],
                page_name: 'Request New Activation Key',
                page_section: 'My Vodafone:Settings:My Services',
                visitor_login_status: 'Logged In'
            });
        },
        handleClickContinueOnActivationKeyRequestPage: function(request) {
            // #41 - Track Action - Click Continue (on Activation Key Request Page)
            if (window.utag) {
                this.fireClickContinueOnActivationKeyRequestPage(request);
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickContinueOnActivationKeyRequestPage(request);
          });
            }
        },
        fireClickContinueOnActivationKeyRequestPage: function(request) {
            // #41 - Track Action - Click Continue (on Activation Key Request Page)

            if (request === 'success') {
                var page_name_next = 'New Activation Key Requested with Success';
            } else if (request === 'error') {
                var page_name_next = 'Error on New Activation Key Request';
            }

            utag.link({
                event_action: 'Request New Activation Key',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Confirm',
                event_value: '1',
                page_name_next: page_name_next,
                visitor_login_status: 'Logged In'
            });
        },
        handleClickReturnOnActivationKeyRequestPage: function() {
            // #42 - Track Action - Click Return (on Activation Key Request Page)
            if (window.utag) {
                this.fireClickReturnOnActivationKeyRequestPage();
            } else {
                var me = this;
                tealiumBus &&
          tealiumBus.$on('utag-loaded', function() {
              me.fireClickReturnOnActivationKeyRequestPage();
          });
            }
        },
        fireClickReturnOnActivationKeyRequestPage: function() {
            // #42 - Track Action - Click Return (on Activation Key Request Page)

            utag.link({
                event_action: 'Request New Activation Key',
                event_category: 'Settings',
                event: ['event_instance'],
                event_label: 'Return to My Services Page',
                event_value: '1',
                page_name_next: 'My Services',
                visitor_login_status: 'Logged In'
            });
        }
    }
};

/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_visitor_tracking = {
    methods: {
        handleGetPortfolioOnSuccessLogin: function(active_asset, primary_asset) {
            // #1 - Track Action - After Login with Success and on getPortfolio request

            /*
                Encrypt the IDs (specified on the required data points)

                If a service doesn't have the commercial name set, use it's PI in the visitor_plan_name_active/visitor_plan_name_primary data points

                Definitions:
                +Active - Selected Asset
                +Primary - Favorite Asset
            */

            if (window.utag) {
                this.fireGetPortfolioOnSuccessLogin(active_asset, primary_asset);
            } else { 
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireGetPortfolioOnSuccessLogin(active_asset, primary_asset);
                });
            }
        },
        fireGetPortfolioOnSuccessLogin: function(active_asset, primary_asset) {
            // #1 - Track Action - After Login with Success and on getPortfolio request

            if (active_asset.profile === "MSISDN") {
                if (active_asset.isPrePaid) {
                    var visitor_plan_type_active = "Mobile Prepay";
                } else {
                    var visitor_plan_type_active = "Mobile Postpay";
                }
            } else if (active_asset.profile === "BroadBand") {
                if (active_asset.isPrePaid) {
                    var visitor_plan_type_active = "BroadBand Prepay";
                } else {
                    var visitor_plan_type_active = "BroadBand Postpay";
                }
            } else if (active_asset.profile === "Account") {
                var visitor_plan_type_active = "Account";
            } else if (active_asset.profile === "Signal Max") {
                var visitor_plan_type_active = "Signal Max";
            } else if (active_asset.profile === "Fixed Service") {
                var visitor_plan_type_active = "Fixed Service";
            }

            if (primary_asset.profile === "MSISDN") {
                if (primary_asset.isPrePaid) {
                    var visitor_plan_type_primary = "Mobile Prepay";
                } else {
                    var visitor_plan_type_primary = "Mobile Postpay";
                }
            } else if (primary_asset.profile === "BroadBand") {
                if (primary_asset.isPrePaid) {
                    var visitor_plan_type_primary = "BroadBand Prepay";
                } else {
                    var visitor_plan_type_primary = "BroadBand Postpay";
                }
            } else if (primary_asset.profile === "Account") {
                var visitor_plan_type_primary = "Account";
            } else if (primary_asset.profile === "Signal Max") {
                var visitor_plan_type_primary = "Signal Max";
            } else if (primary_asset.profile === "Fixed Service") {
                var visitor_plan_type_primary = "Fixed Service";
            }

            var data = {
                "event_action"              : "Service Selector",
                "event_category"            : "Portfolio",
                "event"                     : ["event_instance","dashboard_prefetch"],
                "event_label"               : "Portfolio Prefetch",
                "event_value"               : "1",
                "visitor_login_status"      : "Logged In",
                "visitor_id_asset_active"   : active_asset.assetName,
                "visitor_plan_name_active"  : active_asset.pricingPlan,
                "visitor_plan_id_active"    : active_asset.planName,
                "visitor_plan_type_active"  : visitor_plan_type_active,
                "visitor_id_asset_primary"  : primary_asset.assetName,
                "visitor_plan_name_primary" : primary_asset.pricingPlan,
                "visitor_plan_id_primary"   : primary_asset.planName,
                "visitor_plan_type_primary" : visitor_plan_type_primary 
            }

            if (active_asset.customerType === "CONSUMER") {
                data.visitor_customer_type = "Consumer";
                if(active_asset.nif) {
                    data.visitor_id_user = active_asset.nif; //only fill if exists
                }
            } else if (active_asset.customerType === "BUSINESS") {
                data.visitor_customer_type = "Business";
                if(active_asset.nif) {
                    data.visitor_id_company = active_asset.nif; //only fill if exists
                }
            }

            utag.link(data);
        }, 

        handleChangeSelectedAsset: function(active_asset) {
            // #2 - Track Action - Change selected asset

            if (window.utag) {
                this.fireChangeSelectedAsset(active_asset);
            } else { 
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireChangeSelectedAsset(active_asset);
                });
            }
        },
        fireChangeSelectedAsset: function(active_asset) {
            if(active_asset.profile === "MSISDN") {
                if(active_asset.isPrePaid) {
                    var visitor_plan_type_active = "Mobile Prepay";
                } else {
                    var visitor_plan_type_active = "Mobile Postpay";
                }
            } else if(active_asset.profile === "BroadBand"){
                if(active_asset.isPrePaid) {
                    var visitor_plan_type_active = "BroadBand Prepay";
                } else {
                    var visitor_plan_type_active = "BroadBand Postpay";
                }
            } else if(active_asset.profile === "Account") {
                var visitor_plan_type_active = "Account";
            } else if(active_asset.profile === "Signal Max") {
                var visitor_plan_type_active = "Signal Max";
            } else if(active_asset.profile === "Fixed Service") {
                var visitor_plan_type_active = "Fixed Service";
            }
            
            var data = {
                "event_action"              : "Service Selector",
                "event_category"            : "Portfolio",
                "event"                     : ["event_instance"],
                "event_label"               : "Select Service",
                "event_value"               : "1",
                "visitor_login_status"      : "Logged In",
                "visitor_id_asset_active"   : active_asset.assetName,
                "visitor_plan_name_active"  : active_asset.pricingPlan,
                "visitor_plan_id_active"    : active_asset.planName,
                "visitor_plan_type_active"  : visitor_plan_type_active
            }
            
            if(active_asset.customerType === "CONSUMER"){
                data.visitor_customer_type = "Consumer";
                if(active_asset.nif) {
                    data.visitor_id_user = active_asset.nif; //only fill if exists
                }
            } else if(active_asset.customerType === "BUSINESS"){
                data.visitor_customer_type = "Business";
                if(active_asset.nif) {
                    data.visitor_id_company = active_asset.nif;
                }
            }
            
            utag.link(data);
        }, 

        handleChangeFavorite: function(primary_asset) {
            // #3 - Track Action - After change favourite number with success

            if (window.utag) {
                this.fireChangeFavorite(primary_asset);
            } else { 
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireChangeFavorite(primary_asset);
                });
            }
        },
        fireChangeFavorite: function(primary_asset) {
            if(primary_asset.profile === "MSISDN") {
                if(primary_asset.isPrePaid) {
                    var visitor_plan_type_primary = "Mobile Prepay";
                } else {
                    var visitor_plan_type_primary = "Mobile Postpay";
                }
            } else if(primary_asset.profile === "BroadBand") {
                if(primary_asset.isPrePaid) {
                    var visitor_plan_type_primary = "BroadBand Prepay";
                } else {
                    var visitor_plan_type_primary = "BroadBand Postpay";
                }
            } else if(primary_asset.profile === "Account") {
                var visitor_plan_type_primary = "Account";
            } else if(primary_asset.profile === "Signal Max") {
                var visitor_plan_type_primary = "Signal Max";
            } else if(primary_asset.profile === "Fixed Service") {
                var visitor_plan_type_primary = "Fixed Service";
            }
            
            utag.link({
                "event_action"              : "Service Selector",
                "event_category"            : "Portfolio",
                "event"                     : ["event_instance"],
                "event_label"               : "Change Favourite",
                "event_value"               : "1",
                "visitor_login_status"      : "Logged In",
                "visitor_id_asset_primary"  : primary_asset.assetName,
                "visitor_plan_name_primary" : primary_asset.pricingPlan,
                "visitor_plan_id_primary"   : primary_asset.planName,
                "visitor_plan_type_primary" : visitor_plan_type_primary
            });
        }
    }
};
/* global window, console, utag, tealiumBus */
var tealium_registration = {
    methods: {
        handleClickOnRegister: function() {
            // #1 - Track Action - Click on Register (on navigation bar)

            if (window.utag) {
                this.fireClickOnRegister();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickOnRegister() });
            }
        },
        fireClickOnRegister: function() {
            utag.link({
                "event_action"          : "Display Register",
                "event_category"        : "Registration",
                "event"                 : ["event_instance","journey_start"],
                "event_label"           : "Register Form",
                "event_value"           : "1",
                "journey_name"          : "Registration My Vodafone",
                "journey_type"          : "Registration",
                "page_name_next"        : "Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleViewPageRegister: function() {
            // #2 - Track View - Registration Page

            if (window.utag) {
                this.fireViewPageRegister();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireViewPageRegister() });
            }
        },
        fireViewPageRegister: function() {
            utag.view({
                "event"                 : ["page_view","form_start"],
                "form_name"             : "Registration",
                "page_name"             : "Registration",
                "page_section"          : "My Vodafone:Login",
                "visitor_login_status"  : "Logged Out"
            });
        }, 
        
        handleInvalidEmail: function() {
            // #3 - Track Action - Invalid Email (on Registration Page)

            if (window.utag) {
                this.fireInvalidEmail();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvalidEmail() });
            }
        },
        fireInvalidEmail: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance","form_error"],
                "event_label"           : "Error - Invalid Email",
                "event_value"           : "1",
                "form_error"            : "Invalid Email",
                "form_name"             : "Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleAddToPortfolio: function(checked) {
            // #4 - Track Action - Enable/Disable Add Contact Phone (on Registration Page)

            if (window.utag) {
                this.fireAddToPortfolio(checked);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAddToPortfolio(checked) });
            }
        },
        fireAddToPortfolio: function(checked) {
            if(checked) {
                var event_action = "Enable Add MSISDN to My Vodafone Account";
                var event = ["event_instance","visitor_permission_enable"];
                var permission_status = "enabled";
            } else {
                var event_action = "Disable Add MSISDN to My Vodafone Account";
                var event = ["event_instance","visitor_permission_disable"];
                var permission_status = "disabled";
            }
    
            utag.link({
                "event_action"              : event_action,
                "event_category"            : "Registration",
                "event"                     : event,
                "event_label"               : "Add Contact Number to My Vodafone Account",
                "event_value"               : "1",
                "visitor_permission_name"   : "Add MSISDN to My Vodafone Account",
                "visitor_permission_status" : permission_status,
                "visitor_login_status"      : "Logged Out"
            });
        }, 

        handleMarketing: function(checked) {
            // #5 - Track Action - Enable/Disable Marketing Communications (on Registration Page)

            if (window.utag) {
                this.fireMarketing(checked);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMarketing(checked) });
            }
        },
        fireMarketing: function(checked) {
            if(checked) {
                var event_action = "Enable Marketing Authorization";
                var event = ["event_instance","visitor_permission_enable"];
                var permission_status = "enabled";
            } else {
                var event_action = "Disable Marketing Authorization";
                var event = ["event_instance","visitor_permission_disable"];
                var permission_status = "disabled";
            }
            
            utag.link({
                "event_action"              : event_action,
                "event_category"            : "Registration",
                "event"                     : event,
                "event_label"               : "Authorize Data Usage for Marketing Purposes",
                "event_value"               : "1",
                "visitor_permission_name"   : "Authorize Data Usage for Marketing Purposes",
                "visitor_permission_status" : permission_status,
                "visitor_login_status"      : "Logged Out"
            });
        },  

        handleCreateUser: function(success) {
            // #6 - Track Action - Click on Create my Account without any form errors (on registration screen)

            if (window.utag) {
                this.fireCreateUser(success); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCreateUser(success) });
            }
        },
        fireCreateUser: function(success) {
            if(success) {
                var page_name_next = "Registration Completed with Success";
            } else {
                var page_name_next = "Error Completing Registration";
            }
    
            utag.link({
                "event_action"          : "Complete Registration",
                "event_category"        : "Registration",
                "event"                 : ["event_instance","form_end","visitor_register","journey_end"],
                "event_label"           : "Create My Vodafone Account",
                "event_value"           : "1",
                "journey_name"          : "Registration My Vodafone",
                "journey_type"          : "Registration",
                "form_name"             : "Registration",
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleServiceIDError: function() {
            // #7 - Track Action - Invalid MSISDN (on Registration Page)

            if (window.utag) {
                this.fireServiceIDError(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireServiceIDError() });
            }
        },
        fireServiceIDError: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance","form_error"],
                "event_label"           : "Error - Invalid MSISDN",
                "event_value"           : "1",
                "form_error"            : "Invalid MSISDN",
                "form_name"             : "Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleMismatchPassword: function() {
            // #8 - Track Action - Mismatch Passwords (on Registration Page)

            if (window.utag) {
                this.fireMismatchPassword(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMismatchPassword() });
            }
        },
        fireMismatchPassword: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance","form_error"],
                "event_label"           : "Error - Mismatch Between Passwords",
                "event_value"           : "1",
                "form_error"            : "Mismatch Between Passwords",
                "form_name"             : "Registration",
                "visitor_login_status"  : "Logged Out"
            }); 
        },

        handleEmailAlreadyExists: function() {
            // #9 - Track Action - Email already registered (on Registration Page)

            if (window.utag) {
                this.fireEmailAlreadyExists(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEmailAlreadyExists() });
            }
        },
        fireEmailAlreadyExists: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Error - Email Already Registered",
                "event_value"           : "1",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleNumberNotVodafone: function() {
            // #10 - Track Action - Number not Vodafone (on Registration Page)

            if (window.utag) {
                this.fireNumberNotVodafone(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNumberNotVodafone() });
            }
        },
        fireNumberNotVodafone: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Error - Introduced MSISDN Is Not Vodafone",
                "event_value"           : "1",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleNumberAlreadyBelongsToPortfolio: function() {
            // #11 - Track Action - MSISDN on another Portfolio (on Registration Page)

            if (window.utag) {
                this.fireNumberAlreadyBelongsToPortfolio(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNumberAlreadyBelongsToPortfolio() });
            }
        },
        fireNumberAlreadyBelongsToPortfolio: function() {
            utag.link({
                "event_action"          : "Registration Error",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Error - Introduced MSISDN Already Belongs to a Portfolio",
                "event_value"           : "1",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleViewSuccessPage: function() {
            // #12 - Track View - Registration with Success Page

            if (window.utag) {
                this.fireViewSuccessPage(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireViewSuccessPage() });
            }
        },
        fireViewSuccessPage: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Registration Completed with Success",
                "page_section"          : "My Vodafone:Login:Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleContinueSuccess: function() {
            // #13 - Track Action - Click Continue (on Registration with Success Page)

            if (window.utag) {
                this.fireContinueSuccess(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireContinueSuccess() });
            }
        },
        fireContinueSuccess: function() {
            utag.link({
                "event_action"          : "Registration Completed with Success",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Continue",
                "event_value"           : "1",
                "page_name_next"        : "Login",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleViewErrorPage: function() {
            // #14 - Track View - Registration Error Page

            if (window.utag) {
                this.fireViewErrorPage(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireViewErrorPage() });
            }
        },
        fireViewErrorPage: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Error Completing Registration",
                "page_section"          : "My Vodafone:Login:Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleContinueError: function() {
            // #15 - Track Action - Click Continue (on Registration Error Page)

            if (window.utag) {
                this.fireContinueError(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireContinueError() });
            }
        },
        fireContinueError: function() {
            utag.link({
                "event_action"          : "Error Completing Registration",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Continue",
                "event_value"           : "1",
                "page_name_next"        : "Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleEmailToActivate: function() {
            // #16 - Track View - Email not yet activated Page

            if (window.utag) {
                this.fireEmailToActivate(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEmailToActivate() });
            }
        },
        fireEmailToActivate: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Login - Email Has Not Been Activated Yet",
                "page_section"          : "My Vodafone:Login:Registration:Registration Completed with Success",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleSendAgainActivation: function() {
            // #17 - Track Action - Click Send Again (on Email not yet activated Page)

            if (window.utag) {
                this.fireSendAgainActivation(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSendAgainActivation() });
            }
        },
        fireSendAgainActivation: function() {
            utag.link({
                "event_action"          : "Email Has Not Been Activated Yet",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Request New Activation Email",
                "event_value"           : "1",
                "page_name_next"        : "An Activation Link Was Sent Via Email",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleBackToLogin: function() {
            // #18 - Track Action - Click Back to Login (on Email not yet activated Page)

            if (window.utag) {
                this.fireBackToLogin(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBackToLogin() });
            }
        },
        fireBackToLogin: function() {
            utag.link({
                "event_action"          : "Email Has Not Been Activated Yet",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Return to Login",
                "event_value"           : "1",
                "page_name_next"        : "Login",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleViewSuccessEmailSent: function() {
            // #19 - Track View - Email with activation link success Page

            if (window.utag) {
                this.fireViewSuccessEmailSent(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireViewSuccessEmailSent() });
            }
        },
        fireViewSuccessEmailSent: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "An Activation Link Was Sent Via Email",
                "page_section"          : "My Vodafone:Login:Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleActivated: function() {
            // #20 - Track View - Account Activated With Success Page

            if (window.utag) {
                this.fireActivated(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireActivated() });
            }
        },
        fireActivated: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Account Activated With Success",
                "page_section"          : "My Vodafone:Login:Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 
        
        handleActivationExpiredPage: function() {
            // #21 - Track View - Activation Link Expired Page

            if (window.utag) {
                this.fireActivationExpiredPage(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireActivationExpiredPage() });
            }
        },
        fireActivationExpiredPage: function() {
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Activation Link Has Expired",
                "page_section"          : "My Vodafone:Login:Registration",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleClickSendAgainOnLinkExpired: function() {
            // #22 - Track Action - Click Send Again (on Activation Link Expired Page)

            if (window.utag) {
                this.fireClickSendAgainOnLinkExpired(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSendAgainOnLinkExpired() });
            }
        },
        fireClickSendAgainOnLinkExpired: function() {
            utag.link({
                "event_action"          : "Activation Link Has Expired",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Request New Activation Email",
                "event_value"           : "1",
                "page_name_next"        : "An Activation Link Was Sent Via Email",
                "visitor_login_status"  : "Logged Out"
            });
        }, 

        handleBackToLoginFromFailure: function() {
            // #23 - Track Action - Click Back to Login (on Activation Link Expired Page)

            if (window.utag) {
                this.fireBackToLoginFromFailure(); 
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBackToLoginFromFailure() });
            }
        },
        fireBackToLoginFromFailure: function() {
            utag.link({
                "event_action"          : "Activation Link Has Expired",
                "event_category"        : "Registration",
                "event"                 : ["event_instance"],
                "event_label"           : "Return to Login",
                "event_value"           : "1",
                "page_name_next"        : "Login",
                "visitor_login_status"  : "Logged Out"
            });
        } 

    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, console, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_products_services = {
    methods: {handleProductsservicesPage: function() {
        // #1 - Track View - Products & Services Page
        if (window.utag) {
            this.fireProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireProductsservicesPage() });
        }
    }, fireProductsservicesPage: function() {
        // #1 - Track View - Products & Services Page
        //console.log('#1 - Track View - Products & Services Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'My Products and Services',
            'page_section': 'My Vodafone',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickMonthlyUsageHistoryOnProductsservicesPage: function() {
        // #2 - Track Action - Click Monthly Usage History (on Products & Services Page)
        if (window.utag) {
            this.fireClickMonthlyUsageHistoryOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickMonthlyUsageHistoryOnProductsservicesPage() });
        }
    }, fireClickMonthlyUsageHistoryOnProductsservicesPage: function() {
        // #2 - Track Action - Click Monthly Usage History (on Products & Services Page)
        //console.log('#2 - Track Action - Click Monthly Usage History (on Products & Services Page)')

        utag.link({
            'event_action': 'Aditional Information',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Monthly Usage History',
            'event_value': '1',
            'page_name_next': 'Monthly Usage History',
            'visitor_login_status': 'Logged In'
        });
    }, handleMonthlyUsageHistoryPage: function() {
        // #3 - Track View - Monthly Usage History Page
        if (window.utag) {
            this.fireMonthlyUsageHistoryPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMonthlyUsageHistoryPage() });
        }
    }, fireMonthlyUsageHistoryPage: function() {
        // #3 - Track View - Monthly Usage History Page
        //console.log('#3 - Track View - Monthly Usage History Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Monthly Usage History',
            'page_section': 'My Vodafone:My Products and Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandMonthlyUsageOnMonthlyUsageHistoryPageDoNotTrackCollapseOnlyExpand: function() {
        // #4 - Track Action - Expand monthly usage (on Monthly Usage History Page) - do not track collapse, only expand
        if (window.utag) {
            this.fireExpandMonthlyUsageOnMonthlyUsageHistoryPageDoNotTrackCollapseOnlyExpand()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandMonthlyUsageOnMonthlyUsageHistoryPageDoNotTrackCollapseOnlyExpand() });
        }
    }, fireExpandMonthlyUsageOnMonthlyUsageHistoryPageDoNotTrackCollapseOnlyExpand: function() {
        // #4 - Track Action - Expand monthly usage (on Monthly Usage History Page) - do not track collapse, only expand
        //console.log('#4 - Track Action - Expand monthly usage (on Monthly Usage History Page) - do not track collapse, only expand')

        utag.link({
            'event_action': 'Aditional Information - Usage History',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Expand Monthly Usage Detail',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSeeInvoiceDetailOnMonthlyUsageHistoryPage: function() {
        // #5 - Track Action - Click See Invoice Detail (on Monthly Usage History Page)
        if (window.utag) {
            this.fireClickSeeInvoiceDetailOnMonthlyUsageHistoryPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSeeInvoiceDetailOnMonthlyUsageHistoryPage() });
        }
    }, fireClickSeeInvoiceDetailOnMonthlyUsageHistoryPage: function() {
        // #5 - Track Action - Click See Invoice Detail (on Monthly Usage History Page)
        //console.log('#5 - Track Action - Click See Invoice Detail (on Monthly Usage History Page)')

        utag.link({
            'event_action': 'Aditional Information - Usage History',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'See Invoice Detail',
            'event_value': '1',
            'page_name_next': 'Invoice Detail',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandManageAlertsOnProductsservicesPageDoNotTrackCollapseOnlyExpand: function() {
        // #6 - Track Action - Expand Manage Alerts (on Products & Services Page) - do not track collapse, only expand
        if (window.utag) {
            this.fireExpandManageAlertsOnProductsservicesPageDoNotTrackCollapseOnlyExpand()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandManageAlertsOnProductsservicesPageDoNotTrackCollapseOnlyExpand() });
        }
    }, fireExpandManageAlertsOnProductsservicesPageDoNotTrackCollapseOnlyExpand: function() {
        // #6 - Track Action - Expand Manage Alerts (on Products & Services Page) - do not track collapse, only expand
        //console.log('#6 - Track Action - Expand Manage Alerts (on Products & Services Page) - do not track collapse, only expand')

        utag.link({
            'event_action': 'Usage Alerts Management',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Manage Alerts',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleEnabledisable80PercentageAlertOnProductsservicesPage: function(enable, disable) {
        // #7 - Track Action - Enable/Disable 80 Percentage Alert (on Products & Services Page)
        if (window.utag) {
            this.fireEnabledisable80PercentageAlertOnProductsservicesPage(enable, disable)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEnabledisable80PercentageAlertOnProductsservicesPage(enable, disable) });
        }
    }, fireEnabledisable80PercentageAlertOnProductsservicesPage: function(enable, disable) {
        // #7 - Track Action - Enable/Disable 80 Percentage Alert (on Products & Services Page)
        //console.log('#7 - Track Action - Enable/Disable 80 Percentage Alert (on Products & Services Page)')

        if (enable) {
            var event_label = 'Enable 80 Percent Usage Alert';
        } else if (disable) {
            var event_label = 'Disable 80 Percent Usage Alert';
        }

        utag.link({
            'event_action': 'Usage Alerts Management',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleEnabledisable50PercentageAlertOnProductsservicesPage: function(enable, disable) {
        // #8 - Track Action - Enable/Disable 50 Percentage Alert (on Products & Services Page)
        if (window.utag) {
            this.fireEnabledisable50PercentageAlertOnProductsservicesPage(enable, disable)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEnabledisable50PercentageAlertOnProductsservicesPage(enable, disable) });
        }
    }, fireEnabledisable50PercentageAlertOnProductsservicesPage: function(enable, disable) {
        // #8 - Track Action - Enable/Disable 50 Percentage Alert (on Products & Services Page)
        //console.log('#8 - Track Action - Enable/Disable 50 Percentage Alert (on Products & Services Page)')

        if (enable) {
            var event_label = 'Enable 50 Percent Usage Alert';
        } else if (disable) {
            var event_label = 'Disable 50 Percent Usage Alert';
        }

        utag.link({
            'event_action': 'Usage Alerts Management',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectNotificationTimeOnProductsservicesPage: function(selected) {
        // #9 - Track Action - Select notification time (on Products & Services Page)
        if (window.utag) {
            this.fireSelectNotificationTimeOnProductsservicesPage(selected)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectNotificationTimeOnProductsservicesPage(selected) });
        }
    }, fireSelectNotificationTimeOnProductsservicesPage: function(selected) {
        // #9 - Track Action - Select notification time (on Products & Services Page)
        //console.log('#9 - Track Action - Select notification time (on Products & Services Page)')

        if (selected === '10_to_22') {
            var event_label = 'Select 10 to 22 Schedule';
        } else {
            var event_label = 'Select Anytime Schedule';
        }

        utag.link({
            'event_action': 'Usage Alerts Management',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmAlertsManagementOnProductsservicesPage: function(success) {
        // #10 - Track Action - Click Confirm Alerts Management (on Products & Services Page)
        if (window.utag) {
            this.fireClickConfirmAlertsManagementOnProductsservicesPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmAlertsManagementOnProductsservicesPage(success) });
        }
    }, fireClickConfirmAlertsManagementOnProductsservicesPage: function(success) {
        // #10 - Track Action - Click Confirm Alerts Management (on Products & Services Page)
        //console.log('#10 - Track Action - Click Confirm Alerts Management (on Products & Services Page)')

        if (success) {
            var page_name_next = 'Usage Alerts Configured with Success';
        } else {
            var page_name_next = 'Error Configuring Usage Alerts';
        }

        utag.link({
            'event_action': 'Usage Alerts Management',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeAlertsManagementWithSuccessToastOnProductsservicesPage: function() {
        // #11 - Track View - Change Alerts Management with Success Toast (on Products & Services Page)
        if (window.utag) {
            this.fireChangeAlertsManagementWithSuccessToastOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeAlertsManagementWithSuccessToastOnProductsservicesPage() });
        }
    }, fireChangeAlertsManagementWithSuccessToastOnProductsservicesPage: function() {
        // #11 - Track View - Change Alerts Management with Success Toast (on Products & Services Page)
        //console.log('#11 - Track View - Change Alerts Management with Success Toast (on Products & Services Page)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Usage Alerts Configured with Success',
            'page_section': 'My Vodafone:My Products and Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorChangingAlertsManagementToastOnPaymentsPage: function() {
        // #12 - Track View - Error Changing Alerts Management Toast (on Payments Page)
        if (window.utag) {
            this.fireErrorChangingAlertsManagementToastOnPaymentsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorChangingAlertsManagementToastOnPaymentsPage() });
        }
    }, fireErrorChangingAlertsManagementToastOnPaymentsPage: function() {
        // #12 - Track View - Error Changing Alerts Management Toast (on Payments Page)
        //console.log('#12 - Track View - Error Changing Alerts Management Toast (on Payments Page)')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Configuring Usage Alerts',
            'page_section': 'My Vodafone:My Products and Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandMyContractsOnProductsservicesPageDoNotTrackCollapseOnlyExpand: function() {
        // #13 - Track Action - Expand My Contracts (on Products & Services Page) - do not track collapse, only expand
        if (window.utag) {
            this.fireExpandMyContractsOnProductsservicesPageDoNotTrackCollapseOnlyExpand()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandMyContractsOnProductsservicesPageDoNotTrackCollapseOnlyExpand() });
        }
    }, fireExpandMyContractsOnProductsservicesPageDoNotTrackCollapseOnlyExpand: function() {
        // #13 - Track Action - Expand My Contracts (on Products & Services Page) - do not track collapse, only expand
        //console.log('#13 - Track Action - Expand My Contracts (on Products & Services Page) - do not track collapse, only expand')

        utag.link({
            'event_action': 'Aditional Information',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'View Contracts',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCurrentContractsTabOnProductsservicesPage: function() {
        // #14 - Track Action - Click Current Contracts Tab (on Products & Services Page)
        if (window.utag) {
            this.fireClickCurrentContractsTabOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCurrentContractsTabOnProductsservicesPage() });
        }
    }, fireClickCurrentContractsTabOnProductsservicesPage: function() {
        // #14 - Track Action - Click Current Contracts Tab (on Products & Services Page)
        //console.log('#14 - Track Action - Click Current Contracts Tab (on Products & Services Page)')

        utag.link({
            'event_action': 'Aditional Information - View Contracts',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Current Contracts',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickExpiredContractsTabOnProductsservicesPage: function() {
        // #15 - Track Action - Click Expired Contracts Tab (on Products & Services Page)
        if (window.utag) {
            this.fireClickExpiredContractsTabOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickExpiredContractsTabOnProductsservicesPage() });
        }
    }, fireClickExpiredContractsTabOnProductsservicesPage: function() {
        // #15 - Track Action - Click Expired Contracts Tab (on Products & Services Page)
        //console.log('#15 - Track Action - Click Expired Contracts Tab (on Products & Services Page)')

        utag.link({
            'event_action': 'Aditional Information - View Contracts',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Expired Contracts',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickViewMoreDetailsOnCurrentContractsTabOnProductsservicesPage: function() {
        // #16 - Track Action - Click View More Details on Current Contracts Tab (on Products & Services Page)
        if (window.utag) {
            this.fireClickViewMoreDetailsOnCurrentContractsTabOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickViewMoreDetailsOnCurrentContractsTabOnProductsservicesPage() });
        }
    }, fireClickViewMoreDetailsOnCurrentContractsTabOnProductsservicesPage: function() {
        // #16 - Track Action - Click View More Details on Current Contracts Tab (on Products & Services Page)
        //console.log('#16 - Track Action - Click View More Details on Current Contracts Tab (on Products & Services Page)')

        utag.link({
            'event_action': 'Aditional Information - View Contracts',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Current Contracts - More Details',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickViewMoreDetailsOnExpiredContractsTabOnProductsservicesPage: function() {
        // #17 - Track Action - Click View More Details on Expired Contracts Tab (on Products & Services Page)
        if (window.utag) {
            this.fireClickViewMoreDetailsOnExpiredContractsTabOnProductsservicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickViewMoreDetailsOnExpiredContractsTabOnProductsservicesPage() });
        }
    }, fireClickViewMoreDetailsOnExpiredContractsTabOnProductsservicesPage: function() {
        // #17 - Track Action - Click View More Details on Expired Contracts Tab (on Products & Services Page)
        //console.log('#17 - Track Action - Click View More Details on Expired Contracts Tab (on Products & Services Page)')

        utag.link({
            'event_action': 'Aditional Information - View Contracts',
            'event_category': 'Products and Services',
            'event': ['event_instance'],
            'event_label': 'Expired Contracts - More Details',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_products_services2 = {
    methods: {
        handleIgnore: function() {
            // #1 - Ignore
            if (window.utag) {
                this.fireIgnore()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireIgnore()
                });
            }
        },
        fireIgnore: function() {
            // #1 - Ignore
            //console.log('#1 - Ignore')
        },
        handleExpandUsageNotificationsOnProductsAndServicesPageOnlyTrackExpandNotCollapse: function() {
            // #2 - Track Action - Expand Usage Notifications (on Products and Services Page) - only track expand, not collapse
            if (window.utag) {
                this.fireExpandUsageNotificationsOnProductsAndServicesPageOnlyTrackExpandNotCollapse()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireExpandUsageNotificationsOnProductsAndServicesPageOnlyTrackExpandNotCollapse()
                });
            }
        },
        fireExpandUsageNotificationsOnProductsAndServicesPageOnlyTrackExpandNotCollapse: function() {
            // #2 - Track Action - Expand Usage Notifications (on Products and Services Page) - only track expand, not collapse
            //console.log('#2 - Track Action - Expand Usage Notifications (on Products and Services Page) - only track expand, not collapse')

            utag.link({
                'event_action': 'Spending Limits',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Usage Notifications',
                'event_value': '1',
                'page_name_next': 'Spending Limits Notifications',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandDataUsageLimitsOnProductsAndServicesPageOnlyTrackExpandNotCollapse: function() {
            // #3 - Track Action - Expand Data Usage Limits (on Products and Services Page) - only track expand, not collapse
            if (window.utag) {
                this.fireExpandDataUsageLimitsOnProductsAndServicesPageOnlyTrackExpandNotCollapse()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireExpandDataUsageLimitsOnProductsAndServicesPageOnlyTrackExpandNotCollapse()
                });
            }
        },
        fireExpandDataUsageLimitsOnProductsAndServicesPageOnlyTrackExpandNotCollapse: function() {
            // #3 - Track Action - Expand Data Usage Limits (on Products and Services Page) - only track expand, not collapse
            //console.log('#3 - Track Action - Expand Data Usage Limits (on Products and Services Page) - only track expand, not collapse')

            utag.link({
                'event_action': 'Spending Limits',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Data Usage Limits',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickOneDefinechangedeleteLimitOnProductsAndServicesPage: function(type) {
            // #4 - Track Action - Click one Define/Change/Delete Limit (on Products and Services Page)
            if (window.utag) {
                this.fireClickOneDefinechangedeleteLimitOnProductsAndServicesPage(type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickOneDefinechangedeleteLimitOnProductsAndServicesPage(type)
                });
            }
        },
        fireClickOneDefinechangedeleteLimitOnProductsAndServicesPage: function(type) {
            // #4 - Track Action - Click one Define/Change/Delete Limit (on Products and Services Page)
            //console.log('#4 - Track Action - Click one Define/Change/Delete Limit (on Products and Services Page)')

            var event_label;
            var page_name_next;
            if (type === 'define') {
                event_label = 'Define Limit';
                page_name_next = 'Define Limit';
            } else if (type === 'change') {
                event_label = 'Change Limit';
                page_name_next = 'Change Limit';
            } else if (type === 'delete') {
                event_label = 'Delete Limit';
                page_name_next = 'Delete Limit';
            }

            utag.link({
                'event_action': 'Spending Limits',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleDefineLimitPage: function() {
            // #5 - Track View - Define Limit Page
            if (window.utag) {
                this.fireDefineLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDefineLimitPage()
                });
            }
        },
        fireDefineLimitPage: function() {
            // #5 - Track View - Define Limit Page
            //console.log('#5 - Track View - Define Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Define Limit',
                'page_section': 'My Vodafone:My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleChangeLimitPage: function() {
            // #6 - Track View - Change Limit Page
            if (window.utag) {
                this.fireChangeLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireChangeLimitPage()
                });
            }
        },
        fireChangeLimitPage: function() {
            // #6 - Track View - Change Limit Page
            //console.log('#6 - Track View - Change Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Change Limit',
                'page_section': 'My Vodafone:My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleDeleteLimitPage: function() {
            // #7 - Track View - Delete Limit Page
            if (window.utag) {
                this.fireDeleteLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDeleteLimitPage()
                });
            }
        },
        fireDeleteLimitPage: function() {
            // #7 - Track View - Delete Limit Page
            //.log('#7 - Track View - Delete Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Delete Limit',
                'page_section': 'My Vodafone:My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCancelOnDefineLimitPage: function() {
            // #8 - Track Action - Click Cancel (on Define Limit Page)
            if (window.utag) {
                this.fireClickCancelOnDefineLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickCancelOnDefineLimitPage()
                });
            }
        },
        fireClickCancelOnDefineLimitPage: function() {
            // #8 - Track Action - Click Cancel (on Define Limit Page)
            //console.log('#8 - Track Action - Click Cancel (on Define Limit Page)')

            utag.link({
                'event_action': 'Define Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnDefineLimitPage: function(success, selectedLimit) {
            // #9 - Track Action - Click Continue (on Define Limit Page)
            if (window.utag) {
                this.fireClickContinueOnDefineLimitPage(success, selectedLimit)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnDefineLimitPage(success, selectedLimit)
                });
            }
        },
        fireClickContinueOnDefineLimitPage: function(success, selectedLimit) {
            // #9 - Track Action - Click Continue (on Define Limit Page)
            //console.log('#9 - Track Action - Click Continue (on Define Limit Page)')

            var event_label = selectedLimit; // getSelectedLimit(); //read limit on dropdown
            var page_name_next;
            if (success) {
                page_name_next = 'Limit Defined with Success';
            } else {
                page_name_next = 'Error Defining Limit';
            }

            utag.link({
                'event_action': 'Define Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleDefineLimitSuccessPage: function() {
            // #10 - Track View - Define Limit Success Page
            if (window.utag) {
                this.fireDefineLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDefineLimitSuccessPage()
                });
            }
        },
        fireDefineLimitSuccessPage: function() {
            // #10 - Track View - Define Limit Success Page
            //console.log('#10 - Track View - Define Limit Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Limit Defined with Success',
                'page_section': 'My Vodafone:My Products and Services:Define Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnDefineLimitSuccessPage: function() {
            // #11 - Track Action - Click Continue (on Define Limit Success Page)
            if (window.utag) {
                this.fireClickContinueOnDefineLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnDefineLimitSuccessPage()
                });
            }
        },
        fireClickContinueOnDefineLimitSuccessPage: function() {
            // #11 - Track Action - Click Continue (on Define Limit Success Page)
            //console.log('#11 - Track Action - Click Continue (on Define Limit Success Page)')

            utag.link({
                'event_action': 'Limit Defined with Success',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorDefiningLimitPage: function() {
            // #12 - Track View - Error Defining Limit Page
            if (window.utag) {
                this.fireErrorDefiningLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorDefiningLimitPage()
                });
            }
        },
        fireErrorDefiningLimitPage: function() {
            // #12 - Track View - Error Defining Limit Page
            //console.log('#12 - Track View - Error Defining Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Defining Limit',
                'page_section': 'My Vodafone:My Products and Services:Define Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorDefiningLimitPage: function() {
            // #13 - Track Action - Click Continue (on Error Defining Limit Page)
            if (window.utag) {
                this.fireClickContinueOnErrorDefiningLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnErrorDefiningLimitPage()
                });
            }
        },
        fireClickContinueOnErrorDefiningLimitPage: function() {
            // #13 - Track Action - Click Continue (on Error Defining Limit Page)
            //console.log('#13 - Track Action - Click Continue (on Error Defining Limit Page)')

            utag.link({
                'event_action': 'Error Defining Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCancelOnChangeLimitPage: function() {
            // #14 - Track Action - Click Cancel (on Change Limit Page)
            if (window.utag) {
                this.fireClickCancelOnChangeLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickCancelOnChangeLimitPage()
                });
            }
        },
        fireClickCancelOnChangeLimitPage: function() {
            // #14 - Track Action - Click Cancel (on Change Limit Page)
            //console.log('#14 - Track Action - Click Cancel (on Change Limit Page)')

            utag.link({
                'event_action': 'Change Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnChangeLimitPage: function(success, selectedLimit) {
            // #15 - Track Action - Click Continue (on Change Limit Page)
            if (window.utag) {
                this.fireClickContinueOnChangeLimitPage(success, selectedLimit)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnChangeLimitPage(success, selectedLimit)
                });
            }
        },
        fireClickContinueOnChangeLimitPage: function(success, selectedLimit) {
            // #15 - Track Action - Click Continue (on Change Limit Page)
            //console.log('#15 - Track Action - Click Continue (on Change Limit Page)')

            var event_label = selectedLimit; //getSelectedLimit(); //read limit on dropdown
            var page_name_next;

            if (success) {
                page_name_next = 'Limit Changed with Success';
            } else {
                page_name_next = 'Error Changing Limit';
            }

            utag.link({
                'event_action': 'Change Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleChangeLimitSuccessPage: function() {
            // #16 - Track View - Change Limit Success Page
            if (window.utag) {
                this.fireChangeLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireChangeLimitSuccessPage()
                });
            }
        },
        fireChangeLimitSuccessPage: function() {
            // #16 - Track View - Change Limit Success Page
            //console.log('#16 - Track View - Change Limit Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Limit Changed with Success',
                'page_section': 'My Vodafone:My Products and Services:Change Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnChangeLimitSuccessPage: function() {
            // #17 - Track Action - Click Continue (on Change Limit Success Page)
            if (window.utag) {
                this.fireClickContinueOnChangeLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnChangeLimitSuccessPage()
                });
            }
        },
        fireClickContinueOnChangeLimitSuccessPage: function() {
            // #17 - Track Action - Click Continue (on Change Limit Success Page)
            console.log('#17 - Track Action - Click Continue (on Change Limit Success Page)')

            utag.link({
                'event_action': 'Limit Changed with Success',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorChangingLimitPage: function() {
            // #18 - Track View - Error Changing Limit Page
            if (window.utag) {
                this.fireErrorChangingLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorChangingLimitPage()
                });
            }
        },
        fireErrorChangingLimitPage: function() {
            // #18 - Track View - Error Changing Limit Page
            //console.log('#18 - Track View - Error Changing Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Changing Limit',
                'page_section': 'My Vodafone:My Products and Services:Change Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorChangingLimitPage: function() {
            // #19 - Track Action - Click Continue (on Error Changing Limit Page)
            if (window.utag) {
                this.fireClickContinueOnErrorChangingLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnErrorChangingLimitPage()
                });
            }
        },
        fireClickContinueOnErrorChangingLimitPage: function() {
            // #19 - Track Action - Click Continue (on Error Changing Limit Page)
            //console.log('#19 - Track Action - Click Continue (on Error Changing Limit Page)')

            utag.link({
                'event_action': 'Error Changing Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCancelOnDeleteLimitPage: function() {
            // #20 - Track Action - Click Cancel (on Delete Limit Page)
            if (window.utag) {
                this.fireClickCancelOnDeleteLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickCancelOnDeleteLimitPage()
                });
            }
        },
        fireClickCancelOnDeleteLimitPage: function() {
            // #20 - Track Action - Click Cancel (on Delete Limit Page)
            //console.log('#20 - Track Action - Click Cancel (on Delete Limit Page)')

            utag.link({
                'event_action': 'Delete Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnDeleteLimitPage: function(success, selectedLimit) {
            // #21 - Track Action - Click Continue (on Delete Limit Page)
            if (window.utag) {
                this.fireClickContinueOnDeleteLimitPage(success, selectedLimit)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnDeleteLimitPage(success, selectedLimit)
                });
            }
        },
        fireClickContinueOnDeleteLimitPage: function(success, selectedLimit) {
            // #21 - Track Action - Click Continue (on Delete Limit Page)
            //console.log('#21 - Track Action - Click Continue (on Delete Limit Page)')

            var event_label = selectedLimit; //getSelectedLimit(); //read limit on dropdown
            var page_name_next;

            if (success) {
                page_name_next = 'Limit Deleted with Success';
            } else {
                page_name_next = 'Error Deleting Limit';
            }

            utag.link({
                'event_action': 'Delete Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleDeleteLimitSuccessPage: function() {
            // #22 - Track View - Delete Limit Success Page
            if (window.utag) {
                this.fireDeleteLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDeleteLimitSuccessPage()
                });
            }
        },
        fireDeleteLimitSuccessPage: function() {
            // #22 - Track View - Delete Limit Success Page
            //console.log('#22 - Track View - Delete Limit Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Limit Deleted with Success',
                'page_section': 'My Vodafone:My Products and Services:Delete Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnDeleteLimitSuccessPage: function() {
            // #23 - Track Action - Click Continue (on Delete Limit Success Page)
            if (window.utag) {
                this.fireClickContinueOnDeleteLimitSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnDeleteLimitSuccessPage()
                });
            }
        },
        fireClickContinueOnDeleteLimitSuccessPage: function() {
            // #23 - Track Action - Click Continue (on Delete Limit Success Page)
            //console.log('#23 - Track Action - Click Continue (on Delete Limit Success Page)')

            utag.link({
                'event_action': 'Limit Deleted with Success',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorDeletingLimitPage: function() {
            // #24 - Track View - Error Deleting Limit Page
            if (window.utag) {
                this.fireErrorDeletingLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorDeletingLimitPage()
                });
            }
        },
        fireErrorDeletingLimitPage: function() {
            // #24 - Track View - Error Deleting Limit Page
            //console.log('#24 - Track View - Error Deleting Limit Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Deleting Limit',
                'page_section': 'My Vodafone:My Products and Services:Delete Limit',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorDeletingLimitPage: function() {
            // #25 - Track Action - Click Continue (on Error Deleting Limit Page)
            if (window.utag) {
                this.fireClickContinueOnErrorDeletingLimitPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnErrorDeletingLimitPage()
                });
            }
        },
        fireClickContinueOnErrorDeletingLimitPage: function() {
            // #25 - Track Action - Click Continue (on Error Deleting Limit Page)
            //console.log('#25 - Track Action - Click Continue (on Error Deleting Limit Page)')

            utag.link({
                'event_action': 'Error Deleting Limit',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSpendingNotificationsPage: function() {
            // #26 - Track View - Spending Notifications Page
            if (window.utag) {
                this.fireSpendingNotificationsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSpendingNotificationsPage()
                });
            }
        },
        fireSpendingNotificationsPage: function() {
            // #26 - Track View - Spending Notifications Page
            //console.log('#26 - Track View - Spending Notifications Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Spending Limits Notifications',
                'page_section': 'My Vodafone:My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCancelOnSpendingNotificationsPage: function() {
            // #27 - Track Action - Click Cancel (on Spending Notifications Page)
            if (window.utag) {
                this.fireClickCancelOnSpendingNotificationsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickCancelOnSpendingNotificationsPage()
                });
            }
        },
        fireClickCancelOnSpendingNotificationsPage: function() {
            // #27 - Track Action - Click Cancel (on Spending Notifications Page)
           //console.log('#27 - Track Action - Click Cancel (on Spending Notifications Page)')

            utag.link({
                'event_action': 'Spending Limits Notifications',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickConfirmOnSpendingNotificationsPage: function(success) {
            // #28 - Track Action - Click Confirm (on Spending Notifications Page)
            if (window.utag) {
                this.fireClickConfirmOnSpendingNotificationsPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickConfirmOnSpendingNotificationsPage(success)
                });
            }
        },
        fireClickConfirmOnSpendingNotificationsPage: function(success) {
            // #28 - Track Action - Click Confirm (on Spending Notifications Page)
            //console.log('#28 - Track Action - Click Confirm (on Spending Notifications Page)')

            var page_name_next;

            if (success) {
                page_name_next = 'Service Changed with Success';
            } else {
                page_name_next = 'Error Changing Service';
            }

            utag.link({
                'event_action': 'Spending Limits Notifications',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Change Service to Receive Spending Limits Notifications',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleServiceChangedWithSuccessPage: function() {
            // #29 - Track View - Service Changed with Success Page
            if (window.utag) {
                this.fireServiceChangedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireServiceChangedWithSuccessPage()
                });
            }
        },
        fireServiceChangedWithSuccessPage: function() {
            // #29 - Track View - Service Changed with Success Page
            //console.log('#29 - Track View - Service Changed with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Service Changed with Success',
                'page_section': 'My Vodafone:My Products and Services:Spending Limits Notifications',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnServiceChangedWithSuccessPage: function() {
            // #30 - Track Action - Click Continue (on Service Changed with Success Page)
            if (window.utag) {
                this.fireClickContinueOnServiceChangedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnServiceChangedWithSuccessPage()
                });
            }
        },
        fireClickContinueOnServiceChangedWithSuccessPage: function() {
            // #30 - Track Action - Click Continue (on Service Changed with Success Page)
            //console.log('#30 - Track Action - Click Continue (on Service Changed with Success Page)')

            utag.link({
                'event_action': 'Service Changed with Success',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorChangingServicePage: function() {
            // #31 - Track View - Error Changing Service Page
            if (window.utag) {
                this.fireErrorChangingServicePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorChangingServicePage()
                });
            }
        },
        fireErrorChangingServicePage: function() {
            // #31 - Track View - Error Changing Service Page
            //.log('#31 - Track View - Error Changing Service Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Changing Service',
                'page_section': 'My Vodafone:My Products and Services:Spending Limits Notifications',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorChangingServicePage: function() {
            // #32 - Track Action - Click Continue (on Error Changing Service Page)
            if (window.utag) {
                this.fireClickContinueOnErrorChangingServicePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnErrorChangingServicePage()
                });
            }
        },
        fireClickContinueOnErrorChangingServicePage: function() {
            // #32 - Track Action - Click Continue (on Error Changing Service Page)
            //console.log('#32 - Track Action - Click Continue (on Error Changing Service Page)')

            utag.link({
                'event_action': 'Error Changing Service',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'My Products and Services',
                'visitor_login_status': 'Logged In'
            });
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_products_services3 = {
    methods: {
        handleExpandPortabilityValidationCode: function() {
            // #2 - Track Action - Expand Portability Validation Code
            if (window.utag) {
                this.fireExpandPortabilityValidationCode()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireExpandPortabilityValidationCode()
                });
            }
        },
        fireExpandPortabilityValidationCode: function() {
            // #2 - Track Action - Expand Portability Validation Code
            //console.log('#2 - Track Action - Expand Portability Validation Code')
            utag.link({
                "event_action": "Aditional Information",
                "event_category": "Products and Services",
                "event": ["event_instance"],
                "event_label": "Expand Portability Validation Code",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_entreprise_services = {
    methods: {handleEnterpriseServicesPage: function() {
        // #1 - Track View - Enterprise Services Page
        if (window.utag) {
            this.fireEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEnterpriseServicesPage() });
        }
    }, fireEnterpriseServicesPage: function() {
        // #1 - Track View - Enterprise Services Page
        //console.log('#1 - Track View - Enterprise Services Page')
        utag.view({
            'event': ['page_view'],
            'page_name': 'Enterprise Services',
            'page_section': 'My Vodafone:Homepage',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickChargesSplittingOnEnterpriseServicesPage: function() {
        // #2 - Track Action - Click Charges Splitting (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickChargesSplittingOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickChargesSplittingOnEnterpriseServicesPage() });
        }
    }, fireClickChargesSplittingOnEnterpriseServicesPage: function() {
        // #2 - Track Action - Click Charges Splitting (on Enterprise Services Page)
        //console.log('#2 - Track Action - Click Charges Splitting (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Charges Splitting',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Charges Splitting',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCheckRequirementsOnEnterpriseServicesPage: function() {
        // #3 - Track Action - Click Check Requirements (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickCheckRequirementsOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCheckRequirementsOnEnterpriseServicesPage() });
        }
    }, fireClickCheckRequirementsOnEnterpriseServicesPage: function() {
        // #3 - Track Action - Click Check Requirements (on Enterprise Services Page)
        //console.log('#3 - Track Action - Click Check Requirements (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Check Requirements',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Check Requirements',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCostControlOnEnterpriseServicesPage: function() {
        // #4 - Track Action - Click Cost Control (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickCostControlOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCostControlOnEnterpriseServicesPage() });
        }
    }, fireClickCostControlOnEnterpriseServicesPage: function() {
        // #4 - Track Action - Click Cost Control (on Enterprise Services Page)
        //console.log('#4 - Track Action - Click Cost Control (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Cost Control',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Cost Control',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickDocumentsManagementOnEnterpriseServicesPage: function() {
        // #5 - Track Action - Click Documents Management (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickDocumentsManagementOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickDocumentsManagementOnEnterpriseServicesPage() });
        }
    }, fireClickDocumentsManagementOnEnterpriseServicesPage: function() {
        // #5 - Track Action - Click Documents Management (on Enterprise Services Page)
        //.log('#5 - Track Action - Click Documents Management (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Documents Management',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Documents Management',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickAccessManagementOnEnterpriseServicesPage: function() {
        // #6 - Track Action - Click Access Management (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickAccessManagementOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickAccessManagementOnEnterpriseServicesPage() });
        }
    }, fireClickAccessManagementOnEnterpriseServicesPage: function() {
        // #6 - Track Action - Click Access Management (on Enterprise Services Page)
        //console.log('#6 - Track Action - Click Access Management (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Access Management',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Access Management',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickRequestManagementOnEnterpriseServicesPage: function() {
        // #7 - Track Action - Click Access Management (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickRequestManagementOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickRequestManagementOnEnterpriseServicesPage() });
        }
    }, fireClickRequestManagementOnEnterpriseServicesPage: function() {
        // #7 - Track Action - Click Request Management (on Enterprise Services Page)
        //console.log('#7 - Track Action - Click Request Management (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Request Management',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Request Management',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickCustomAssistenceOnEnterpriseServicesPage: function() {
        // #8 - Track Action - Click Custom Assistence  (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickCustomAssistenceOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickCustomAssistenceOnEnterpriseServicesPage() });
        }
    }, fireClickCustomAssistenceOnEnterpriseServicesPage: function() {
        // #8 - Track Action - Click Custom Assistence (on Enterprise Services Page)
        //console.log('#8 - Track Action - Click Custom Assistence  (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Custom Assistence',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Custom Assistence',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickTechnicalSupportRequestOnEnterpriseServicesPage: function() {
        // #9 - Track Action - Click Technical Support Request (on Enterprise Services Page)
        if (window.utag) {
            this.fireClickTechnicalSupportRequestOnEnterpriseServicesPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTechnicalSupportRequestOnEnterpriseServicesPage() });
        }
    }, fireClickTechnicalSupportRequestOnEnterpriseServicesPage: function() {
        // #9 - Track Action - Click Technical Support Request (on Enterprise Services Page)
        //console.log('#9 - Track Action - Click Technical Support Request (on Enterprise Services Page)')

        utag.link({
            'event_action': 'Technical Support Request',
            'event_category': 'Enterprise Services',
            'event': ['event_instance'],
            'event_label': 'Technical Support Request',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_offers_and_extras = {
    methods: {
        handleOffersextrasPage: function () {
            // #1 - Track View - Offers & Extras Page
            if (window.utag) {
                this.fireOffersextrasPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOffersextrasPage()
                });
            }
        },
        fireOffersextrasPage: function () {
            // #1 - Track View - Offers & Extras Page
            //console.log('#1 - Track View - Offers & Extras Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Offers and Extras',
                'page_section': 'My Vodafone',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickTariffsOnOffersextrasPage: function () {
            // #2 - Track Action - Click Tariffs (on Offers & Extras Page)
            if (window.utag) {
                this.fireClickTariffsOnOffersextrasPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickTariffsOnOffersextrasPage()
                });
            }
        },
        fireClickTariffsOnOffersextrasPage: function () {
            // #2 - Track Action - Click Tariffs (on Offers & Extras Page)
            //console.log('#2 - Track Action - Click Tariffs (on Offers & Extras Page)')

            utag.link({
                'event_action': 'Explore Tariff',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Tariff Plans',
                'event_value': '1',
                'page_name_next': 'Tariff Plans',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickAddOnsOnOffersextrasPage: function () {
            // #3 - Track Action - Click Add-ons (on Offers & Extras Page)
            if (window.utag) {
                this.fireClickAddOnsOnOffersextrasPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickAddOnsOnOffersextrasPage()
                });
            }
        },
        fireClickAddOnsOnOffersextrasPage: function () {
            // #3 - Track Action - Click Add-ons (on Offers & Extras Page)
            //console.log('#3 - Track Action - Click Add-ons (on Offers & Extras Page)')

            utag.link({
                'event_action': 'Explore Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Add-ons',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickServicesOnOffersextrasPage: function () {
            // #4 - Track Action - Click Services (on Offers & Extras Page)
            if (window.utag) {
                this.fireClickServicesOnOffersextrasPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickServicesOnOffersextrasPage()
                });
            }
        },
        fireClickServicesOnOffersextrasPage: function () {
            // #4 - Track Action - Click Services (on Offers & Extras Page)
            //console.log('#4 - Track Action - Click Services (on Offers & Extras Page)')

            utag.link({
                'event_action': 'Explore Services',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Services',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleAddOnsPage: function () {
            // #5 - Track View - Add-ons Page
            if (window.utag) {
                this.fireAddOnsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAddOnsPage()
                });
            }
        },
        fireAddOnsPage: function () {
            // #5 - Track View - Add-ons Page
            //console.log('#5 - Track View - Add-ons Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Add-ons',
                'page_section': 'My Vodafone:Offers and Extras',
                'visitor_login_status': 'Logged In'
            });
        },
        handleOnlyTrackExpandsNotCollapses: function (add_on_type) {
            // #6 - Track Action - Expand Add-ons (on Add-ons Page) - only track expands, not collapses
            if (window.utag) {
                this.fireOnlyTrackExpandsNotCollapses(add_on_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOnlyTrackExpandsNotCollapses(add_on_type)
                });
            }
        },
        fireOnlyTrackExpandsNotCollapses: function (add_on_type) {
            // #6 - Track Action - Expand Add-ons (on Add-ons Page) - only track expands, not collapses
            //console.log('#6 - Track Action - Expand Add-ons (on Add-ons Page) - only track expands, not collapses')

            var event_label;

            if (add_on_type === 'International Add-ons') {
                event_label = 'International Add-ons';
            } else if (add_on_type === 'Internet Add-ons') {
                event_label = 'Internet Add-ons';
            } else if (add_on_type === 'Roaming Add-ons') {
                event_label = 'Roaming Add-ons';
            } else if (add_on_type === 'Vodafone Safe and Secure Add-ons') {
                event_label = 'Vodafone Safe and Secure Add-ons';
            } else if (add_on_type === 'MMS Add-ons') {
                event_label = 'MMS Add-ons';
            } else if (add_on_type === 'Communication Add-ons') {
                event_label = 'Communication Add-ons';
            }

            utag.link({
                'event_action': 'Available Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickOnsPage: function (addOnName) {
            // #7 - Track Action - Click Add-on (on Add-ons Page)
            if (window.utag) {
                this.fireClickOnsPage(addOnName)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickOnsPage(addOnName)
                });
            }
        },
        fireClickOnsPage: function (addOnName) {
            // #7 - Track Action - Click Add-on (on Add-ons Page)
            //console.log('#7 - Track Action - Click Add-on (on Add-ons Page)')

            utag.link({
                'event_action': 'Available Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': addOnName,
                'event_value': '1',
                'page_name_next': 'Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeAddOnsPage: function () {
            // #8 - Track View - Subscribe Add-ons Page
            if (window.utag) {
                this.fireSubscribeAddOnsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeAddOnsPage()
                });
            }
        },
        fireSubscribeAddOnsPage: function () {
            // #8 - Track View - Subscribe Add-ons Page
            //console.log('#8 - Track View - Subscribe Add-ons Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Subscribe Add-on',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnSubscribeAddOnsPage: function () {
            // #9 - Track Action - Click Return (on Subscribe Add-ons Page)
            if (window.utag) {
                this.fireClickReturnOnSubscribeAddOnsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnSubscribeAddOnsPage()
                });
            }
        },
        fireClickReturnOnSubscribeAddOnsPage: function () {
            // #9 - Track Action - Click Return (on Subscribe Add-ons Page)
            //console.log('#9 - Track Action - Click Return (on Subscribe Add-ons Page)')

            utag.link({
                'event_action': 'Subscribe Add-on',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSubscribeOnSubscribeAddOnsPage: function (success, error_back_end, not_enough_cash, incompatible) {
            // #10 - Track Action - Click Subscribe (on Subscribe Add-ons Page)
            if (window.utag) {
                this.fireClickSubscribeOnSubscribeAddOnsPage(success, error_back_end, not_enough_cash, incompatible)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSubscribeOnSubscribeAddOnsPage(success, error_back_end, not_enough_cash, incompatible)
                });
            }
        },
        fireClickSubscribeOnSubscribeAddOnsPage: function (success, error_back_end, not_enough_cash, incompatible) {
            // #10 - Track Action - Click Subscribe (on Subscribe Add-ons Page)
            //console.log('#10 - Track Action - Click Subscribe (on Subscribe Add-ons Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Add-on Subscribed with Success';
            } else if (error_back_end) {
                page_name_next = 'Error Processing Add-on Subscrition';
            } else if (not_enough_cash) {
                page_name_next = 'Insufficient Balance for Add-on Subscrition';
            } else if (incompatible) {
                page_name_next = 'Subscribe Incompatible Add-ons';
            }

            utag.link({
                'event_action': 'Subscribe Add-on',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Subscribe',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeAddOnSuccessPage: function () {
            // #11 - Track View - Subscribe Add-on Success Page
            if (window.utag) {
                this.fireSubscribeAddOnSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeAddOnSuccessPage()
                });
            }
        },
        fireSubscribeAddOnSuccessPage: function () {
            // #11 - Track View - Subscribe Add-on Success Page
            //console.log('#11 - Track View - Subscribe Add-on Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Add-on Subscribed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnSubscribeAddOnSuccessPage: function () {
            // #12 - Track Action - Click Continue (on Subscribe Add-on Success Page)
            if (window.utag) {
                this.fireClickContinueOnSubscribeAddOnSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnSubscribeAddOnSuccessPage()
                });
            }
        },
        fireClickContinueOnSubscribeAddOnSuccessPage: function () {
            // #12 - Track Action - Click Continue (on Subscribe Add-on Success Page)
            //console.log('#12 - Track Action - Click Continue (on Subscribe Add-on Success Page)')

            utag.link({
                'event_action': 'Add-on Subscribed with Success',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Homepage',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeAddOnSubscriptionErrorPage: function () {
            // #13 - Track View - Subscribe Add-on Subscription Error Page
            if (window.utag) {
                this.fireSubscribeAddOnSubscriptionErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeAddOnSubscriptionErrorPage()
                });
            }
        },
        fireSubscribeAddOnSubscriptionErrorPage: function () {
            // #13 - Track View - Subscribe Add-on Subscription Error Page
            //console.log('#13 - Track View - Subscribe Add-on Subscription Error Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Processing Add-on Subscrition',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnSubscribeAddOnSubscriptionErrorPage: function () {
            // #14 - Track Action - Click Continue (on Subscribe Add-on Subscription Error Page)
            if (window.utag) {
                this.fireClickContinueOnSubscribeAddOnSubscriptionErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnSubscribeAddOnSubscriptionErrorPage()
                });
            }
        },
        fireClickContinueOnSubscribeAddOnSubscriptionErrorPage: function () {
            // #14 - Track Action - Click Continue (on Subscribe Add-on Subscription Error Page)
            //console.log('#14 - Track Action - Click Continue (on Subscribe Add-on Subscription Error Page)')

            utag.link({
                'event_action': 'Error Processing Add-on Subscrition',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeAddOnInsufficientBalancePage: function () {
            // #15 - Track View - Subscribe Add-on Insufficient Balance Page
            if (window.utag) {
                this.fireSubscribeAddOnInsufficientBalancePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeAddOnInsufficientBalancePage()
                });
            }
        },
        fireSubscribeAddOnInsufficientBalancePage: function () {
            // #15 - Track View - Subscribe Add-on Insufficient Balance Page
            //console.log('#15 - Track View - Subscribe Add-on Insufficient Balance Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Insufficient Balance for Add-on Subscrition',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnSubscribeAddOnInsufficientBalancePage: function () {
            // #16 - Track Action - Click Continue (on Subscribe Add-on Insufficient Balance Page)
            if (window.utag) {
                this.fireClickContinueOnSubscribeAddOnInsufficientBalancePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnSubscribeAddOnInsufficientBalancePage()
                });
            }
        },
        fireClickContinueOnSubscribeAddOnInsufficientBalancePage: function () {
            // #16 - Track Action - Click Continue (on Subscribe Add-on Insufficient Balance Page)
            //console.log('#16 - Track Action - Click Continue (on Subscribe Add-on Insufficient Balance Page)')

            utag.link({
                'event_action': 'Insufficient Balance for Add-on Subscrition',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleActiveOnsPage: function (addOnName) {
            // #17 - Track Action - Click Active Add-On (on Add-ons Page)
            if (window.utag) {
                this.fireActiveOnsPage(addOnName)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireActiveOnsPage(addOnName)
                });
            }
        },
        fireActiveOnsPage: function (addOnName) {
            // #17 - Track Action - Click Active Add-On (on Add-ons Page)
            //console.log('#17 - Track Action - Click Active Add-On (on Add-ons Page)')

            utag.link({
                'event_action': 'Active Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': addOnName,
                'event_value': '1',
                'page_name_next': 'Remove Active Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleCancelAddOnPage: function () {
            // #18 - Track View - Cancel Add-on Page
            if (window.utag) {
                this.fireCancelAddOnPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireCancelAddOnPage()
                });
            }
        },
        fireCancelAddOnPage: function () {
            // #18 - Track View - Cancel Add-on Page
            //console.log('#18 - Track View - Cancel Add-on Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Remove Active Add-on',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnCancelAddOnPage: function () {
            // #19 - Track Action - Click Return (on Cancel Add-on Page)
            if (window.utag) {
                this.fireClickReturnOnCancelAddOnPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnCancelAddOnPage()
                });
            }
        },
        fireClickReturnOnCancelAddOnPage: function () {
            // #19 - Track Action - Click Return (on Cancel Add-on Page)
            //console.log('#19 - Track Action - Click Return (on Cancel Add-on Page)')

            utag.link({
                'event_action': 'Remove Active Add-on',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickCancelOnCancelAddOnPage: function (success) {
            // #20 - Track Action - Click Cancel (on Cancel Add-on Page)
            if (window.utag) {
                this.fireClickCancelOnCancelAddOnPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickCancelOnCancelAddOnPage(success)
                });
            }
        },
        fireClickCancelOnCancelAddOnPage: function (success) {
            // #20 - Track Action - Click Cancel (on Cancel Add-on Page)
            //console.log('#20 - Track Action - Click Cancel (on Cancel Add-on Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Add-on Removed with Success';
            } else {
                page_name_next = 'Error Removing Add-on';
            }

            utag.link({
                'event_action': 'Remove Active Add-on',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Remove',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleRemovedAddOnSuccessPage: function () {
            // #21 - Track View - Removed Add-on Success Page
            if (window.utag) {
                this.fireRemovedAddOnSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireRemovedAddOnSuccessPage()
                });
            }
        },
        fireRemovedAddOnSuccessPage: function () {
            // #21 - Track View - Removed Add-on Success Page
            //console.log('#21 - Track View - Removed Add-on Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Add-on Removed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Remove Active Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnRemovedAddOnSuccessPage: function () {
            // #22 - Track Action - Click Continue (on Removed Add-on Success Page)
            if (window.utag) {
                this.fireClickContinueOnRemovedAddOnSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnRemovedAddOnSuccessPage()
                });
            }
        },
        fireClickContinueOnRemovedAddOnSuccessPage: function () {
            // #22 - Track Action - Click Continue (on Removed Add-on Success Page)
            //console.log('#22 - Track Action - Click Continue (on Removed Add-on Success Page)')

            utag.link({
                'event_action': 'Add-on Removed with Success',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Homepage',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorRemovingAddOnPage: function () {
            // #23 - Track View - Error Removing Add-on Page
            if (window.utag) {
                this.fireErrorRemovingAddOnPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorRemovingAddOnPage()
                });
            }
        },
        fireErrorRemovingAddOnPage: function () {
            // #23 - Track View - Error Removing Add-on Page
            //console.log('#23 - Track View - Error Removing Add-on Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Removing Add-on',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Remove Active Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorRemovingAddOnPage: function () {
            // #24 - Track Action - Click Continue (on Error Removing Add-on Page)
            if (window.utag) {
                this.fireClickContinueOnErrorRemovingAddOnPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnErrorRemovingAddOnPage()
                });
            }
        },
        fireClickContinueOnErrorRemovingAddOnPage: function () {
            // #24 - Track Action - Click Continue (on Error Removing Add-on Page)
            //console.log('#24 - Track Action - Click Continue (on Error Removing Add-on Page)')

            utag.link({
                'event_action': 'Error Removing Add-on',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Add-ons',
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeIncompatibleAddOnsPage: function () {
            // #25 - Track View - Subscribe Incompatible Add-ons Page
            if (window.utag) {
                this.fireSubscribeIncompatibleAddOnsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeIncompatibleAddOnsPage()
                });
            }
        },
        fireSubscribeIncompatibleAddOnsPage: function () {
            // #25 - Track View - Subscribe Incompatible Add-ons Page
            //console.log('#25 - Track View - Subscribe Incompatible Add-ons Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Subscribe Incompatible Add-ons',
                'page_section': 'My Vodafone:Offers and Extras:Add-ons:Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnSubscribeIncompatibleAddOnsPage: function () {
            // #26 - Track Action - Click Return (on Subscribe Incompatible Add-ons Page)
            if (window.utag) {
                this.fireClickReturnOnSubscribeIncompatibleAddOnsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnSubscribeIncompatibleAddOnsPage()
                });
            }
        },
        fireClickReturnOnSubscribeIncompatibleAddOnsPage: function () {
            // #26 - Track Action - Click Return (on Subscribe Incompatible Add-ons Page)
            //console.log('#26 - Track Action - Click Return (on Subscribe Incompatible Add-ons Page)')

            utag.link({
                'event_action': 'Subscribe Incompatible Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Subscribe Add-on',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickConfirmOnSubscribeIncompatibleAddOnsPage: function (success, not_enough_cash) {
            // #27 - Track Action - Click Confirm (on Subscribe Incompatible Add-ons Page)
            if (window.utag) {
                this.fireClickConfirmOnSubscribeIncompatibleAddOnsPage(success, not_enough_cash)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickConfirmOnSubscribeIncompatibleAddOnsPage(success, not_enough_cash)
                });
            }
        },
        fireClickConfirmOnSubscribeIncompatibleAddOnsPage: function (success, not_enough_cash) {
            // #27 - Track Action - Click Confirm (on Subscribe Incompatible Add-ons Page)
            //console.log('#27 - Track Action - Click Confirm (on Subscribe Incompatible Add-ons Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Add-on Subscribed with Success';
            } else if (not_enough_cash) {
                page_name_next = 'Insufficient Balance for Add-on Subscrition';
            } else {
                page_name_next = 'Error Processing Add-on Subscrition';
            }

            utag.link({
                'event_action': 'Subscribe Incompatible Add-ons',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Confirm',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleServicesPage: function () {
            // #28 - Track View - Services Page
            if (window.utag) {
                this.fireServicesPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireServicesPage()
                });
            }
        },
        fireServicesPage: function () {
            // #28 - Track View - Services Page
            //console.log('#28 - Track View - Services Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Services',
                'page_section': 'My Vodafone:Offers and Extras',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses: function (service_type) {
            // #29 - Track Action - Expand Services (on Services Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses(service_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses(service_type)
                });
            }
        },
        fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses: function (service_type) {
            // #29 - Track Action - Expand Services (on Services Page) - only track expands, not collapses
            //console.log('#29 - Track Action - Expand Services (on Services Page) - only track expands, not collapses')

            var event_label;

            if (service_type === 'Confidentiality') {
                event_label = 'Confidentiality';
            } else if (service_type === 'Voice Mail') {
                event_label = 'Voice Mail';
            } else if (service_type === 'Roaming') {
                event_label = 'Roaming';
            }

            utag.link({
                'event_action': 'Available Services',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickOnsServicePage: function (service_active, service_name) {
            // #30 - Track Action - Click Add-on (on Add-ons Page)
            if (window.utag) {
                this.fireClickOnsServicePage(service_active, service_name)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickOnsServicePage(service_active, service_name)
                });
            }
        },
        fireClickOnsServicePage: function (service_active, service_name) {
            // #30 - Track Action - Click Add-on (on Add-ons Page)
            //console.log('#30 - Track Action - Click Add-on (on Add-ons Page)')

            var page_name_next;
            if (service_active) {
                page_name_next = 'Active Service';
            } else {
                page_name_next = 'Subscribe Service';
            }

            utag.link({
                'event_action': 'Available Services',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': service_name,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeServicePage: function () {
            // #31 - Track View - Subscribe Service Page
            if (window.utag) {
                this.fireSubscribeServicePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeServicePage()
                });
            }
        },
        fireSubscribeServicePage: function () {
            // #31 - Track View - Subscribe Service Page
            //console.log('#31 - Track View - Subscribe Service Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Subscribe Service',
                'page_section': 'My Vodafone:Offers and Extras:Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSubscribeOnSubscribeServicePage: function (success) {
            // #32 - Track Action - Click Subscribe (on Subscribe Service Page)
            if (window.utag) {
                this.fireClickSubscribeOnSubscribeServicePage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSubscribeOnSubscribeServicePage(success)
                });
            }
        },
        fireClickSubscribeOnSubscribeServicePage: function (success) {
            // #32 - Track Action - Click Subscribe (on Subscribe Service Page)
            //console.log('#32 - Track Action - Click Subscribe (on Subscribe Service Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Service Subscribed with Success';
            } else {
                page_name_next = 'Error Subscribing Service';
            }

            utag.link({
                'event_action': 'Subscribe Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Subscribe',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnSubscribeServicePage: function () {
            // #33 - Track Action - Click Return (on Subscribe Service Page)
            if (window.utag) {
                this.fireClickReturnOnSubscribeServicePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnSubscribeServicePage()
                });
            }
        },
        fireClickReturnOnSubscribeServicePage: function () {
            // #33 - Track Action - Click Return (on Subscribe Service Page)
            //console.log('#33 - Track Action - Click Return (on Subscribe Service Page)')

            utag.link({
                'event_action': 'Subscribe Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleServiceSubscribedWithSuccessPage: function () {
            // #34 - Track View - Service Subscribed with Success Page
            if (window.utag) {
                this.fireServiceSubscribedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireServiceSubscribedWithSuccessPage()
                });
            }
        },
        fireServiceSubscribedWithSuccessPage: function () {
            // #34 - Track View - Service Subscribed with Success Page
            //console.log('#34 - Track View - Service Subscribed with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Service Subscribed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Services:Subscribe Service',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorSubscribingServicePage: function () {
            // #35 - Track View - Error Subscribing Service Page
            if (window.utag) {
                this.fireErrorSubscribingServicePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorSubscribingServicePage()
                });
            }
        },
        fireErrorSubscribingServicePage: function () {
            // #35 - Track View - Error Subscribing Service Page
            //console.log('#35 - Track View - Error Subscribing Service Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Subscribing Service',
                'page_section': 'My Vodafone:Offers and Extras:Services:Subscribe Service',
                'visitor_login_status': 'Logged In'
            });
        },
        handleServiceAlreadySubscribedPage: function () {
            // #36 - Track View - Service already Subscribed Page
            if (window.utag) {
                this.fireServiceAlreadySubscribedPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireServiceAlreadySubscribedPage()
                });
            }
        },
        fireServiceAlreadySubscribedPage: function () {
            // #36 - Track View - Service already Subscribed Page
            //console.log('#36 - Track View - Service already Subscribed Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Active Service',
                'page_section': 'My Vodafone:Offers and Extras:Services:Subscribe Service',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnServiceAlreadySubscribedPage: function () {
            // #37 - Track Action - Click Return (on Service already Subscribed Page)
            if (window.utag) {
                this.fireClickReturnOnServiceAlreadySubscribedPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnServiceAlreadySubscribedPage()
                });
            }
        },
        fireClickReturnOnServiceAlreadySubscribedPage: function () {
            // #37 - Track Action - Click Return (on Service already Subscribed Page)
            //console.log('#37 - Track Action - Click Return (on Service already Subscribed Page)')

            utag.link({
                'event_action': 'Active Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickRemoveOnServiceAlreadySubscribedPage: function () {
            // #38 - Track Action - Click Remove (on Service already Subscribed Page)
            if (window.utag) {
                this.fireClickRemoveOnServiceAlreadySubscribedPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickRemoveOnServiceAlreadySubscribedPage()
                });
            }
        },
        fireClickRemoveOnServiceAlreadySubscribedPage: function () {
            // #38 - Track Action - Click Remove (on Service already Subscribed Page)
            //console.log('#38 - Track Action - Click Remove (on Service already Subscribed Page)')

            utag.link({
                'event_action': 'Active Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Remove Active Service',
                'event_value': '1',
                'page_name_next': 'Remove Active Service',
                'visitor_login_status': 'Logged In'
            });
        },
        handleTariffsPage: function () {
            // #39 - Track View - Tariffs Page
            if (window.utag) {
                this.fireTariffsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireTariffsPage()
                });
            }
        },
        fireTariffsPage: function () {
            // #39 - Track View - Tariffs Page
            //console.log('#39 - Track View - Tariffs Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Tariff Plans',
                'page_section': 'My Vodafone:Offers and Extras',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses: function (tariffs_type) {
            // #40 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses(tariffs_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses(tariffs_type)
                });
            }
        },
        fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses: function (tariffs_type) {
            // #40 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses
            //console.log('#40 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses')

            var event_label = tariffs_type;

            utag.link({
                'event_action': 'Tariff Category',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': event_label,
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleOnsPage: function (tariff_name) {
            // #41 - Track Action - Click Add-on (on Add-ons Page)
            if (window.utag) {
                this.fireOnsPage(tariff_name)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOnsPage(tariff_name)
                });
            }
        },
        fireOnsPage: function (tariff_name) {
            // #41 - Track Action - Click Add-on (on Add-ons Page)
            //console.log('#41 - Track Action - Click Add-on (on Add-ons Page)')

            utag.link({
                'event_action': 'Tariff Plan',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': tariff_name,
                'event_value': '1',
                'page_name_next': 'Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleChangeTariffsPage: function () {
            // #42 - Track View - Change Tariffs Page
            if (window.utag) {
                this.fireChangeTariffsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireChangeTariffsPage()
                });
            }
        },
        fireChangeTariffsPage: function () {
            // #42 - Track View - Change Tariffs Page
            //console.log('#42 - Track View - Change Tariffs Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Change Tariff Plan',
                'page_section': 'My Vodafone:Offers and Extras:Tariff Plans',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnChangeTariffsPage: function () {
            // #43 - Track Action - Click Return (on Change Tariffs Page)
            if (window.utag) {
                this.fireClickReturnOnChangeTariffsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnChangeTariffsPage()
                });
            }
        },
        fireClickReturnOnChangeTariffsPage: function () {
            // #43 - Track Action - Click Return (on Change Tariffs Page)
            //console.log('#43 - Track Action - Click Return (on Change Tariffs Page)')

            utag.link({
                'event_action': 'Change Tariff Plan',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Tariff Plans',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSubscribeOnChangeTariffsPage: function (tariff_type) {
            // #44 - Track Action - Click Subscribe (on Change Tariffs Page)
            if (window.utag) {
                this.fireClickSubscribeOnChangeTariffsPage(tariff_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSubscribeOnChangeTariffsPage(tariff_type)
                });
            }
        },
        fireClickSubscribeOnChangeTariffsPage: function (tariff_type) {
            // #44 - Track Action - Click Subscribe (on Change Tariffs Page)
            //console.log('#44 - Track Action - Click Subscribe (on Change Tariffs Page)')

            var page_name_next;
            if (tariff_type === 'Subscribe Incompatible Products') {
                page_name_next = 'Subscribe Incompatible Products';
            } else if (tariff_type === 'Error Changing Tariff Plan') {
                page_name_next = 'Error Changing Tariff Plan';
            } else if (tariff_type === 'Tariff Plan Changed with Success - Insufficient Balance') {
                page_name_next = 'Tariff Plan Changed with Success - Insufficient Balance';
            } else if (tariff_type === 'Tariff Plan Changed with Success') {
                page_name_next = 'Tariff Plan Changed with Success';
            }

            utag.link({
                'event_action': 'Change Tariff Plan',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Subscribe',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleSubscribeIncompatibleProductsPage: function () {
            // #45 - Track View - Subscribe Incompatible Products Page
            if (window.utag) {
                this.fireSubscribeIncompatibleProductsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscribeIncompatibleProductsPage()
                });
            }
        },
        fireSubscribeIncompatibleProductsPage: function () {
            // #45 - Track View - Subscribe Incompatible Products Page
            //console.log('#45 - Track View - Subscribe Incompatible Products Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Subscribe Incompatible Products',
                'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnSubscribeIncompatibleProductsPage: function () {
            // #46 - Track Action - Click Return (on Subscribe Incompatible Products Page)
            if (window.utag) {
                this.fireClickReturnOnSubscribeIncompatibleProductsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnSubscribeIncompatibleProductsPage()
                });
            }
        },
        fireClickReturnOnSubscribeIncompatibleProductsPage: function () {
            // #46 - Track Action - Click Return (on Subscribe Incompatible Products Page)
            //console.log('#46 - Track Action - Click Return (on Subscribe Incompatible Products Page)')

            utag.link({
                'event_action': 'Subscribe Incompatible Products',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSubscribeOnSubscribeIncompatibleProductsPage: function (product_type) {
            // #47 - Track Action - Click Subscribe (on Subscribe Incompatible Products Page)
            if (window.utag) {
                this.fireClickSubscribeOnSubscribeIncompatibleProductsPage(product_type)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSubscribeOnSubscribeIncompatibleProductsPage(product_type)
                });
            }
        },
        fireClickSubscribeOnSubscribeIncompatibleProductsPage: function (product_type) {
            // #47 - Track Action - Click Subscribe (on Subscribe Incompatible Products Page)
            //console.log('#47 - Track Action - Click Subscribe (on Subscribe Incompatible Products Page)')

            var page_name_next;
            if (product_type === 'Tariff Plan Changed with Success') {
                page_name_next = 'Tariff Plan Changed with Success';
            } else if (product_type === 'Error Changing Tariff Plan') {
                page_name_next = 'Error Changing Tariff Plan';
            } else if (product_type === 'Tariff Plan Changed with Success - Insufficient Balance') {
                page_name_next = 'Tariff Plan Changed with Success - Insufficient Balance';
            }

            utag.link({
                'event_action': 'Subscribe Incompatible Products',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Confirm',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleTariffPlanChangedWithSuccessPage: function () {
            // #48 - Track View - Tariff Plan Changed with Success Page
            if (window.utag) {
                this.fireTariffPlanChangedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireTariffPlanChangedWithSuccessPage()
                });
            }
        },
        fireTariffPlanChangedWithSuccessPage: function () {
            // #48 - Track View - Tariff Plan Changed with Success Page
            //console.log('#48 - Track View - Tariff Plan Changed with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Tariff Plan Changed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnTariffPlanChangedWithSuccessPage: function () {
            // #49 - Track Action - Click Continue (on Tariff Plan Changed with Success Page)
            if (window.utag) {
                this.fireClickContinueOnTariffPlanChangedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnTariffPlanChangedWithSuccessPage()
                });
            }
        },
        fireClickContinueOnTariffPlanChangedWithSuccessPage: function () {
            // #49 - Track Action - Click Continue (on Tariff Plan Changed with Success Page)
            //console.log('#49 - Track Action - Click Continue (on Tariff Plan Changed with Success Page)')

            utag.link({
                'event_action': 'Tariff Plan Changed with Success',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Homepage',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorChangingTariffPlanPage: function () {
            // #50 - Track View - Error Changing Tariff Plan Page
            if (window.utag) {
                this.fireErrorChangingTariffPlanPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorChangingTariffPlanPage()
                });
            }
        },
        fireErrorChangingTariffPlanPage: function () {
            // #50 - Track View - Error Changing Tariff Plan Page
            //console.log('#50 - Track View - Error Changing Tariff Plan Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Changing Tariff Plan',
                'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorChangingTariffPlanPage: function () {
            // #51 - Track Action - Click Continue (on Error Changing Tariff Plan Page)
            if (window.utag) {
                this.fireClickContinueOnErrorChangingTariffPlanPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnErrorChangingTariffPlanPage()
                });
            }
        },
        fireClickContinueOnErrorChangingTariffPlanPage: function () {
            // #51 - Track Action - Click Continue (on Error Changing Tariff Plan Page)
            //console.log('#51 - Track Action - Click Continue (on Error Changing Tariff Plan Page)')

            utag.link({
                'event_action': 'Error Changing Tariff Plan',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Tariff Plans',
                'visitor_login_status': 'Logged In'
            });
        },
        handleTariffPlanChangedWithSuccessInsufficientBalancePage: function () {
            // #52 - Track View - Tariff Plan Changed with Success - Insufficient Balance Page
            if (window.utag) {
                this.fireTariffPlanChangedWithSuccessInsufficientBalancePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireTariffPlanChangedWithSuccessInsufficientBalancePage()
                });
            }
        },
        fireTariffPlanChangedWithSuccessInsufficientBalancePage: function () {
            // #52 - Track View - Tariff Plan Changed with Success - Insufficient Balance Page
            //console.log('#52 - Track View - Tariff Plan Changed with Success - Insufficient Balance Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Tariff Plan Changed with Success - Insufficient Balance',
                'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnTariffPlanChangedWithSuccessInsufficientBalancePage: function () {
            // #53 - Track Action - Click Continue (on Tariff Plan Changed with Success - Insufficient Balance Page)
            if (window.utag) {
                this.fireClickContinueOnTariffPlanChangedWithSuccessInsufficientBalancePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnTariffPlanChangedWithSuccessInsufficientBalancePage()
                });
            }
        },
        fireClickContinueOnTariffPlanChangedWithSuccessInsufficientBalancePage: function () {
            // #53 - Track Action - Click Continue (on Tariff Plan Changed with Success - Insufficient Balance Page)
            //console.log('#53 - Track Action - Click Continue (on Tariff Plan Changed with Success - Insufficient Balance Page)')

            utag.link({
                'event_action': 'Tariff Plan Changed with Success - Insufficient Balance',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Homepage',
                'visitor_login_status': 'Logged In'
            });
        },
        handleInsufficientBalancePage: function () {
            // #54 - Track Action - Click Top-Up (on Tariff Plan Changed with Success - Insufficient Balance Page)
            if (window.utag) {
                this.fireInsufficientBalancePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireInsufficientBalancePage()
                });
            }
        },
        fireInsufficientBalancePage: function () {
            // #54 - Track Action - Click Top-Up (on Tariff Plan Changed with Success - Insufficient Balance Page)
            //console.log('#54 - Track Action - Click Top-Up (on Tariff Plan Changed with Success - Insufficient Balance Page)')

            utag.link({
                'event_action': 'Tariff Plan Changed with Success - Insufficient Balance',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Top-Up Now',
                'event_value': '1',
                'page_name_next': 'Top-Ups',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickOffersToYouOnOffersextrasPage: function (offer_page_inside_myvdf, offer_name) {
            // #55 - Track Action - Click Offers to You (on Offers & Extras Page)
            if (window.utag) {
                this.fireClickOffersToYouOnOffersextrasPage(offer_page_inside_myvdf, offer_name)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickOffersToYouOnOffersextrasPage(offer_page_inside_myvdf, offer_name)
                });
            }
        },
        fireClickOffersToYouOnOffersextrasPage: function (offer_page_inside_myvdf, offer_name) {
            // #55 - Track Action - Click Offers to You (on Offers & Extras Page)
            //console.log('#55 - Track Action - Click Offers to You (on Offers & Extras Page)')

            var page_name_next;
            if (offer_page_inside_myvdf) {
                page_name_next = 'Offer to You';
            } else {
                page_name_next = 'Web page';
            }

            utag.link({
                'event_action': 'Offers to You',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': offer_name,
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleOfferToYouPage: function () {
            // #56 - Track View - Offer to You Page
            if (window.utag) {
                this.fireOfferToYouPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOfferToYouPage()
                });
            }
        },
        fireOfferToYouPage: function () {
            // #56 - Track View - Offer to You Page
            //console.log('#56 - Track View - Offer to You Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Offer to You',
                'page_section': 'My Vodafone:Offers and Extras',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnOfferToYouPage: function () {
            // #57 - Track Action - Click Return (on Offer to You Page)
            if (window.utag) {
                this.fireClickReturnOnOfferToYouPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnOfferToYouPage()
                });
            }
        },
        fireClickReturnOnOfferToYouPage: function () {
            // #57 - Track Action - Click Return (on Offer to You Page)
            //console.log('#57 - Track Action - Click Return (on Offer to You Page)')

            utag.link({
                'event_action': 'Offer to You',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Offer to You',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickSubscribeOnOfferToYouPage: function () {
            // #58 - Track Action - Click Subscribe (on Offer to You Page)
            if (window.utag) {
                this.fireClickSubscribeOnOfferToYouPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSubscribeOnOfferToYouPage()
                });
            }
        },
        fireClickSubscribeOnOfferToYouPage: function (success) {
            // #58 - Track Action - Click Subscribe (on Offer to You Page)
            //console.log('#58 - Track Action - Click Subscribe (on Offer to You Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Offer to You Subscribed with Success';
            } else {
                page_name_next = 'Error Subscribing Offer to You';
            }

            utag.link({
                'event_action': 'Offer to You',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Subscribe',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleOfferToYouSubscribedWithSuccessPage: function () {
            // #59 - Track View - Offer to You Subscribed with Success Page
            if (window.utag) {
                this.fireOfferToYouSubscribedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOfferToYouSubscribedWithSuccessPage()
                });
            }
        },
        fireOfferToYouSubscribedWithSuccessPage: function () {
            // #59 - Track View - Offer to You Subscribed with Success Page
            //console.log('#59 - Track View - Offer to You Subscribed with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Offer to You Subscribed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Offer to You',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorSubscribingOfferToYouPage: function () {
            // #60 - Track View - Error Subscribing Offer to You Page
            if (window.utag) {
                this.fireErrorSubscribingOfferToYouPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorSubscribingOfferToYouPage()
                });
            }
        },
        fireErrorSubscribingOfferToYouPage: function () {
            // #60 - Track View - Error Subscribing Offer to You Page
            //console.log('#60 - Track View - Error Subscribing Offer to You Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Subscribing Offer to You',
                'page_section': 'My Vodafone:Offers and Extras:Offer to You',
                'visitor_login_status': 'Logged In'
            });
        },
        handleExpandTariffPlanOnProducsAndServicesPageOnlyTrackExpandsNotCollapses: function () {
            // #P1 - Track Action - Expand Tariff Plan (on Producs and Services Page) - only track expands, not collapses
            if (window.utag) {
                this.fireExpandTariffPlanOnProducsAndServicesPageOnlyTrackExpandsNotCollapses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandTariffPlanOnProducsAndServicesPageOnlyTrackExpandsNotCollapses()
                });
            }
        },
        fireExpandTariffPlanOnProducsAndServicesPageOnlyTrackExpandsNotCollapses: function () {
            // #P1 - Track Action - Expand Tariff Plan (on Producs and Services Page) - only track expands, not collapses
            //console.log('#P1 - Track Action - Expand Tariff Plan (on Producs and Services Page) - only track expands, not collapses')

            utag.link({
                'event_action': 'Expand Tariff Plan',
                'event_category': 'Products and Services',
                'event': ['event_instance'],
                'event_label': 'See Tariff Plan Detail',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_offers_and_extras2 = {
    methods: {handleExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses: function(tariffName) {
        // #1 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses
        if (window.utag) {
            this.fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses(tariffName)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses(tariffName) });
        }
    }, fireExpandTariffsOnTariffsPageOnlyTrackExpandsNotCollapses: function(tariffName) {
        // #1 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses
        //console.log('#1 - Track Action - Expand Tariffs (on Tariffs Page) - only track expands, not collapses')

        // This tracking was implemented on VFPTMYVF-620 (#40) - please update to include more tariffs types

        /* Previous code
if(tariffs_type === "Yorn"){
    var event_label = "Yorn";
} else if(tariffs_type === "Vodafone Easy"){
    var event_label = "Vodafone Easy";
} else if(tariffs_type === "Vodafone World"){
    var event_label = "Vodafone World";
}  else if(tariffs_type === "Vodafone Direto"){
    var event_label = "Vodafone Direto";
}

utag.link({
    "event_action"          : "Tariff Category",
    "event_category"        : "Offers and Extras",
    "event"                 : ["event_instance"],
    "event_label"           : event_label,
    "event_value"           : "1",
    "visitor_login_status"  : "Logged In"
});
*/

        var event_label = tariffName; //get name of the cattegory

        utag.link({
            'event_action': 'Tariff Category',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPage: function() {
        // #3 - Track View - Switch from post-paid to post-paid Page
        if (window.utag) {
            this.firePaidPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPage() });
        }
    }, firePaidPage: function() {
        // #3 - Track View - Switch from post-paid to post-paid Page
        //console.log('#3 - Track View - Switch from post-paid to post-paid Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Confirm Billing Data',
            'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
            'visitor_login_status': 'Logged In'
        });
    }, handleOnlyTrackClickWhenButtonIsEnabledNoErrors: function(success, back_end_error, incompatible_product) {
        // #4 - Track Action - Click Continue (on Switch from post-paid to post-paid Page) - only track click when button is enabled (no errors)
        if (window.utag) {
            this.fireOnlyTrackClickWhenButtonIsEnabledNoErrors(success, back_end_error, incompatible_product)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOnlyTrackClickWhenButtonIsEnabledNoErrors(success, back_end_error, incompatible_product) });
        }
    }, fireOnlyTrackClickWhenButtonIsEnabledNoErrors: function(success, back_end_error, incompatible_product) {
        // #4 - Track Action - Click Continue (on Switch from post-paid to post-paid Page) - only track click when button is enabled (no errors)
        //console.log('#4 - Track Action - Click Continue (on Switch from post-paid to post-paid Page) - only track click when button is enabled (no errors)')

        var page_name_next;
        if (success) {
            page_name_next = 'Tariff Plan Changed with Success';
        } else if (back_end_error) {
            page_name_next = 'Error Changing Tariff Plan';
        } else if (incompatible_product) {
            page_name_next = 'Subscribe Incompatible Products ';
        }

        utag.link({
            'event_action': 'Confirm Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPageCancelPosToPos: function() {
        // #5 - Track Action - Click Cancel (on Switch from post-paid to post-paid Page)
        if (window.utag) {
            this.firePaidPageCancelPosToPos()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPageCancelPosToPos() });
        }
    }, firePaidPageCancelPosToPos: function() {
        // #5 - Track Action - Click Cancel (on Switch from post-paid to post-paid Page)
        //console.log('#5 - Track Action - Click Cancel (on Switch from post-paid to post-paid Page)')

        utag.link({
            'event_action': 'Confirm Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Change Tariff Plan',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPageDownloadConditions: function() {
        // #6 - Track Action - Click Download Terns & Conditions (on Switch from post-paid to post-paid Page)
        if (window.utag) {
            this.firePaidPageDownloadConditions()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPageDownloadConditions() });
        }
    }, firePaidPageDownloadConditions: function() {
        // #6 - Track Action - Click Download Terns & Conditions (on Switch from post-paid to post-paid Page)
        //console.log('#6 - Track Action - Click Download Terns & Conditions (on Switch from post-paid to post-paid Page)')

        utag.link({
            'event_action': 'Confirm Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Download Terms and Conditions PDF',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleTariffPlanChangedWithSuccessPage: function() {
        // #7 - Track View - Tariff Plan Changed with Success Page
        if (window.utag) {
            this.fireTariffPlanChangedWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTariffPlanChangedWithSuccessPage() });
        }
    }, fireTariffPlanChangedWithSuccessPage: function() {
        // #7 - Track View - Tariff Plan Changed with Success Page
        //console.log('#7 - Track View - Tariff Plan Changed with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Tariff Plan Changed with Success',
            'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPageAddRed: function() {
        // #8 - Track Action - Click Add More Red Number (on Switch from post-paid to post-paid Page)
        if (window.utag) {
            this.firePaidPageAddRed()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPageAddRed() });
        }
    }, firePaidPageAddRed: function() {
        // #8 - Track Action - Click Add More Red Number (on Switch from post-paid to post-paid Page)
        //console.log('#8 - Track Action - Click Add More Red Number (on Switch from post-paid to post-paid Page)')

        utag.link({
            'event_action': 'Tariff Plan Changed with Success',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Add Phone Number to Red Account',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPagePreToPos: function() {
        // #10 - Track View - Switch from pre-paid to post-paid Page
        if (window.utag) {
            this.firePaidPagePreToPos()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPagePreToPos() });
        }
    }, firePaidPagePreToPos: function() {
        // #10 - Track View - Switch from pre-paid to post-paid Page
        //console.log('#10 - Track View - Switch from pre-paid to post-paid Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Fill Billing Data',
            'page_section': 'My Vodafone:Offers and Extras:Tariff Plans:Change Tariff Plan',
            'visitor_login_status': 'Logged In'
        });
    }, handleOnlyTrackClickWhenButtonIsEnabledNoErrorsPreToPos: function(success, back_end_error, incompatible_product) {
        // #11 - Track Action - Click Continue (on Switch from pre-paid to post-paid Page) - only track click when button is enabled (no errors)
        if (window.utag) {
            this.fireOnlyTrackClickWhenButtonIsEnabledNoErrorsPreToPos(success, back_end_error, incompatible_product)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOnlyTrackClickWhenButtonIsEnabledNoErrorsPreToPos(success, back_end_error, incompatible_product) });
        }
    }, fireOnlyTrackClickWhenButtonIsEnabledNoErrorsPreToPos: function(success, back_end_error, incompatible_product) {
        // #11 - Track Action - Click Continue (on Switch from pre-paid to post-paid Page) - only track click when button is enabled (no errors)
        //console.log('#11 - Track Action - Click Continue (on Switch from pre-paid to post-paid Page) - only track click when button is enabled (no errors)')

        var page_name_next;
        if (success) {
            page_name_next = 'Tariff Plan Changed with Success';
        } else if (back_end_error) {
            page_name_next = 'Error Changing Tariff Plan';
        } else if (incompatible_product) {
            page_name_next = 'Subscribe Incompatible Products ';
        }

        utag.link({
            'event_action': 'Fill Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPageCancelPreToPos: function() {
        // #12 - Track Action - Click Cancel (on Switch from pre-paid to post-paid Page)
        if (window.utag) {
            this.firePaidPageCancelPreToPos()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPageCancelPreToPos() });
        }
    }, firePaidPageCancelPreToPos: function() {
        // #12 - Track Action - Click Cancel (on Switch from pre-paid to post-paid Page)
        //console.log('#12 - Track Action - Click Cancel (on Switch from pre-paid to post-paid Page)')

        utag.link({
            'event_action': 'Fill Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Change Tariff Plan',
            'visitor_login_status': 'Logged In'
        });
    }, handlePaidPageDownloadConditionsPreToPos: function() {
        // #13 - Track Action - Click Download Terns & Conditions (on Switch from pre-paid to post-paid Page)
        if (window.utag) {
            this.firePaidPageDownloadConditionsPreToPos()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaidPageDownloadConditionsPreToPos() });
        }
    }, firePaidPageDownloadConditionsPreToPos: function() {
        // #13 - Track Action - Click Download Terns & Conditions (on Switch from pre-paid to post-paid Page)
        //console.log('#13 - Track Action - Click Download Terns & Conditions (on Switch from pre-paid to post-paid Page)')

        utag.link({
            'event_action': 'Fill Billing Data to Change Tariff Plan',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Download Terms and Conditions PDF',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses: function(serviceName) {
        // #14 - Track Action - Expand Services (on Services Page) - only track expands, not collapses
        if (window.utag) {
            this.fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses(serviceName)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses(serviceName) });
        }
    }, fireExpandServicesOnServicesPageOnlyTrackExpandsNotCollapses: function(serviceName) {
        // #14 - Track Action - Expand Services (on Services Page) - only track expands, not collapses
        //console.log('#14 - Track Action - Expand Services (on Services Page) - only track expands, not collapses')

        // This tracking was implemented on VFPTMYVF-620 (#29) - please update to include more service types

        /* Previous code

if(service_type === "Confidentiality"){
    var event_label = "Confidentiality";
} else if(service_type === "Voice Mail"){
    var event_label = "Voice Mail";
} else if(service_type === "Roaming"){
    var event_label = "Roaming";
}

utag.link({
    "event_action"          : "Available Services",
    "event_category"        : "Offers and Extras",
    "event"                 : ["event_instance"],
    "event_label"           : event_label,
    "event_value"           : "1",
    "visitor_login_status"  : "Logged In"
});

*/
        var event_label = serviceName; //get name of the service

        utag.link({
            'event_action': 'Available Services',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSubscribeVoiceMailPage: function() {
        // #15 - Track View - Subscribe Voice Mail Page
        if (window.utag) {
            this.fireSubscribeVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribeVoiceMailPage() });
        }
    }, fireSubscribeVoiceMailPage: function() {
        // #15 - Track View - Subscribe Voice Mail Page
        //console.log('#15 - Track View - Subscribe Voice Mail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Subscribe Voice Mail',
            'page_section': 'My Vodafone:Offers and Extras:Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectProfileTypeOnSubscribeVoiceMailPage: function(voice_mail_type) {
        // #16 - Track Action - Select Profile Type (on Subscribe Voice Mail Page)
        if (window.utag) {
            this.fireSelectProfileTypeOnSubscribeVoiceMailPage(voice_mail_type)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectProfileTypeOnSubscribeVoiceMailPage(voice_mail_type) });
        }
    }, fireSelectProfileTypeOnSubscribeVoiceMailPage: function(voice_mail_type) {
        // #16 - Track Action - Select Profile Type (on Subscribe Voice Mail Page)
        //console.log('#16 - Track Action - Select Profile Type (on Subscribe Voice Mail Page)')

        var event_label = voice_mail_type;

        utag.link({
            'event_action': 'Subscribe Voice Mail - Profile',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnSubscribeVoiceMailPage: function(success) {
        // #17 - Track Action - Click Continue (on Subscribe Voice Mail Page)
        if (window.utag) {
            this.fireClickContinueOnSubscribeVoiceMailPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnSubscribeVoiceMailPage(success) });
        }
    }, fireClickContinueOnSubscribeVoiceMailPage: function(success) {
        // #17 - Track Action - Click Continue (on Subscribe Voice Mail Page)
        //console.log('#17 - Track Action - Click Continue (on Subscribe Voice Mail Page)')

        var page_name_next;
        if (success) {
            page_name_next = 'Voice Mail Subscribed with Success';
        } else {
            page_name_next = 'Error Subscribing Voice Mail';
        }

        utag.link({
            'event_action': 'Subscribe Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnSubscribeVoiceMailPage: function() {
        // #18 - Track Action - Click Return (on Subscribe Voice Mail Page)
        if (window.utag) {
            this.fireClickReturnOnSubscribeVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnSubscribeVoiceMailPage() });
        }
    }, fireClickReturnOnSubscribeVoiceMailPage: function() {
        // #18 - Track Action - Click Return (on Subscribe Voice Mail Page)
        //console.log('#18 - Track Action - Click Return (on Subscribe Voice Mail Page)')

        utag.link({
            'event_action': 'Subscribe Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleSubscribeVoiceMailWithSuccessPage: function() {
        // #19 - Track View - Subscribe Voice Mail with Success Page
        if (window.utag) {
            this.fireSubscribeVoiceMailWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribeVoiceMailWithSuccessPage() });
        }
    }, fireSubscribeVoiceMailWithSuccessPage: function() {
        // #19 - Track View - Subscribe Voice Mail with Success Page
        //console.log('#19 - Track View - Subscribe Voice Mail with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Voice Mail Subscribed with Success',
            'page_section': 'My Vodafone:Offers and Extras:Services:Subscribe Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSubscribingVoiceMailPage: function() {
        // #20 - Track View - Error Subscribing Voice Mail Page
        if (window.utag) {
            this.fireErrorSubscribingVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSubscribingVoiceMailPage() });
        }
    }, fireErrorSubscribingVoiceMailPage: function() {
        // #20 - Track View - Error Subscribing Voice Mail Page
        //console.log('#20 - Track View - Error Subscribing Voice Mail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Subscribing Voice Mail',
            'page_section': 'My Vodafone:Offers and Extras:Services:Subscribe Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleActiveVoiceMailPage: function() {
        // #21 - Track View - Active Voice Mail Page
        if (window.utag) {
            this.fireActiveVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireActiveVoiceMailPage() });
        }
    }, fireActiveVoiceMailPage: function() {
        // #21 - Track View - Active Voice Mail Page
        //console.log('#21 - Track View - Active Voice Mail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Active Voice Mail',
            'page_section': 'My Vodafone:Offers and Extras:Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickResetPinOnActiveVoiceMailPage: function() {
        // #22 - Track Action - Click Reset PIN (on Active Voice Mail Page)
        if (window.utag) {
            this.fireClickResetPinOnActiveVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickResetPinOnActiveVoiceMailPage() });
        }
    }, fireClickResetPinOnActiveVoiceMailPage: function() {
        // #22 - Track Action - Click Reset PIN (on Active Voice Mail Page)
        //console.log('#22 - Track Action - Click Reset PIN (on Active Voice Mail Page)')

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Reset Pin',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSendSMSOnActiveVoiceMailPage: function(success) {
        // #23 - Track Action - Click Reset PIN (on Active Voice Mail Page)
        if (window.utag) {
            this.fireClickSendSMSOnActiveVoiceMailPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSendSMSOnActiveVoiceMailPage(success) });
        }
    }, fireClickSendSMSOnActiveVoiceMailPage: function(success) {
        // #23 - Track Action - Click Reset PIN (on Active Voice Mail Page)
        //console.log('#23 - Track Action - Click Reset PIN (on Active Voice Mail Page)')

        var page_name_next;
        if (success) {
            page_name_next = 'Sms with New Pin Sent with Success';
        } else {
            page_name_next = 'Error Sending Sms with New Pin';
        }

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Send New Pin via SMS',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleSmsSentWithSuccessPage: function() {
        // #24 - Track View - SMS Sent with Success Page
        if (window.utag) {
            this.fireSmsSentWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSmsSentWithSuccessPage() });
        }
    }, fireSmsSentWithSuccessPage: function() {
        // #24 - Track View - SMS Sent with Success Page
        //console.log('#24 - Track View - SMS Sent with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Sms with New Pin Sent with Success',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorSendingSmsSentPage: function() {
        // #25 - Track View - Error Sending SMS Sent Page
        if (window.utag) {
            this.fireErrorSendingSmsSentPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSendingSmsSentPage() });
        }
    }, fireErrorSendingSmsSentPage: function() {
        // #25 - Track View - Error Sending SMS Sent Page
        //console.log('#25 - Track View - Error Sending SMS Sent Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Sending Sms with New Pin',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectProfileTypeOnActiveVoiceMailPage: function(voice_mail_type) {
        // #26 - Track Action - Select Profile Type (on Active Voice Mail Page)
        if (window.utag) {
            this.fireSelectProfileTypeOnActiveVoiceMailPage(voice_mail_type)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectProfileTypeOnActiveVoiceMailPage(voice_mail_type) });
        }
    }, fireSelectProfileTypeOnActiveVoiceMailPage: function(voice_mail_type) {
        // #26 - Track Action - Select Profile Type (on Active Voice Mail Page)
        //console.log('#26 - Track Action - Select Profile Type (on Active Voice Mail Page)')

        var event_label = 'Change to ' + voice_mail_type;

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectForwardTypeOnActiveVoiceMailPage: function(forward_type) {
        // #27 - Track Action - Select Forward Type (on Active Voice Mail Page)
        if (window.utag) {
            this.fireSelectForwardTypeOnActiveVoiceMailPage(forward_type)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectForwardTypeOnActiveVoiceMailPage(forward_type) });
        }
    }, fireSelectForwardTypeOnActiveVoiceMailPage: function(forward_type) {
        // #27 - Track Action - Select Forward Type (on Active Voice Mail Page)
        //console.log('#27 - Track Action - Select Forward Type (on Active Voice Mail Page)')

        var event_label;
        if (forward_type === 'Forward All Calls') {
            event_label = 'Forward All Calls';
        } else if (forward_type === 'Forward When Busy') {
            event_label = 'Forward When Busy';
        } else if (forward_type === 'Forward When Not Answering') {
            event_label = 'Forward When Not Answering';
        } else if (forward_type === 'Forward When Not Available') {
            event_label = 'Forward When Not Available';
        } else if (forward_type === 'Never Forward') {
            event_label = 'Never Forward';
        }

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickSaveChangesOnActiveVoiceMailPage: function(success) {
        // #28 - Track Action - Click Save Changes (on Active Voice Mail Page)
        if (window.utag) {
            this.fireClickSaveChangesOnActiveVoiceMailPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSaveChangesOnActiveVoiceMailPage(success) });
        }
    }, fireClickSaveChangesOnActiveVoiceMailPage: function(success) {
        // #28 - Track Action - Click Save Changes (on Active Voice Mail Page)
        //console.log('#28 - Track Action - Click Save Changes (on Active Voice Mail Page)')

        var page_name_next;
        if (success) {
            page_name_next = 'Voice Mail Settings Changed with Success';
        } else {
            page_name_next = 'Error Changing Voice Mail Settings';
        }

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Save Changes',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleChangeVoiceMailSettingsWithSuccessPage: function() {
        // #29 - Track View - Change Voice Mail Settings with Success Page
        if (window.utag) {
            this.fireChangeVoiceMailSettingsWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChangeVoiceMailSettingsWithSuccessPage() });
        }
    }, fireChangeVoiceMailSettingsWithSuccessPage: function() {
        // #29 - Track View - Change Voice Mail Settings with Success Page
        //console.log('#29 - Track View - Change Voice Mail Settings with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Voice Mail Settings Changed with Success',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnChangeVoiceMailSettingsWithSuccessPageOnlyTrackClickWhenButtonIsEnabledNoErrors: function() {
        // #30 - Track Action - Click Continue (on Change Voice Mail Settings with Success Page) - only track click when button is enabled (no errors)
        if (window.utag) {
            this.fireClickContinueOnChangeVoiceMailSettingsWithSuccessPageOnlyTrackClickWhenButtonIsEnabledNoErrors()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnChangeVoiceMailSettingsWithSuccessPageOnlyTrackClickWhenButtonIsEnabledNoErrors() });
        }
    }, fireClickContinueOnChangeVoiceMailSettingsWithSuccessPageOnlyTrackClickWhenButtonIsEnabledNoErrors: function() {
        // #30 - Track Action - Click Continue (on Change Voice Mail Settings with Success Page) - only track click when button is enabled (no errors)
        //console.log('#30 - Track Action - Click Continue (on Change Voice Mail Settings with Success Page) - only track click when button is enabled (no errors)')

        utag.link({
            'event_action': 'Voice Mail Settings Changed with Success',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorChangingVoiceMailSettingsPage: function() {
        // #31 - Track View - Error Changing Voice Mail Settings Page
        if (window.utag) {
            this.fireErrorChangingVoiceMailSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorChangingVoiceMailSettingsPage() });
        }
    }, fireErrorChangingVoiceMailSettingsPage: function() {
        // #31 - Track View - Error Changing Voice Mail Settings Page
        //console.log('#31 - Track View - Error Changing Voice Mail Settings Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Changing Voice Mail Settings',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnErrorChangingVoiceMailSettingsPageOnlyTrackClickWhenButtonIsEnabledNoErrors: function() {
        // #32 - Track Action - Click Continue (on Error Changing Voice Mail Settings Page) - only track click when button is enabled (no errors)
        if (window.utag) {
            this.fireClickContinueOnErrorChangingVoiceMailSettingsPageOnlyTrackClickWhenButtonIsEnabledNoErrors()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnErrorChangingVoiceMailSettingsPageOnlyTrackClickWhenButtonIsEnabledNoErrors() });
        }
    }, fireClickContinueOnErrorChangingVoiceMailSettingsPageOnlyTrackClickWhenButtonIsEnabledNoErrors: function() {
        // #32 - Track Action - Click Continue (on Error Changing Voice Mail Settings Page) - only track click when button is enabled (no errors)
        //console.log('#32 - Track Action - Click Continue (on Error Changing Voice Mail Settings Page) - only track click when button is enabled (no errors)')

        utag.link({
            'event_action': 'Error Changing Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnErrorChangingVoiceMailSettingsPage: function() {
        // #33 - Track Action - Click Return (on Error Changing Voice Mail Settings Page)
        if (window.utag) {
            this.fireClickReturnOnErrorChangingVoiceMailSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnErrorChangingVoiceMailSettingsPage() });
        }
    }, fireClickReturnOnErrorChangingVoiceMailSettingsPage: function() {
        // #33 - Track Action - Click Return (on Error Changing Voice Mail Settings Page)
        //console.log('#33 - Track Action - Click Return (on Error Changing Voice Mail Settings Page)')

        utag.link({
            'event_action': 'Error Changing Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickDeactivateVoiceMailOnActiveVoiceMailPage: function() {
        // #34 - Track Action - Click Deactivate Voice Mail (on Active Voice Mail Page)
        if (window.utag) {
            this.fireClickDeactivateVoiceMailOnActiveVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickDeactivateVoiceMailOnActiveVoiceMailPage() });
        }
    }, fireClickDeactivateVoiceMailOnActiveVoiceMailPage: function() {
        // #34 - Track Action - Click Deactivate Voice Mail (on Active Voice Mail Page)
        //console.log('#34 - Track Action - Click Deactivate Voice Mail (on Active Voice Mail Page)')

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Deactivate Voice Mail',
            'event_value': '1',
            'page_name_next': 'Deactivate Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnActiveVoiceMailPage: function() {
        // #35 - Track Action - Click Return (on Active Voice Mail Page)
        if (window.utag) {
            this.fireClickReturnOnActiveVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnActiveVoiceMailPage() });
        }
    }, fireClickReturnOnActiveVoiceMailPage: function() {
        // #35 - Track Action - Click Return (on Active Voice Mail Page)
        //console.log('#35 - Track Action - Click Return (on Active Voice Mail Page)')

        utag.link({
            'event_action': 'Change Voice Mail Settings',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleDeactivateVoiceMailPage: function() {
        // #36 - Track View - Deactivate Voice Mail Page
        if (window.utag) {
            this.fireDeactivateVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDeactivateVoiceMailPage() });
        }
    }, fireDeactivateVoiceMailPage: function() {
        // #36 - Track View - Deactivate Voice Mail Page
        //console.log('#36 - Track View - Deactivate Voice Mail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Deactivate Voice Mail',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmOnDeactivateVoiceMailPage: function(success) {
        // #37 - Track Action - Click Confirm (on Deactivate Voice Mail Page)
        if (window.utag) {
            this.fireClickConfirmOnDeactivateVoiceMailPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmOnDeactivateVoiceMailPage(success) });
        }
    }, fireClickConfirmOnDeactivateVoiceMailPage: function(success) {
        // #37 - Track Action - Click Confirm (on Deactivate Voice Mail Page)
        //console.log('#37 - Track Action - Click Confirm (on Deactivate Voice Mail Page)')

        var page_name_next;
        if (success) {
            page_name_next = 'Voice Mail Deactivated with Success';
        } else {
            page_name_next = 'Error Deactivating Voice Mail';
        }

        utag.link({
            'event_action': 'Deactivate Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnDeactivateVoiceMailPage: function() {
        // #38 - Track Action - Click Return (on Deactivate Voice Mail Page)
        if (window.utag) {
            this.fireClickReturnOnDeactivateVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnDeactivateVoiceMailPage() });
        }
    }, fireClickReturnOnDeactivateVoiceMailPage: function() {
        // #38 - Track Action - Click Return (on Deactivate Voice Mail Page)
        //console.log('#38 - Track Action - Click Return (on Deactivate Voice Mail Page)')

        utag.link({
            'event_action': 'Deactivate Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleVoiceMailDeactivatedWithSuccessPage: function() {
        // #39 - Track View - Voice Mail Deactivated with Success Page
        if (window.utag) {
            this.fireVoiceMailDeactivatedWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireVoiceMailDeactivatedWithSuccessPage() });
        }
    }, fireVoiceMailDeactivatedWithSuccessPage: function() {
        // #39 - Track View - Voice Mail Deactivated with Success Page
        //console.log('#39 - Track View - Voice Mail Deactivated with Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Voice Mail Deactivated with Success',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail:Deactivate Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnVoiceMailDeactivatedWithSuccessPage: function() {
        // #40 - Track Action - Click Continue (on Voice Mail Deactivated with Success Page)
        if (window.utag) {
            this.fireClickContinueOnVoiceMailDeactivatedWithSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnVoiceMailDeactivatedWithSuccessPage() });
        }
    }, fireClickContinueOnVoiceMailDeactivatedWithSuccessPage: function() {
        // #40 - Track Action - Click Continue (on Voice Mail Deactivated with Success Page)
        //console.log('#40 - Track Action - Click Continue (on Voice Mail Deactivated with Success Page)')

        utag.link({
            'event_action': 'Voice Mail Deactivated with Success',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleErrorDeactivatingVoiceMailPage: function() {
        // #41 - Track View - Error Deactivating Voice Mail Page
        if (window.utag) {
            this.fireErrorDeactivatingVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorDeactivatingVoiceMailPage() });
        }
    }, fireErrorDeactivatingVoiceMailPage: function() {
        // #41 - Track View - Error Deactivating Voice Mail Page
        //console.log('#41 - Track View - Error Deactivating Voice Mail Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Deactivating Voice Mail',
            'page_section': 'My Vodafone:Offers and Extras:Services:Active Voice Mail:Deactivate Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnErrorDeactivatingVoiceMailPage: function() {
        // #42 - Track Action - Click Continue (on Error Deactivating Voice Mail Page)
        if (window.utag) {
            this.fireClickContinueOnErrorDeactivatingVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnErrorDeactivatingVoiceMailPage() });
        }
    }, fireClickContinueOnErrorDeactivatingVoiceMailPage: function() {
        // #42 - Track Action - Click Continue (on Error Deactivating Voice Mail Page)
        //console.log('#42 - Track Action - Click Continue (on Error Deactivating Voice Mail Page)')

        utag.link({
            'event_action': 'Error Deactivating Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Services',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnErrorDeactivatingVoiceMailPage: function() {
        // #43 - Track Action - Click Return (on Error Deactivating Voice Mail Page)
        if (window.utag) {
            this.fireClickReturnOnErrorDeactivatingVoiceMailPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnErrorDeactivatingVoiceMailPage() });
        }
    }, fireClickReturnOnErrorDeactivatingVoiceMailPage: function() {
        // #43 - Track Action - Click Return (on Error Deactivating Voice Mail Page)
        //console.log('#43 - Track Action - Click Return (on Error Deactivating Voice Mail Page)')

        utag.link({
            'event_action': 'Error Deactivating Voice Mail',
            'event_category': 'Offers and Extras',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Active Voice Mail',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_offers_and_extras3 = {
    methods: {
        handleClickCancelSubscriptionOnServicesPage: function () {
            // #1 - Track Action - Click Cancel Subscription (on Services Page)
            if (window.utag) {
                this.fireClickCancelSubscriptionOnServicesPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickCancelSubscriptionOnServicesPage()
                });
            }
        }, fireClickCancelSubscriptionOnServicesPage: function () {
            // #1 - Track Action - Click Cancel Subscription (on Services Page)
            //console.log('#1 - Track Action - Click Cancel Subscription (on Services Page)')

            utag.link({
                'event_action': 'Active Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Remove Active Service',
                'event_value': '1',
                'page_name_next': 'Remove Active Service',
                'visitor_login_status': 'Logged In'
            });
        }, handleDeactivationServiceSuccessPage: function () {
            // #2 - Track View - Deactivation Service Success Page
            if (window.utag) {
                this.fireDeactivationServiceSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireDeactivationServiceSuccessPage()
                });
            }
        }, fireDeactivationServiceSuccessPage: function () {
            // #2 - Track View - Deactivation Service Success Page
            //console.log('#2 - Track View - Deactivation Service Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Service Removed with Success',
                'page_section': 'My Vodafone:Offers and Extras:Services:Active Service',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickContinueOnDeactivationServiceSuccessPage: function () {
            // #3 - Track Action - Click Continue (on Deactivation Service Success Page)
            if (window.utag) {
                this.fireClickContinueOnDeactivationServiceSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnDeactivationServiceSuccessPage()
                });
            }
        }, fireClickContinueOnDeactivationServiceSuccessPage: function () {
            // #3 - Track Action - Click Continue (on Deactivation Service Success Page)
            //console.log('#3 - Track Action - Click Continue (on Deactivation Service Success Page)')

            utag.link({
                'event_action': 'Service Removed with Success',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        }, handleDeactivationServiceErrorPage: function () {
            // #4 - Track View - Deactivation Service Error Page
            if (window.utag) {
                this.fireDeactivationServiceErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireDeactivationServiceErrorPage()
                });
            }
        }, fireDeactivationServiceErrorPage: function () {
            // #4 - Track View - Deactivation Service Error Page
            //console.log('#4 - Track View - Deactivation Service Error Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Removing Service',
                'page_section': 'My Vodafone:Offers and Extras:Services:Active Service',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickContinueOnDeactivationServiceErrorPage: function () {
            // #5 - Track Action - Click Continue (on Deactivation Service Error Page)
            if (window.utag) {
                this.fireClickContinueOnDeactivationServiceErrorPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnDeactivationServiceErrorPage()
                });
            }
        }, fireClickContinueOnDeactivationServiceErrorPage: function () {
            // #5 - Track Action - Click Continue (on Deactivation Service Error Page)
            //console.log('#5 - Track Action - Click Continue (on Deactivation Service Error Page)')

            utag.link({
                'event_action': 'Error Removing Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickCallForwardingOnServicesPage: function (service_active) {
            // #6 - Track Action - Click Call Forwarding (on Services Page)
            if (window.utag) {
                this.fireClickCallForwardingOnServicesPage(service_active)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickCallForwardingOnServicesPage(service_active)
                });
            }
        }, fireClickCallForwardingOnServicesPage: function (service_active) {
            // #6 - Track Action - Click Call Forwarding (on Services Page)
            //console.log('#6 - Track Action - Click Call Forwarding (on Services Page)')

            var page_name_next;
            if (service_active) {
                page_name_next = 'Active Service';
            } else {
                page_name_next = 'Subscribe Service';
            }

            utag.link({
                'event_action': 'Available Services',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': '<<Service Name>>',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        }, handleServiceSubscribedPage: function () {
            // #7 - Track View - Service Subscribed Page
            if (window.utag) {
                this.fireServiceSubscribedPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireServiceSubscribedPage()
                });
            }
        }, fireServiceSubscribedPage: function () {
            // #7 - Track View - Service Subscribed Page
            //console.log('#7 - Track View - Service Subscribed Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Active Service',
                'page_section': 'My Vodafone:Offers and Extras:Services',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickReturnOnServiceSubscribedPage: function () {
            // #8 - Track Action - Click Return (on Service Subscribed Page)
            if (window.utag) {
                this.fireClickReturnOnServiceSubscribedPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickReturnOnServiceSubscribedPage()
                });
            }
        }, fireClickReturnOnServiceSubscribedPage: function () {
            // #8 - Track Action - Click Return (on Service Subscribed Page)
            //console.log('#8 - Track Action - Click Return (on Service Subscribed Page)')

            utag.link({
                'event_action': 'Active Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickSaveChangesOnServiceSubscribedPage: function (success) {
            // #9 - Track Action - Click Save Changes (on Service Subscribed Page)
            if (window.utag) {
                this.fireClickSaveChangesOnServiceSubscribedPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickSaveChangesOnServiceSubscribedPage(success)
                });
            }
        }, fireClickSaveChangesOnServiceSubscribedPage: function (success) {
            // #9 - Track Action - Click Save Changes (on Service Subscribed Page)
            //console.log('#9 - Track Action - Click Save Changes (on Service Subscribed Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Changes in Call Forwarding Saved with Success';
            } else {
                page_name_next = 'Error Saving Call Forwarding Changes';
            }

            utag.link({
                'event_action': 'Active Service',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Save Call Forwarding Changes',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        }, handleCallForwardingSavedWithSuccessPage: function () {
            // #10 - Track View - Call Forwarding Saved with Success Page
            if (window.utag) {
                this.fireCallForwardingSavedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireCallForwardingSavedWithSuccessPage()
                });
            }
        }, fireCallForwardingSavedWithSuccessPage: function () {
            // #10 - Track View - Call Forwarding Saved with Success Page
            //console.log('#10 - Track View - Call Forwarding Saved with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Changes in Call Forwarding Saved with Success',
                'page_section': 'My Vodafone:Offers and Extras:Services:Active Service',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickContinueOnCallForwardingSavedWithSuccessPage: function () {
            // #11 - Track Action - Click Continue (on Call Forwarding Saved with Success Page)
            if (window.utag) {
                this.fireClickContinueOnCallForwardingSavedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnCallForwardingSavedWithSuccessPage()
                });
            }
        }, fireClickContinueOnCallForwardingSavedWithSuccessPage: function () {
            // #11 - Track Action - Click Continue (on Call Forwarding Saved with Success Page)
            //console.log('#11 - Track Action - Click Continue (on Call Forwarding Saved with Success Page)')

            utag.link({
                'event_action': 'Changes in Call Forwarding Saved with Success',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        }, handleErrorSavingCallForwardingPage: function () {
            // #12 - Track View - Error Saving Call Forwarding Page
            if (window.utag) {
                this.fireErrorSavingCallForwardingPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorSavingCallForwardingPage()
                });
            }
        }, fireErrorSavingCallForwardingPage: function () {
            // #12 - Track View - Error Saving Call Forwarding Page
            //console.log('#12 - Track View - Error Saving Call Forwarding Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Saving Call Forwarding Changes',
                'page_section': 'My Vodafone:Offers and Extras:Services:Active Service',
                'visitor_login_status': 'Logged In'
            });
        }, handleClickContinueOnErrorSavingCallForwardingPage: function () {
            // #13 - Track Action - Click Continue (on Error Saving Call Forwarding Page)
            if (window.utag) {
                this.fireClickContinueOnErrorSavingCallForwardingPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireClickContinueOnErrorSavingCallForwardingPage()
                });
            }
        }, fireClickContinueOnErrorSavingCallForwardingPage: function () {
            // #13 - Track Action - Click Continue (on Error Saving Call Forwarding Page)
            //console.log('#13 - Track Action - Click Continue (on Error Saving Call Forwarding Page)')

            utag.link({
                'event_action': 'Error Saving Call Forwarding Changes',
                'event_category': 'Offers and Extras',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Services',
                'visitor_login_status': 'Logged In'
            });
        }
    }
};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_settings_tracking3 = {
    methods: {handleClickManagePermissionsOnSettingsPage: function() {
        // #1 - Track Action - Click Manage Permissions (on Settings Page)
        if (window.utag) {
            this.fireClickManagePermissionsOnSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickManagePermissionsOnSettingsPage() });
        }
    }, fireClickManagePermissionsOnSettingsPage: function() {
        // #1 - Track Action - Click Manage Permissions (on Settings Page)
        //console.log('#1 - Track Action - Click Manage Permissions (on Settings Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Manage Permissions',
            'event_value': '1',
            'page_name_next': 'Privacy Portal',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickPrivacyPolicyOnSettingsPage: function() {
        // #2 - Track Action - Click Privacy Policy (on Settings Page)
        if (window.utag) {
            this.fireClickPrivacyPolicyOnSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickPrivacyPolicyOnSettingsPage() });
        }
    }, fireClickPrivacyPolicyOnSettingsPage: function() {
        // #2 - Track Action - Click Privacy Policy (on Settings Page)
        //console.log('#2 - Track Action - Click Privacy Policy (on Settings Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'See Privacy Policy',
            'event_value': '1',
            'page_name_next': 'Privacy Portal',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickTermsconditionsOnSettingsPage: function() {
        // #3 - Track Action - Click Terms & Conditions (on Settings Page)
        if (window.utag) {
            this.fireClickTermsconditionsOnSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTermsconditionsOnSettingsPage() });
        }
    }, fireClickTermsconditionsOnSettingsPage: function() {
        // #3 - Track Action - Click Terms & Conditions (on Settings Page)
        //console.log('#3 - Track Action - Click Terms & Conditions (on Settings Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'See Terms and Conditions',
            'event_value': '1',
            'page_name_next': 'Terms and Conditions',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickDeactivateSimCardOnSettingsPage: function() {
        // #4 - Track Action - Click Deactivate Sim Card (on Settings Page)
        if (window.utag) {
            this.fireClickDeactivateSimCardOnSettingsPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickDeactivateSimCardOnSettingsPage() });
        }
    }, fireClickDeactivateSimCardOnSettingsPage: function() {
        // #4 - Track Action - Click Deactivate Sim Card (on Settings Page)
        //console.log('#4 - Track Action - Click Deactivate Sim Card (on Settings Page)')

        utag.link({
            'event_action': 'Manage Personal Information',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Manage Sim Card',
            'event_value': '1',
            'page_name_next': 'Manage Sim Card',
            'visitor_login_status': 'Logged In'
        });
    }, handleDeactivateSimCardPage: function() {
        // #5 - Track View - Deactivate SIM Card Page
        if (window.utag) {
            this.fireDeactivateSimCardPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDeactivateSimCardPage() });
        }
    }, fireDeactivateSimCardPage: function() {
        // #5 - Track View - Deactivate SIM Card Page
        //console.log('#5 - Track View - Manage SIM Card Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Manage Sim Card',
            'page_section': 'My Vodafone:Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectMotiveOnDeactivateSimCardPage: function(motive) {
        // #6 - Track Action - Select Motive (on Deactivate SIM Card Page)
        if (window.utag) {
            this.fireSelectMotiveOnDeactivateSimCardPage(motive)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectMotiveOnDeactivateSimCardPage(motive) });
        }
    }, fireSelectMotiveOnDeactivateSimCardPage: function(motive) {
        // #6 - Track Action - Select Motive (on Deactivate SIM Card Page)
        //console.log('#6 - Track Action - Select Motive (on Deactivate SIM Card Page)')

        var event_label;
        if (motive === 'Lost') {
            event_label = 'Motive - Lost';
        } else if (motive === 'Stolen') {
            event_label = 'Motive - Stolen';
        }

        utag.link({
            'event_action': 'Deactivate Sim Card',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleEnableBlockDeviceOnDeactivateSimCardPageOnlySendOnCheckboxEnableNotOnDisable: function() {
        // #7 - Track Action - Enable Block Device (on Deactivate SIM Card Page) - only send on checkbox enable, not on disable
        if (window.utag) {
            this.fireEnableBlockDeviceOnDeactivateSimCardPageOnlySendOnCheckboxEnableNotOnDisable()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEnableBlockDeviceOnDeactivateSimCardPageOnlySendOnCheckboxEnableNotOnDisable() });
        }
    }, fireEnableBlockDeviceOnDeactivateSimCardPageOnlySendOnCheckboxEnableNotOnDisable: function() {
        // #7 - Track Action - Enable Block Device (on Deactivate SIM Card Page) - only send on checkbox enable, not on disable
        //console.log('#7 - Track Action - Enable Block Device (on Deactivate SIM Card Page) - only send on checkbox enable, not on disable')

        utag.link({
            'event_action': 'Deactivate Sim Card',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Enable to Block Device',
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleSelectSimCardRequestOnDeactivateSimCardPage: function(card_type) {
        // #8 - Track Action - Select SIM Card Request (on Deactivate SIM Card Page)
        if (window.utag) {
            this.fireSelectSimCardRequestOnDeactivateSimCardPage(card_type)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSelectSimCardRequestOnDeactivateSimCardPage(card_type) });
        }
    }, fireSelectSimCardRequestOnDeactivateSimCardPage: function(card_type) {
        // #8 - Track Action - Select SIM Card Request (on Deactivate SIM Card Page)
        //console.log('#8 - Track Action - Select SIM Card Request (on Deactivate SIM Card Page)')

        var event_label;
        if (card_type === 'Normal') {
            event_label = 'Request Normal SIM';
        } else if (card_type === 'Micro') {
            event_label = 'Request Micro SIM';
        } else if (card_type === 'Nano') {
            event_label = 'Request Nano SIM';
        } else if (card_type === 'DUO') {
            event_label = 'Request Duo SIM';
        }

        utag.link({
            'event_action': 'Deactivate Sim Card',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': event_label,
            'event_value': '1',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDeactivateSimCardPage: function() {
        // #9 - Track Action - Click Continue (on Deactivate SIM Card Page)
        if (window.utag) {
            this.fireClickContinueOnDeactivateSimCardPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDeactivateSimCardPage() });
        }
    }, fireClickContinueOnDeactivateSimCardPage: function() {
        // #9 - Track Action - Click Continue (on Deactivate SIM Card Page)
        //console.log('#9 - Track Action - Click Continue (on Deactivate SIM Card Page)')

        utag.link({
            'event_action': 'Deactivate Sim Card',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Confirm Sim Card Deactivation',
            'visitor_login_status': 'Logged In'
        });
    }, handleDeactivateSimCardConfirmationPage: function() {
        // #10 - Track View - Deactivate SIM Card Confirmation Page
        if (window.utag) {
            this.fireDeactivateSimCardConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDeactivateSimCardConfirmationPage() });
        }
    }, fireDeactivateSimCardConfirmationPage: function() {
        // #10 - Track View - Deactivate SIM Card Confirmation Page
        //console.log('#10 - Track View - Deactivate SIM Card Confirmation Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Confirm Sim Card Deactivation',
            'page_section': 'My Vodafone:Settings:Deactivate Sim Card',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickReturnOnDeactivateSimCardConfirmationPage: function() {
        // #11 - Track Action - Click Return (on Deactivate SIM Card Confirmation Page)
        if (window.utag) {
            this.fireClickReturnOnDeactivateSimCardConfirmationPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickReturnOnDeactivateSimCardConfirmationPage() });
        }
    }, fireClickReturnOnDeactivateSimCardConfirmationPage: function() {
        // #11 - Track Action - Click Return (on Deactivate SIM Card Confirmation Page)
        //console.log('#11 - Track Action - Click Return (on Deactivate SIM Card Confirmation Page)')

        utag.link({
            'event_action': 'Confirm Sim Card Deactivation',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Return',
            'event_value': '1',
            'page_name_next': 'Deactivate Sim Card',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickConfirmOnDeactivateSimCardConfirmationPage: function(success) {
        // #12 - Track Action - Click Confirm (on Deactivate SIM Card Confirmation Page)
        if (window.utag) {
            this.fireClickConfirmOnDeactivateSimCardConfirmationPage(success)
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickConfirmOnDeactivateSimCardConfirmationPage(success) });
        }
    }, fireClickConfirmOnDeactivateSimCardConfirmationPage: function(success) {
        // #12 - Track Action - Click Confirm (on Deactivate SIM Card Confirmation Page)
        //console.log('#12 - Track Action - Click Confirm (on Deactivate SIM Card Confirmation Page)')

        var page_name_next;
        if (success) {
            page_name_next = 'Sim Card Deactivated with Success';
        } else {
            page_name_next = 'Error Deactivating Sim Card';
        }

        utag.link({
            'event_action': 'Confirm Sim Card Deactivation',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Confirm',
            'event_value': '1',
            'page_name_next': page_name_next,
            'visitor_login_status': 'Logged In'
        });
    }, handleDeactivateSimCardSuccessPage: function() {
        // #13 - Track View - Deactivate SIM Card Success Page
        if (window.utag) {
            this.fireDeactivateSimCardSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDeactivateSimCardSuccessPage() });
        }
    }, fireDeactivateSimCardSuccessPage: function() {
        // #13 - Track View - Deactivate SIM Card Success Page
        //console.log('#13 - Track View - Deactivate SIM Card Success Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Sim Card Deactivated with Success',
            'page_section': 'My Vodafone:Settings:Deactivate Sim Card:Confirm Sim Card Deactivation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDeactivateSimCardSuccessPage: function() {
        // #14 - Track Action - Click Continue (on Deactivate SIM Card Success Page)
        if (window.utag) {
            this.fireClickContinueOnDeactivateSimCardSuccessPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDeactivateSimCardSuccessPage() });
        }
    }, fireClickContinueOnDeactivateSimCardSuccessPage: function() {
        // #14 - Track Action - Click Continue (on Deactivate SIM Card Success Page)
        //console.log('#14 - Track Action - Click Continue (on Deactivate SIM Card Success Page)')

        utag.link({
            'event_action': 'Sim Card Deactivated with Success',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Settings',
            'visitor_login_status': 'Logged In'
        });
    }, handleDeactivateSimCardErrorPage: function() {
        // #15 - Track View - Deactivate SIM Card Error Page
        if (window.utag) {
            this.fireDeactivateSimCardErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDeactivateSimCardErrorPage() });
        }
    }, fireDeactivateSimCardErrorPage: function() {
        // #15 - Track View - Deactivate SIM Card Error Page
        //console.log('#15 - Track View - Deactivate SIM Card Error Page')

        utag.view({
            'event': ['page_view'],
            'page_name': 'Error Deactivating Sim Card',
            'page_section': 'My Vodafone:Settings:Deactivate Sim Card:Confirm Sim Card Deactivation',
            'visitor_login_status': 'Logged In'
        });
    }, handleClickContinueOnDeactivateSimCardErrorPage: function() {
        // #16 - Track Action - Click Continue (on Deactivate SIM Card Error Page)
        if (window.utag) {
            this.fireClickContinueOnDeactivateSimCardErrorPage()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickContinueOnDeactivateSimCardErrorPage() });
        }
    }, fireClickContinueOnDeactivateSimCardErrorPage: function() {
        // #16 - Track Action - Click Continue (on Deactivate SIM Card Error Page)
        //console.log('#16 - Track Action - Click Continue (on Deactivate SIM Card Error Page)')

        utag.link({
            'event_action': 'Error Deactivating Sim Card',
            'event_category': 'Settings',
            'event': ['event_instance'],
            'event_label': 'Continue',
            'event_value': '1',
            'page_name_next': 'Settings',
            'visitor_login_status': 'Logged In'
        });
    } }};
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_settings_tracking4 = {
    methods: {
        handleClickCancelSubscriptionOnServicesPage: function() {
            // #1 - Track Action -  Click Manage Sim Card  (on Settings Page)
            if (window.utag) {
                this.fireClickCancelSubscriptionOnServicesPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickCancelSubscriptionOnServicesPage()
                });
            }
        },
        fireClickCancelSubscriptionOnServicesPage: function() {
            // #1 - Track Action - Click Cancel Subscription (on Services Page)
            //console.log('#1 - Track Action - Click Manage Sim Card (on Settings Page)')

            // Replace #4 on VFPTMYVF-673 by this
            /*
                OLD:
                utag.link({
                    "event_action"          : "Manage Personal Information",
                    "event_category"        : "Settings",
                    "event"                 : ["event_instance"],
                    "event_label"           : "Deactivate Sim Card",
                    "event_value"           : "1",
                    "page_name_next"        : "Deactivate Sim Card",
                    "visitor_login_status"  : "Logged In"
                });
            */
            utag.link({
                'event_action': 'Manage Personal Information',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Manage Sim Card',
                'event_value': '1',
                'page_name_next': 'Manage Sim Card',
                'visitor_login_status': 'Logged In'
            });
        },
        handleManageSimCardPage: function() {
            // #2 - Track View - Manage Sim Card Page
            if (window.utag) {
                this.fireManageSimCardPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireManageSimCardPage()
                });
            }
        },
        fireManageSimCardPage: function() {
            // #2 - Track View - Manage Sim Card Page
            //console.log('#2 - Track View - Manage Sim Card Page')

            // Replace #5 on VFPTMYVF-673 by this
            /*
                OLD:
                utag.view({
                    "event"                 : ["page_view"],
                    "page_name"             : "Deactivate Sim Card",
                    "page_section"          : "My Vodafone:Settings",
                    "visitor_login_status"  : "Logged In"
                });
            */

            utag.view({
                'event': ['page_view'],
                'page_name': 'Manage Sim Card',
                'page_section': 'My Vodafone:Settings',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickUnlockDeviceOnManageSimCardPage: function() {
            // #3 - Track Action - Click Unlock Device (on Manage Sim Card Page)
            if (window.utag) {
                this.fireClickUnlockDeviceOnManageSimCardPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickUnlockDeviceOnManageSimCardPage()
                });
            }
        },
        fireClickUnlockDeviceOnManageSimCardPage: function() {
            // #3 - Track Action - Click Unlock Device (on Manage Sim Card Page)
            //console.log('#3 - Track Action - Click Unlock Device (on Manage Sim Card Page)')

            utag.link({
                'event_action': 'Reactivate Sim Card',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Enable Unlock Device',
                'event_value': '1',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnManageSimCardPage: function() {
            // #4 - Track Action - Click Continue (on Manage Sim Card Page)
            if (window.utag) {
                this.fireClickContinueOnManageSimCardPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnManageSimCardPage()
                });
            }
        },
        fireClickContinueOnManageSimCardPage: function() {
            // #4 - Track Action - Click Continue (on Manage Sim Card Page)
            //console.log('#4 - Track Action - Click Continue (on Manage Sim Card Page)')

            utag.link({
                'event_action': 'Reactivate Sim Card',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Confirm Sim Card Reactivation',
                'visitor_login_status': 'Logged In'
            });
        },
        handleConfirmSimCardReactivationPage: function() {
            // #5 - Track View - Confirm Sim Card Reactivation Page
            if (window.utag) {
                this.fireConfirmSimCardReactivationPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireConfirmSimCardReactivationPage()
                });
            }
        },
        fireConfirmSimCardReactivationPage: function() {
            // #5 - Track View - Confirm Sim Card Reactivation Page
            //console.log('#5 - Track View - Confirm Sim Card Reactivation Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Confirm Sim Card Reactivation',
                'page_section': 'My Vodafone:Settings:Manage Sim Card',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickReturnOnConfirmSimCardReactivationPage: function() {
            // #6 - Track Action - Click Return (on Confirm Sim Card Reactivation Page)
            if (window.utag) {
                this.fireClickReturnOnConfirmSimCardReactivationPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickReturnOnConfirmSimCardReactivationPage()
                });
            }
        },
        fireClickReturnOnConfirmSimCardReactivationPage: function() {
            // #6 - Track Action - Click Return (on Confirm Sim Card Reactivation Page)
            //console.log('#6 - Track Action - Click Return (on Confirm Sim Card Reactivation Page)')

            utag.link({
                'event_action': 'Confirm Sim Card Reactivation',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Return',
                'event_value': '1',
                'page_name_next': 'Manage Sim Card',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickConfirmOnConfirmSimCardReactivationPage: function(success) {
            // #7 - Track Action - Click Confirm (on Confirm Sim Card Reactivation Page)
            if (window.utag) {
                this.fireClickConfirmOnConfirmSimCardReactivationPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickConfirmOnConfirmSimCardReactivationPage(success)
                });
            }
        },
        fireClickConfirmOnConfirmSimCardReactivationPage: function(success) {
            // #7 - Track Action - Click Confirm (on Confirm Sim Card Reactivation Page)
            //console.log('#7 - Track Action - Click Confirm (on Confirm Sim Card Reactivation Page)')

            var page_name_next;
            if (success) {
                page_name_next = 'Sim Card Reactivated with Success';
            } else {
                page_name_next = 'Error Reactivating Sim Card';
            }

            utag.link({
                'event_action': 'Confirm Sim Card Reactivation',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Confirm',
                'event_value': '1',
                'page_name_next': page_name_next,
                'visitor_login_status': 'Logged In'
            });
        },
        handleSimCardReactivatedWithSuccessPage: function() {
            // #8 - Track View - Sim Card Reactivated with Success Page
            if (window.utag) {
                this.fireSimCardReactivatedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSimCardReactivatedWithSuccessPage()
                });
            }
        },
        fireSimCardReactivatedWithSuccessPage: function() {
            // #8 - Track View - Sim Card Reactivated with Success Page
            //console.log('#8 - Track View - Sim Card Reactivated with Success Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Sim Card Reactivated with Success',
                'page_section': 'My Vodafone:Settings:Manage Sim Card:Confirm Sim Card Reactivation',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnSimCardReactivatedWithSuccessPage: function() {
            // #9 - Track Action - Click Continue (on Sim Card Reactivated with Success Page)
            if (window.utag) {
                this.fireClickContinueOnSimCardReactivatedWithSuccessPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnSimCardReactivatedWithSuccessPage()
                });
            }
        },
        fireClickContinueOnSimCardReactivatedWithSuccessPage: function() {
            // #9 - Track Action - Click Continue (on Sim Card Reactivated with Success Page)
            //console.log('#9 - Track Action - Click Continue (on Sim Card Reactivated with Success Page)')

            utag.link({
                'event_action': 'Sim Card Reactivated with Success',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Settings',
                'visitor_login_status': 'Logged In'
            });
        },
        handleErrorReactivatingSimCardPage: function() {
            // #10 - Track View - Error Reactivating Sim Card Page
            if (window.utag) {
                this.fireErrorReactivatingSimCardPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorReactivatingSimCardPage()
                });
            }
        },
        fireErrorReactivatingSimCardPage: function() {
            // #10 - Track View - Error Reactivating Sim Card Page
            //console.log('#10 - Track View - Error Reactivating Sim Card Page')

            utag.view({
                'event': ['page_view'],
                'page_name': 'Error Reactivating Sim Card',
                'page_section': 'My Vodafone:Settings:Manage Sim Card:Confirm Sim Card Reactivation',
                'visitor_login_status': 'Logged In'
            });
        },
        handleClickContinueOnErrorReactivatingSimCardPage: function() {
            // #11 - Track Action - Click Continue (on Error Reactivating Sim Card Page)
            if (window.utag) {
                this.fireClickContinueOnErrorReactivatingSimCardPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickContinueOnErrorReactivatingSimCardPage()
                });
            }
        },
        fireClickContinueOnErrorReactivatingSimCardPage: function() {
            // #11 - Track Action - Click Continue (on Error Reactivating Sim Card Page)
            //console.log('#11 - Track Action - Click Continue (on Error Reactivating Sim Card Page)')

            utag.link({
                'event_action': 'Error Reactivating Sim Card',
                'event_category': 'Settings',
                'event': ['event_instance'],
                'event_label': 'Continue',
                'event_value': '1',
                'page_name_next': 'Settings',
                'visitor_login_status': 'Logged In'
            });
        }
    }
};

var tealium_udl_caixa_login = {
    methods: {
        handleLoginMyVodafoneLoginBox: function() {
        // #1 - Track Action - Login My Vodafone Login Box
        if (window.utag) {
            this.fireLoginMyVodafoneLoginBox()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLoginMyVodafoneLoginBox() });
        }
    }, fireLoginMyVodafoneLoginBox: function() {
        // #1 - Track Action - Login My Vodafone Login Box
        //console.log('#1 - Track Action - Login My Vodafone Login Box')

        utag.link({
            'event_action': 'Display Login',
            'event_category': 'Login',
            'event': ['event_instance'],
            'event_label': 'Login My Vodafone Login Box',
            'event_value': '1',
            'page_name_next': 'Login',
            'visitor_login_status': 'Logged Out'
        });
    }, handleDontShowLoginBoxAgain: function() {
        // #2 - Track Action - Don't Show Login Box Again
        if (window.utag) {
            this.fireDontShowLoginBoxAgain()
        } else {
            var me = this;
            tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDontShowLoginBoxAgain() });
        }
    }, fireDontShowLoginBoxAgain: function() {
        // #2 - Track Action - Don't Show Login Box Again
        //console.log("#2 - Track Action - Don't Show Login Box Again")

        utag.link({
            'event_action': "Don't Show Login Box Again",
            'event_category': 'Login',
            'event': ['event_instance'],
            'event_label': "Don't Show Login Box Again",
            'event_value': '1',
            'visitor_login_status': 'Logged Out'
        });
    } }};
 /* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
 var tealium_udl_mapping_commercial_page_1_25 = {
    methods: {
        handleMyVodafoneCommercialPage: function(login_status) {

            // #1 - Track View - My Vodafone Commercial Page
            if (window.utag) {
                this.fireMyVodafoneCommercialPage(login_status)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireMyVodafoneCommercialPage(login_status)
                });
            }
        },
        fireMyVodafoneCommercialPage: function(login_status) {
            // #1 - Track View - My Vodafone Commercial Page
            var data = {
                "event": ["page_view"],
                "page_name": "My Vodafone Commercial Page",
                "page_section": "My Vodafone",
                "visitor_login_status": login_status,
            }
            utag.view(data);

        },
        handleLoginOnMyVodafoneCommercialPage: function(login_status) {

            // #2 - Track Action - Login (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireLoginOnMyVodafoneCommercialPage(login_status)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireLoginOnMyVodafoneCommercialPage(login_status)
                });
            }
        },
        fireLoginOnMyVodafoneCommercialPage: function(login_status) {
            // #2 - Track Action - Login (on My Vodafone Commercial Page)
            var data = {
                "event_action": "Access My Vodafone",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "Commercial Page Login",
                "event_value": "1",
                "page_name_next": "Login",
                "visitor_login_status": login_status
            }
            utag.link(data);


        },
        handleRegisterOnMyVodafoneCommercialPage: function(login_status) {

            // #3 - Track Action - Register (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireRegisterOnMyVodafoneCommercialPage(login_status)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireRegisterOnMyVodafoneCommercialPage(login_status)
                });
            }
        },
        fireRegisterOnMyVodafoneCommercialPage: function(login_status) {
            // #3 - Track Action - Register (on My Vodafone Commercial Page)
            var data = {
               "event_action": "Access My Vodafone",
               "event_category": "My Vodafone Commercial Page",
               "event": ["event_instance"],
               "event_label": "Commercial Page Register",
               "event_value": "1",
               "page_name_next": "Registration",
               "visitor_login_status": login_status
            }
            utag.link(data);


        },
        handleAccessMyVodafoneFeaturesOnMyVodafoneCommercialPage: function(page,login_status) {
            // #4 - Track Action - Access My Vodafone Features (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireAccessMyVodafoneFeaturesOnMyVodafoneCommercialPage(page,login_status)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireAccessMyVodafoneFeaturesOnMyVodafoneCommercialPage(page,login_status)
                });
            }
        },
        fireAccessMyVodafoneFeaturesOnMyVodafoneCommercialPage: function(page,login_status) {
            // #4 - Track Action - Access My Vodafone Features (on My Vodafone Commercial Page)
            var mapping =  {
                    "home": {event_label:"Access Homepage",page_name_next:"Homepage My Vodafone Web"} ,
                    "faturacao": {event_label:"Access Billing",page_name_next:"Billing"} ,
                    "produtos-servicos": {event_label:"Access My Products and Services",page_name_next:"My Products and Services"} ,
                    "ofertas-extras": {event_label:"Access Offers and Extras",page_name_next:"Offers and Extras"} ,
                    "servicos-empresariais": {event_label:"Access Enterprise Services",page_name_next:"Enterprise Services"} ,
                    "definicoes": {event_label:"Access Settings",page_name_next:"Settings"}
            };

            selected = mapping[page];
            if(!selected){
                return;
            }

            var event_label = selected.event_label;
            var page_name_next = selected.page_name_next;
            if (login_status === 'Logged Out') {
                 page_name_next = "Login";
            }
            var data = {
               "event_action": "Access My Vodafone Features",
               "event_category": "My Vodafone Commercial Page",
               "event": ["event_instance"],
               "event_label": event_label,
               "event_value": "1",
               "page_name_next": page_name_next,
               "visitor_login_status": login_status
            }

            utag.link(data);


        },
        handleTrackVideoOnMyVodafoneCommercialPage: function() {

            // #5 - Track Action - Watch Video (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireTrackVideoOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireTrackVideoOnMyVodafoneCommercialPage()
                });
            }
        },
        fireTrackVideoOnMyVodafoneCommercialPage: function() {
            var login_status;
            if(SessionBus){
                login_status= SessionBus.loggedIn ? 'Logged In' : 'Logged Out';
            }
            // #5 - Track Action - Register (on My Vodafone Commercial Page)
            var data = {
               //"event_action": "Access My Vodafone",
               //"event_category": "My Vodafone Commercial Page",
               "event": ["event_instance"],
               "event_label": "Video Tracking Commercial Page",
               "event_value": "1",
               "page_name_next": "Home",
               "visitor_login_status": login_status
            }
            utag.link(data);


        },

        handleSendSmsOnMyVodafoneCommercialPage: function(success) {

            // #6 - Track Action - Send SMS (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireSendSmsOnMyVodafoneCommercialPage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSendSmsOnMyVodafoneCommercialPage(success)
                });
            }
        },
        fireSendSmsOnMyVodafoneCommercialPage: function(success) {
            // #6 - Track Action - Send SMS (on My Vodafone Commercial Page)
            if (success) {
                var page_name_next = "SMS to Download the App Sent with Success";
            } else {
                var page_name_next = "Error Sending SMS to Download the App";
            }



            utag.link({
                "event_action": "Download My Vodafone App",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "Send SMS with Link to Download the App",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleSmsToDownloadTheAppSentWithSuccessOnMyVodafoneCommercialPage: function() {

            // #7 - Track View - SMS to Download the App Sent with Success (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireSmsToDownloadTheAppSentWithSuccessOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSmsToDownloadTheAppSentWithSuccessOnMyVodafoneCommercialPage()
                });
            }
        },
        fireSmsToDownloadTheAppSentWithSuccessOnMyVodafoneCommercialPage: function() {
            // #7 - Track View - SMS to Download the App Sent with Success (on My Vodafone Commercial Page)

            utag.view({
                "event": ["page_view"],
                "page_name": "SMS to Download the App Sent with Success",
                "page_section": "My Vodafone:My Vodafone Commercial Page",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleErrorSendingSmsToDownloadTheAppOnMyVodafoneCommercialPage: function() {

            // #8 - Track View - Error Sending SMS to Download the App (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireErrorSendingSmsToDownloadTheAppOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireErrorSendingSmsToDownloadTheAppOnMyVodafoneCommercialPage()
                });
            }
        },
        fireErrorSendingSmsToDownloadTheAppOnMyVodafoneCommercialPage: function() {
            // #8 - Track View - Error Sending SMS to Download the App (on My Vodafone Commercial Page)
            utag.view({
                "event": ["page_view"],
                "page_name": "Error Sending SMS to Download the App",
                "page_section": "My Vodafone:My Vodafone Commercial Page",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleGooglePlayStoreOnMyVodafoneCommercialPage: function() {

            // #9 - Track Action - Google Play Store (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireGooglePlayStoreOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireGooglePlayStoreOnMyVodafoneCommercialPage()
                });
            }
        },
        fireGooglePlayStoreOnMyVodafoneCommercialPage: function() {
            // #9 - Track Action - Google Play Store (on My Vodafone Commercial Page)
            utag.link({
                "event_action": "Download My Vodafone App",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "Google Play Store",
                "event_value": "1",
                "page_name_next": "Google Play Store",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleAppStoreOnMyVodafoneCommercialPage: function() {

            // #10 - Track Action - App Store (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireAppStoreOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireAppStoreOnMyVodafoneCommercialPage()
                });
            }
        },
        fireAppStoreOnMyVodafoneCommercialPage: function() {
            // #10 - Track Action - App Store (on My Vodafone Commercial Page)
            utag.link({
                "event_action": "Download My Vodafone App",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "App Store",
                "event_value": "1",
                "page_name_next": "App Store",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleDiscoverFunctionalitiesOnMyVodafoneCommercialPage: function(selectedID) {
            // #11 - Track Action - Discover functionalities (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireDiscoverFunctionalitiesOnMyVodafoneCommercialPage(selectedID)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireDiscoverFunctionalitiesOnMyVodafoneCommercialPage(selectedID)
                });
            }
        },
        fireDiscoverFunctionalitiesOnMyVodafoneCommercialPage: function(selectedID) {
            // #11 - Track Action - Discover functionalities (on My Vodafone Commercial Page)
            var mapping = {
                'funcApp_funcApp_0' : "Usage and Services",
                'funcApp_funcApp_1' : "Invoices and Payments",
                'funcApp_funcApp_2' : "Balance and Top-Ups",
                'funcApp_funcApp_3' : "Offers and Extras",
                'funcApp_funcApp_4' : "Help",
                'funcApp_funcApp_5' : "Tv Net Voz",
                'funcApp_funcApp_6' : "Clube Viva",
                'funcApp_funcApp_7' : "Manage Services"

            };
            event_label = mapping[selectedID];

            if(!event_label){
                console.error("Bad element mapping");
                return;
            }

            utag.link({
                "event_action": "Learn About My Vodafone App Features",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleViewMyInvoiceOnMyVodafoneCommercialPage: function() {

            // #12 - Track Action - View my invoice (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireViewMyInvoiceOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireViewMyInvoiceOnMyVodafoneCommercialPage()
                });
            }
        },
        fireViewMyInvoiceOnMyVodafoneCommercialPage: function() {
            // #12 - Track Action - View my invoice (on My Vodafone Commercial Page)


            utag.link({
                "event_action": "Need Help",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "See My Invoice",
                "event_value": "1",
                "page_name_next": "My Invoice Commercial Page",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleFrequentQuestionsOnMyVodafoneCommercialPage: function() {

            // #13 - Track Action - Frequent Questions (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireFrequentQuestionsOnMyVodafoneCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireFrequentQuestionsOnMyVodafoneCommercialPage()
                });
            }
        },
        fireFrequentQuestionsOnMyVodafoneCommercialPage: function() {
            // #13 - Track Action - Frequent Questions (on My Vodafone Commercial Page)

            utag.link({
                "event_action": "Need Help",
                "event_category": "My Vodafone Commercial Page",
                "event": ["event_instance"],
                "event_label": "See Frequent Questions",
                "event_value": "1",
                "page_name_next": "FAQ My Vodafone",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleInvoiceCommercialPage: function() {

            // #14 - Track View - Invoice Commercial Page 
            if (window.utag) {
                this.fireInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireInvoiceCommercialPage()
                });
            }
        },
        fireInvoiceCommercialPage: function() {
            // #14 - Track View - Invoice Commercial Page 
            utag.view({
                "event": ["page_view"],
                "page_name": "My Invoice Commercial Page",
                "page_section": "My Vodafone",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleLoginOnInvoiceCommercialPage: function() {

            // #15 - Track Action - Login (on Invoice Commercial Page)
            if (window.utag) {
                this.fireLoginOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireLoginOnInvoiceCommercialPage()
                });
            }
        },
        fireLoginOnInvoiceCommercialPage: function() {
            // #15 - Track Action - Login (on Invoice Commercial Page)
            utag.link({
                "event_action": "Access My Vodafone",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Login",
                "event_value": "1",
                "page_name_next": "Login",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleRegisterOnInvoiceCommercialPage: function() {

            // #16 - Track Action - Register (on Invoice Commercial Page)
            if (window.utag) {
                this.fireRegisterOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireRegisterOnInvoiceCommercialPage()
                });
            }
        },
        fireRegisterOnInvoiceCommercialPage: function() {
            // #16 - Track Action - Register (on Invoice Commercial Page)
            utag.link({
                "event_action": "Access My Vodafone",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Register",
                "event_value": "1",
                "page_name_next": "Registration",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleLearnAboutVodafoneInvoiceOnInvoiceCommercialPage: function() {

            // #17 - Track Action - Learn About Vodafone Invoice (on Invoice Commercial Page)
            if (window.utag) {
                this.fireLearnAboutVodafoneInvoiceOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireLearnAboutVodafoneInvoiceOnInvoiceCommercialPage()
                });
            }
        },
        fireLearnAboutVodafoneInvoiceOnInvoiceCommercialPage: function() {
            // #17 - Track Action - Learn About Vodafone Invoice (on Invoice Commercial Page)
            utag.link({
                "event_action": "Vodafone Invoice",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Learn About Vodafone Invoice",
                "event_value": "1",
                "visitor_login_status": this.loggedStatus()
            });


        },

        handleTrackVideoOnMyVodafoneInvoicePage: function() {

            // #18 - Track Action - Watch Video (on My Vodafone Commercial Page)
            if (window.utag) {
                this.fireTrackVideoOnMyVodafoneInvoicelPage();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireTrackVideoOnMyVodafoneInvoicelPage();
                });
            }
        },
        fireTrackVideoOnMyVodafoneInvoicelPage: function() {
            // #18 - Track Action - Register (on My Vodafone Commercial Page)
            var data = {
               "event_action": "Vodafone Invoice",
               "event_category": "My Invoice Commercial Page",
               "event": ["event_instance"],
               "event_label": "Video Tracking Invoice Commercial Page",
               "event_value": "1",
               "visitor_login_status": this.loggedStatus()
            };
            utag.link(data);


        },


        handleSeeMyInvoicesOnInvoiceCommercialPageDesktop: function() {

            // #19 - Track Action - See My Invoices (on Invoice Commercial Page)
            if (window.utag) {
                this.fireSeeMyInvoicesOnInvoiceCommercialPageDesktop()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSeeMyInvoicesOnInvoiceCommercialPageDesktop()
                });
            }
        },
        fireSeeMyInvoicesOnInvoiceCommercialPageDesktop: function() {
            // #19 - Track Action - See My Invoices (on Invoice Commercial Page)

            if (SessionBus.loggedIn) {
                var page_name_next = "Billing";
            } else {
                var page_name_next = "Login";
            }

            utag.link({
                "event_action": "See My Invoices",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Through My Vodafone Desktop",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleAppOnInvoiceCommercialPage: function() {

            // #20 - Track Action - App (on Invoice Commercial Page)
            if (window.utag) {
                this.fireAppOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireAppOnInvoiceCommercialPage()
                });
            }
        },
        fireAppOnInvoiceCommercialPage: function() {
            // #20 - Track Action - App (on Invoice Commercial Page)


            utag.link({
                "event_action": "See My Invoices",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Through My Vodafone App",
                "event_value": "1",
                "page_name_next": "My Vodafone Commercial Page",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleSeeMyInvoicesOnInvoiceCommercialPage: function() {

            // #21 - Track Action - See My Invoices (on Invoice Commercial Page)
            if (window.utag) {
                this.fireSeeMyInvoicesOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSeeMyInvoicesOnInvoiceCommercialPage()
                });
            }
        },
        fireSeeMyInvoicesOnInvoiceCommercialPage: function() {
            // #21 - Track Action - See My Invoices (on Invoice Commercial Page)

            if (SessionBus.loggedIn) {
                var page_name_next = "Electronic Bill";
            } else {
                var page_name_next = "Login";
            }


            utag.link({
                "event_action": "See My Invoices",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Set Up Electronic Invoice",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": this.loggedStatus()
            });


        },
        handlePayMyInvoicesOnInvoiceCommercialPage: function(selectedID) {

            // #22 - Track Action - Pay My Invoices (on Invoice Commercial Page)
            if (window.utag) {
                this.firePayMyInvoicesOnInvoiceCommercialPage(selectedID)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.firePayMyInvoicesOnInvoiceCommercialPage(selectedID)
                });
            }
        },
        firePayMyInvoicesOnInvoiceCommercialPage: function(selectedID) {
            // #22 - Track Action - Pay My Invoices (on Invoice Commercial Page)
            var mapping = {
                "desktop":{"event_label":"Through My Vodafone Desktop","page_name_next":"Payments"},
                "app":{"event_label":"Through My Vodafone App","page_name_next":"My Vodafone Commercial Page"},
                "debit":{"event_label":"Through Direct Debit","page_name_next":"Direct Debit"},
            }

            var selected = mapping[selectedID];

            if(!selected){
                return;
            }

            if (!SessionBus.loggedIn) {
                selected.page_name_next = "Login";
            }

            utag.link({
                "event_action": "Pay My Invoices",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": selected.event_label,
                "event_value": "1",
                "page_name_next": selected.page_name_next,
                "visitor_login_status": this.loggedStatus()
            });


        },
        handlePaymentMethodsOnInvoiceCommercialPage: function(selectedID) {

            // #23 - Track Action - Payment methods (on Invoice Commercial Page)
            if (window.utag) {
                this.firePaymentMethodsOnInvoiceCommercialPage(selectedID)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.firePaymentMethodsOnInvoiceCommercialPage(selectedID)
                });
            }
        },
        firePaymentMethodsOnInvoiceCommercialPage: function(selectedID) {
            // #23 - Track Action - Payment methods (on Invoice Commercial Page)
            var mapping = {
                "mb_reference":"MB Reference",
                "mb_phone":"MB Phone",
                "home_banking":"HomeBanking",
                "vodafone_stores":"Vodafone Stores",
                "payshop":"Payshop",
                "credit_card":"Credit Card"
            }

            event_label = mapping[selectedID];
            if(!event_label){
                return;
            }

            utag.link({
                "event_action": "Pay My Invoices",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleInteractiveInvoiceOnInvoiceCommercialPage: function() {

            // #24 - Track Action - Interactive Invoice (on Invoice Commercial Page)
            if (window.utag) {
                this.fireInteractiveInvoiceOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireInteractiveInvoiceOnInvoiceCommercialPage()
                });
            }
        },
        fireInteractiveInvoiceOnInvoiceCommercialPage: function() {
            // #24 - Track Action - Interactive Invoice (on Invoice Commercial Page)
            utag.link({
                "event_action": "Learn About Vodafone Invoice",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "Interactive Invoice",
                "event_value": "1",
                "visitor_login_status": this.loggedStatus()
            });


        },
        handleNeedHelpOnInvoiceCommercialPage: function() {

            // #25 - Track Action - Need Help (on Invoice Commercial Page)
            if (window.utag) {
                this.fireNeedHelpOnInvoiceCommercialPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireNeedHelpOnInvoiceCommercialPage()
                });
            }
        },
        fireNeedHelpOnInvoiceCommercialPage: function() {
            // #25 - Track Action - Need Help (on Invoice Commercial Page)
            utag.link({
                "event_action": "Need Help",
                "event_category": "My Invoice Commercial Page",
                "event": ["event_instance"],
                "event_label": "See Frequent Questions",
                "event_value": "1",
                "page_name_next": "FAQ Invoices",
                "visitor_login_status": this.loggedStatus()
            });
        },
        loggedStatus: function(){
            var login_status = 'Logged Out';
            if(SessionBus){
                if(SessionBus.loggedIn){
                    login_status = 'Logged In';
                }
            }
            return login_status;
        }

    },

};


var tealium_appointment = {
	methods: {
		fireAppointmentDialog: function(rs, isStoreNotD2D){
			var store_page_name = "Coverage Store Appointment";
            var d2d_page_name = "Coverage D2D";
            var main_page_section ="Início:Pacotes:Cobertura:Check Coverage Results:";
			var page_section;
            // the page section is based on "rs", which is a query parameter
            if(rs === '1'){
                page_section = main_page_section + "Fiber";
            }
            else if(rs === '2'){
                page_section = main_page_section + "Rural Fiber";
            }

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : isStoreNotD2D ?  store_page_name : d2d_page_name,
                "page_section"          : page_section,
                "page_section_full"     : isStoreNotD2D ?  (page_section + ":Coverage Store Appointment") : (page_section + ":Coverage D2D"),
                "visitor_login_status"  : login_status
            });
		},
		handleAppointmentDialog: function(rs, isStoreNotD2D){
			if (window.utag) {
				this.fireAppointmentDialog(rs, isStoreNotD2D);
			}
			else{
				var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAppointmentDialog(rs, isStoreNotD2D) });
			}
		},
		// search_terms - string with the search term(s) used
		// search_results
		fireSearchCityClick: function(search_terms, search_results){
			var events = ["event_instance", "search_apply"];
            if(search_results.length === 0){
                events.push("search_zero_results");
            }

            // number of search results that appear on the autocomplete as string, ex: "5"
            var search_results_count_string = ""+search_results.length;

			var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Search City for Store Appointment",
                "event_category"        : "Coverage Store Appointment",
                "event"                 : events,
                "event_label"           : "Search City",
                "event_value"           : "1",
                "search_terms"          : search_terms,
                "search_results"        : search_results_count_string,
                "visitor_login_status"  : login_status
            });
		},
		handleSearchCityClick: function(search_terms, search_results){
			if (window.utag) {
                this.fireSearchCityClick(search_terms, search_results);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSearchCityClick(search_terms, search_results) });
            }
		},
		fireScheduleStoreAppointment: function(success, rs, store, schedule){
			if(success){
                var page_name_next = "Scheduled Store Appointment with Success";
            }
            else{
                var page_name_next = "Error Scheduling Store Appointment";
            }

            var login_status = utag_data.visitor_login_status;

            var selected_store = store;
            var selected_schedule = schedule;

            utag.link({
                "event_action"          : "Schedule Store Appointment",
                "event_category"        : "Coverage Store Appointment",
                "event"                 : ["event_instance"],
                "event_label"           : "Schedule Store Appointment",
                "event[5]"              : "page_filter",
                "page_filters"          : [selected_store, selected_schedule],
                "event_value"           : "1",
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : login_status
            });

            var main_page_section ="Início:Pacotes:Cobertura:Check Coverage Results:";
            var page_section;
            // the page section is based on "rs", which is a query parameter
            if(rs === '1'){
                page_section = main_page_section + "Fiber";
            }
            else if(rs === '2'){
                page_section = main_page_section + "Rural Fiber";
            }

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : success ? "Scheduled Store Appointment with Success" : "Error Scheduling Store Appointment",
                "page_section"          : page_section + ":Coverage Store Appointment",
                "page_section_full"     : success ? (page_section + ":Schedule Store Appointment with Success") : (page_section + ":Error Scheduling Store Appointment"),
                "visitor_login_status"  : login_status
            });

		},
		handleScheduleStoreAppointment: function(success, rs, store, schedule){
			if (window.utag) {
                this.fireScheduleStoreAppointment(success, rs, store, schedule);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireScheduleStoreAppointment(success, rs, store, schedule) });
            }
		},

		fireScheduleDoor2DoorAppointment: function(success, rs, schedule){
            if(success){
                var page_name_next = "Scheduled D2D with Success";
            }
            else{
                var page_name_next = "Error Scheduling D2D";
            }

            var login_status = utag_data.visitor_login_status;

            var selected_schedule = schedule;

            utag.link({
                "event_action"          : "Schedule D2D",
                "event_category"        : "Coverage D2D",
                "event"                 : ["event_instance"],
                "event_label"           : "Schedule D2D",
                "event_value"           : "1",
                "event[5]"              : "page_filter",
                "page_filters"          : [selected_schedule],
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : login_status
            });

            var main_page_section ="Início:Pacotes:Cobertura:Check Coverage Results:";
            var page_section;
            // the page section is based on "rs", which is a query parameter
            if(rs === '1'){
                page_section = main_page_section + "Fiber";
            }
            else if(rs === '2'){
                page_section = main_page_section + "Rural Fiber";
            }

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : success ? "Scheduled D2D with Success" : "Error Scheduling D2D",
                "page_section"          : page_section + ":Coverage D2D",
                "page_section_full"     : success ? (page_section + ":Fiber:Coverage D2D") : (page_section + ":Coverage D2D:Error Scheduling D2D"),
                "visitor_login_status"  : login_status
            });

        },
        handleScheduleDoor2DoorAppointment: function(success, rs, schedule){
            if (window.utag) {
                this.fireScheduleDoor2DoorAppointment(success, rs, schedule);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireScheduleDoor2DoorAppointment(success, rs, schedule) });
            }
        },

	}
};


 /* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
 var tealium_udl_mapping_search = {
     methods: {
         handleClickSearchIcon: function() {

             // #1 - Track Action - Click search icon
             if (window.utag) {
                 this.fireClickSearchIcon()
             }
             else {
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSearchIcon() });
             }
         },
         fireClickSearchIcon: function() {
             // #1 - Track Action - Click search icon
             if (utag) {
                 utag.link({
                     "event_action": "Search",
                     "event_category": "SAYT",
                     "event": ["event_instance"],
                     "event_label": "Start Search",
                     "event_value": "1"
                 });
             }
         },
         handleClickTheSearchIconSuggestedResultOrEnterKeyboardEvent: function(clicked,search_termsInput,keyboard_event) {

             // #2 - Track Action - Click the search icon, suggested result or Enter keyboard event
             if (window.utag) {
                 this.fireClickTheSearchIconSuggestedResultOrEnterKeyboardEvent(clicked,search_termsInput,keyboard_event)
             }
             else {
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickTheSearchIconSuggestedResultOrEnterKeyboardEvent(clicked,search_termsInput,keyboard_event) });
             }
         },
         fireClickTheSearchIconSuggestedResultOrEnterKeyboardEvent: function(clicked,search_termsInput,keyboard_event) {
             // #2 - Track Action - Click the search icon, suggested result or Enter keyboard event
             var search_terms = search_termsInput; // textbox value - example: "cheap smartphone"

             var event_label = "";
             if (utag) {
                 if (clicked === "search_icon") {
                     event_label = "Search Icon";
                 }
                 else if (clicked === "suggested_result") {
                     event_label = "Suggested Results"
                 }
                 else if (keyboard_event === "Enter") {
                     event_label = "Enter";
                 }

                 if(CludoSearch){
                    search_terms = CludoSearch.params.text;
                 }
                 utag.link({
                     "event_action": "Search",
                     "event_category": "SAYT",
                     "event": ["event_instance", "search_apply"],
                     "event_label": event_label,
                     "event_value": "1",
                     "search_terms": search_terms
                 });
             }


         },
         handleSearchPage: function(search_results) {
               //Prevent send utag view many times
              if(this.alreadySent){
                return;
              }
              this.alreadySent = true;
             // #3 - Track View - Search page
             if (window.utag) {
                 this.fireSearchPage(search_results)
             }
             else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSearchPage(search_results) });
             }
         },
         fireSearchPage: function(search_results) {
             // #3 - Track View - Search page

             if (utag) {
                 var events = ["page_view"];
                 if (search_results === 0) {
                     events.push("search_zero_results");
                 }

                 utag.view({
                     "event": events,
                     "page_name": "Search Page"
                 });

             }
         },
         handleClickSuggestedResultsOrMostRelevantPages: function() {

             // #4 - Track Action - Click suggested results or most relevant pages
             if (window.utag) {
                 this.fireClickSuggestedResultsOrMostRelevantPages()
             }
             else {
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireClickSuggestedResultsOrMostRelevantPages() });
             }
         },
         fireClickSuggestedResultsOrMostRelevantPages: function() {
             // #4 - Track Action - Click suggested results or most relevant pages

             // Dynamic - default - "Todos os resultados"
             // the first sub-category is equivalent to the category
             var search_category = this.getActiveCategory();

             utag.link({
                 "event_action": "Search",
                 "event_category": "SAYT",
                 "event": ["event_instance", "search_results_clickthrough"],
                 "event_label": "See Search Result",
                 "event_value": "1",
                 "search_category": search_category
             });
         },
         handleCategory: function() {

             // #5 - Track Action - Category
             if (window.utag) {
                 this.fireCategory()
             }
             else {
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCategory() });
             }
         },
         fireCategory: function() {
             // #5 - Track Action - Category


             if (utag) {
                 // Dynamic, read category or sub-category label
                 var event_label = this.getActiveCategory();

                 utag.link({
                     "event_action": "Search",
                     "event_category": "Search Page",
                     "event": ["event_instance"],
                     "event_label": event_label,
                     "event_value": "1"
                 });
             }

         },
         getActiveCategory: function(){
            try{
                if(CludoSearch){
                    facets = CludoSearch.params.facets
                    for(var f in facets){
                        if(facets[f].length > 0 ){
                            return facets[f][0];
                        }
                    }

                }
            }catch(e){

            }
            return "Todos os resultados";
         }



     },


 };

/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
/*Origin Task VFPTWEB2-38 tealium_mapping_billing_tracking_5 */
var tealium_bill_track_5 = {
	methods: {
		handleExtractsAndUsageHome: function () {
			// #1 - Track Action - Extracts and Usage
			if (window.utag) {
				this.fireExtractsAndUsageHome()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireExtractsAndUsageHome()
				});
			}
		},
		fireExtractsAndUsageHome: function () {
			// #1 - Track Action - Extracts and Usage
			utag.link({
				"event_action": "View Consolidated Accounts",
				"event_category": "Homepage",
				"event": ["event_instance","journey_start"],
				"event_label": "Extracts and Usage",
				"event_value": "1",
				"visitor_login_status": "Logged In",
				"journey_name": "View Extracts",
				"journey_type" : "Billing",
			});
		},
		handleTvNetVozService: function () {
			// #2 - Track Action - Tv Net Voz Service
			if (window.utag) {
				this.fireTvNetVozService()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireTvNetVozService()
				});
			}
		},
		fireTvNetVozService: function () {
			// #2 - Track Action - Tv Net Voz Service
			utag.link({
				"event_action": "View Consolidated Accounts",
				"event_category": "Homepage",
				"event": ["event_instance"],
				"event_label": "Tv Net Voz Service",
				"event_value": "1",
				"visitor_login_status": "Logged In"
			});
		},
		handleExtractsAndUsageFragment: function () {
			// #3 - Track Action - Extracts and Usage
			if (window.utag) {
				this.fireExtractsAndUsageFragment()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireExtractsAndUsageFragment()
				});
			}
		},
		fireExtractsAndUsageFragment: function () {
			// #3 - Track Action - Extracts and Usage
			utag.link({
				"event_action": "View Extracts",
				"event_category": "Billing",
				"event": ["event_instance","journey_start"],
				"event_label": "Extracts and Usage",
				"event_value": "1",
				"page_name_next": "Billing Extracts",
				"journey_name": "View Extracts",
				"journey_type":"Billing"
			});
		},
		handleExtractsAndUsageView: function () {
			// #4 - Track View - Extracts and Usage

			if (window.utag) {
				this.fireExtractsAndUsageView()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireExtractsAndUsageView()
				});
			}
		},
		fireExtractsAndUsageView: function () {
			// #4 - Track View - Extracts and Usage
			utag.view({
				"event": ["page_view"],
				"page_name": "Billing Extracts",
				"page_section": "My Vodafone",
				"page_section_full" : "My Vodafone:Billing Extracts",
				"visitor_login_status": "Logged In"
			});
		},
		handleExtractsAndUsage: function (button) {
			// #5 - Track Action - Extracts and Usage
			if (window.utag) {
				this.fireExtractsAndUsage(button)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireExtractsAndUsage(button)
				});
			}
		},
		fireExtractsAndUsage: function (button) {
			// #5 - Track Action - Extracts and Usage
			if (button === 'Extrato Informativo') {
				var event_label = "View Informative Extract"
			} else if (button === "Detalhe de Consumo") {
				var event_label = "View Usage Detail";
			}
            if(!event_label){
                return;
            }
			utag.link({
				"event_action": "Billing Extracts",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": event_label,
				"event_value": "1",
				"page_name_next": "Informative Extract",
				"visitor_login_status": "Logged In"
			});
		},

        handleDownloadInformativeExtractSuccess :function (success) {
            // #8
            if (window.utag) {
                this.fireExtractsAndUsage(success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExtractsAndUsage(success)
                });
            }
        },
        fireDownloadInformativeExtractSuccess : function (success) {
            // #8
			utag.view({
				"event": ["page_view"],
				"page_name": success ? 'Informative Extact Downloaded With Success' : "Error Downloading Informative Extact",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract",
				"page_section_full": success ? 'My Vodafone:Billing Extracts:Informative Extract:Informative Extact Downloaded With Success' : 'My Vodafone:Billing Extracts:Informative Extract:Error Downloading Informative Extact',
				"visitor_login_status": "Logged In"
			});

        },
		handleExpandExtractSummaryOnlyTrackExpandsNotCollapses: function () {

			// #12 - Track Action - Expand Extract Summary - only track expands, not collapses
			if (window.utag) {
				this.fireExpandExtractSummaryOnlyTrackExpandsNotCollapses()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireExpandExtractSummaryOnlyTrackExpandsNotCollapses()
				});
			}
		},

		fireExpandExtractSummaryOnlyTrackExpandsNotCollapses: function () {
			// #12 - Track Action - Expand Extract Summary - only track expands, not collapses
			/* OLD #32, #33 */
			if (expand === "debit") {
				var event_label = "Debit Detail";
			} else if (expand === "credit") {
				var event_label = "Credit Detail";
			}
			utag.link({
				"event_action": "Informative Extract - Expand Extract Summary",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": event_label,
				"event_value": "1",
				"visitor_login_status": "Logged In"
			});

		},
		handleClickExportCommunicationsDetail: function () {
			// #17 - Track Action - Click Export Communications Detail
			if (window.utag) {
				this.fireClickExportCommunicationsDetail()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireClickExportCommunicationsDetail()
				});
			}
		},
		fireClickExportCommunicationsDetail: function () {
			// #17 - Track Action - Click Export Communications Detail
			if (file_format === "CSV") {
				var event_label = "Download CSV";
			} else if (file_format === "TXT") {
				var event_label = "Download TXT";
			} else if (file_format === "TLC") {
				var event_label = "Download TLC";
			} else if (file_format === "XLS") {
				var event_label = "Download XLS";
			}
			utag.link({
				"event_action": "Informative Extract - Communications Detail",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": event_label,
				"event_value": "1",
				"page_name_next": success ? "Communications Exported With Success" : "Error Exporting Communications" ,
				"visitor_login_status": "Logged In"
			});
		},
		handleDownloadCommunicationsWithSuccess: function () {
			// #18 - Track View - Download Communications with Success
			if (window.utag) {
				this.fireDownloadCommunicationsWithSuccess()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireDownloadCommunicationsWithSuccess()
				});
			}
		},
		fireDownloadCommunicationsWithSuccess: function () {
			// #18 - Track View - Download Communications with Success
			utag.view({
				"event": ["page_view"],
				"page_name": "Invoice Downloaded With Success",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract",
				"visitor_login_status": "Logged In"
			});
		},
		handleDownloadCommunicationsError: function () {

			// #19 - Track View - Download Communications Error
			if (window.utag) {
				this.fireDownloadCommunicationsError()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireDownloadCommunicationsError()
				});
			}
		},
		fireDownloadCommunicationsError: function () {
			// #19 - Track View - Download Communications Error
			utag.view({
				"event": ["page_view"],
				"page_name": "Error Exporting Communications",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract",
				"visitor_login_status": "Logged In"
			});
		},
		handleInhibitCommunicationsDetailPage: function () {

			// #21 - Track View - Inhibit Communications Detail Page
			if (window.utag) {
				this.fireInhibitCommunicationsDetailPage()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireInhibitCommunicationsDetailPage()
				});
			}
		},
		fireInhibitCommunicationsDetailPage: function () {
			// #21 - Track View - Inhibit Communications Detail Page

			utag.view({
				"event": ["page_view"],
				"page_name": "Inhibit Communications Detail",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract",
				"visitor_login_status": "Logged In"
			});


		},
		handleInhibitCommunicationsSuccessPage: function () {

			// #24 - Track View - Inhibit Communications Success Page
			if (window.utag) {
				this.fireInhibitCommunicationsSuccessPage()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireInhibitCommunicationsSuccessPage()
				});
			}
		},
		fireInhibitCommunicationsSuccessPage: function () {
			// #24 - Track View - Inhibit Communications Success Page
			utag.view({
				"event": ["page_view"],
				"page_name": "Communications Detail Inhibited With Success",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract:Inhibit Communications Detail",
				"visitor_login_status": "Logged In"
			});
		},
		handleInhibitCommunicationsErrorPage: function () {
			// #25 - Track View - Inhibit Communications Error Page
			if (window.utag) {
				this.fireInhibitCommunicationsErrorPage()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireInhibitCommunicationsErrorPage()
				});
			}
		},
		fireInhibitCommunicationsErrorPage: function () {
			utag.view({
				"event": ["page_view"],
				"page_name": "Error in Communication Detail Inhibition",
				"page_section": "My Vodafone:Billing Extracts:Informative Extract:Inhibit Communications Detail",
				"visitor_login_status": "Logged In"
			});
		},
		handleSetUpSmsInvoiceAlert: function () {

			// #28 - Track Action - Set Up SMS Invoice Alert
			if (window.utag) {
				this.fireSetUpSmsInvoiceAlert()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSetUpSmsInvoiceAlert()
				});
			}
		},
		fireSetUpSmsInvoiceAlert: function () {
			// #28 - Track Action - Set Up SMS Invoice Alert
			utag.link({
				"event_action": "Billing Settings",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Set Up SMS Invoice Alert",
				"event_value": "1",
				"page_name_next": "SMS Invoice Alert",
				"visitor_login_status": "Logged In"
			});


		},
		handleSmsInvoiceAlertViewPage: function () {

			// #29 - Track View - SMS Invoice Alert
			if (window.utag) {
				this.fireSmsInvoiceAlertViewPage()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSmsInvoiceAlertViewPage()
				});
			}
		},
		fireSmsInvoiceAlertViewPage: function () {
			// #29 - Track View - SMS Invoice Alert
			utag.view({
				"event": ["page_view"],
				"page_name": "SMS Invoice Alert",
				"page_section": "My Vodafone:Billing",
				"page_section_full":"My Vodafone:Billing:SMS Invoice Alert",
				"visitor_login_status": "Logged In"
			});
		},
		handleSetUpSmsInvoiceAlertAdd: function () {

			// #30 - Track Action - Set Up SMS Invoice Alert
			if (window.utag) {
				this.fireSetUpSmsInvoiceAlertAdd()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSetUpSmsInvoiceAlertAdd()
				});
			}
		},
		fireSetUpSmsInvoiceAlertAdd: function () {
			// #30 - Track Action - Set Up SMS Invoice Alert
			utag.link({
				"event_action": "Set Up SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Activate SMS Invoice Alert",
				"event_value": "1",
				"visitor_login_status": "Logged In"
			});


		},
		handleAddServiceToSmsInvoiceAlert: function () {

			// #31 - Track Action - Add Service to SMS Invoice Alert
			if (window.utag) {
				this.fireAddServiceToSmsInvoiceAlert()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireAddServiceToSmsInvoiceAlert()
				});
			}
		},
		fireAddServiceToSmsInvoiceAlert: function () {
			// #31 - Track Action - Add Service to SMS Invoice Alert
			utag.link({
				"event_action": "Set Up SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Add Service to SMS Invoice Alert",
				"event_value": "1",
				"visitor_login_status": "Logged In"
			});


		},
		handleSaveChanges: function (selected) {
			// #32 - Track Action - Save Changes
			if (window.utag) {
				this.fireSaveChanges(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSaveChanges(selected)
				});
			}
		},
		fireSaveChanges: function (selected) {
			// #32 - Track Action - Save Changes
			if (selected === "add") {
				var page_name_next = "Confirm Addition of Services to SMS Invoice Alert";
			} else if (selected === "change") {
				var page_name_next = "Confirm Change of Services from SMS Invoice Alert";
			} else if (selected === "remove") {
				var page_name_next = "Confirm Removal of Services from SMS Invoice Alert";
			}

			utag.link({
				"event_action": "Set Up SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Save Changes",
				"event_value": "1",
				"page_name_next": page_name_next,
				"visitor_login_status": "Logged In"
			});
		},
		handleRemoveAllServicesFromSmsInvoiceAlert: function () {
			// #33 - Track Action - Remove All Services from SMS Invoice Alert
			if (window.utag) {
				this.fireRemoveAllServicesFromSmsInvoiceAlert()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireRemoveAllServicesFromSmsInvoiceAlert()
				});
			}
		},
		fireRemoveAllServicesFromSmsInvoiceAlert: function () {
			// #33 - Track Action - Remove All Services from SMS Invoice Alert
			utag.link({
				"event_action": "Set Up SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Remove All Services from SMS Invoice Alert",
				"event_value": "1",
				"visitor_login_status": "Logged In"
			});


		},
		handleSmsInvoiceAlertView: function (selected) {
			// #34 - Track View - SMS Invoice Alert
			if (window.utag) {
				this.fireSmsInvoiceAlertView(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSmsInvoiceAlertView(selected)
				});
			}
		},
		fireSmsInvoiceAlertView: function (selected) {
			// #34 - Track View - SMS Invoice Alert
			var mapping = {
			    'add' :"Confirm Addition of Services to SMS Invoice Alert",
			    'change':'Confirm Change of Services from SMS Invoice Alert',
			    'remove': 'Confirm Removal of Services from SMS Invoice Alert'
			}

            var page_name = mapping[selected];
            if(!page_name) {
                return;
            }

			utag.view({
				"event": ["page_view"],
				"page_name": page_name,
				"page_section": "My Vodafone:Billing:SMS Invoice Alert",
				"page_section_full":"My Vodafone:Billing:SMS Invoice Alert:" + page_name,
				"visitor_login_status": "Logged In"
			});


		},
		handleCancel: function (selected) {

			// #35,42,49- Track Action - Cancel
			if (window.utag) {
				this.fireCancel(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireCancel(selected)
				});
			}
		},
		fireCancel: function (selected) {
			// #35,#42,#49 - Track Action - Cancel
            mapping = {
                'add' : 'Add',
                'change':'Change',
                'remove':'Remove',
            }
            prefix = mapping[selected];
            if(!prefix){ return ;}

			utag.link({
				"event_action": prefix + " Service to SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Cancel",
				"event_value": "1",
				"page_name_next": "SMS Invoice Alert",
				"visitor_login_status": "Logged In"
			});


		},
		handleConfirm: function (selected,success) {
			// #36,#43,#50 - Track Action - Confirm
			if (window.utag) {
				this.fireConfirm(selected,success)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireConfirm(selected,success)
				});
			}
		},
		fireConfirm: function (selected,success) {
			// #36,#43,#50 - Track Action - Confirm
            mapping = {
                'add' : 'Add',
                'change':'Change',
                'remove':'Remove',
            }
            prefix = mapping[selected];
            if(!prefix){ return ;}

            pages_next = {
                'add' : {
                    success:"Services Added to SMS Invoice Alert with Success",
                    error:"Error Adding Services to SMS Invoice Alert"
                },
                'change' : {
                    success:"Services from SMS Invoice Alert Changed with Success",
                    error:"Error Changing Services to SMS Invoice Alert"
                },
                'remove' : {
                    success:"Services Removed from SMS Invoice Alert with Success",
                    error:"Error Removing Services from SMS Invoice Alert"
                },
            }

            page_name_next = pages_next[selected];
            if(!page_name_next){return;}
			utag.link({
				"event_action": prefix + " Service to SMS Invoice Alert",
				"event_category": "Billing",
				"event": ["event_instance"],
				"event_label": "Confirm",
				"event_value": "1",
				"page_name_next": success ? page_name_next['success'] : page_name_next['error'],
				"visitor_login_status": "Logged In"
			});


		},
		handleSmsInvoiceAlert: function (selected) {

			// #37,#44,#51 - Track View - SMS Invoice Alert
			if (window.utag) {
				this.fireSmsInvoiceAlert(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireSmsInvoiceAlert(selected)
				});
			}
		},
		fireSmsInvoiceAlert: function (selected) {
			// #37,#44,#51 - Track View - SMS Invoice Alert

            functions = {
                add : function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Services Added to SMS Invoice Alert with Success",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Addition of Services to SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Addition of Services to SMS Invoice Alert:Services Added to SMS Invoice Alert with Success",
                        "visitor_login_status": "Logged In"
                    });
                },
                change: function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Services from SMS Invoice Alert Changed with Success",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Change of Services from SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Change of Services from SMS Invoice Alert:Services from SMS Invoice Alert Changed with Success",
                        "visitor_login_status": "Logged In"
                    });
                },
                remove: function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Services Removed from SMS Invoice Alert with Success",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Removal of Services from SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Removal of Services from SMS Invoice Alert:Services Removed from SMS Invoice Alert with Success",
                        "visitor_login_status": "Logged In"
                    });
                }
			};

            this.executeFunction(functions[selected]);

		},
		handleContinueSuccess: function (selected) {

			// #38,#45,#52 - Track Action - Continue
			if (window.utag) {
				this.fireContinueSuccess(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireContinueSuccess(selected)
				});
			}
		},
		fireContinueSuccess: function (selected) {
			// #38,#45,#52 - Track Action - Continue

            functions = {
                add : function(){
                    utag.link({
                        "event_action": "Services Added to SMS Invoice Alert with Success",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "page_name_next": "SMS Invoice Alert",
                        "visitor_login_status": "Logged In"
                    });
                },
                change: function(){
                    utag.link({
                        "event_action": "Change Services to SMS Invoice Alert with Success",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "visitor_login_status": "Logged In"
                    });
                },
                remove: function(){
                    utag.link({
                        "event_action": "Services Removed from SMS Invoice Alert with Success",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "visitor_login_status": "Logged In"
                    });

                }
			};

            this.executeFunction(functions[selected]);



		},
		handleErrorServicesToSmsInvoiceAlert: function (selected) {

			// #39,#46,#53 - Track View - Error Adding Services to SMS Invoice Alert
			if (window.utag) {
				this.fireErrorServicesToSmsInvoiceAlert(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireErrorServicesToSmsInvoiceAlert(selected)
				});
			}
		},
		fireErrorServicesToSmsInvoiceAlert: function (selected) {
			// #39,#46,#53 - Track View - Error Adding Services to SMS Invoice Alert
            functions = {
                add : function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Error Adding Services to SMS Invoice Alert",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Addition of Services to SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Addition of Services to SMS Invoice Alert:Error Adding Services to SMS Invoice Alert",
                        "visitor_login_status": "Logged In"
                    });
                },
                change: function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Error Changing Services to SMS Invoice Alert",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Change of Services from SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Change of Services from SMS Invoice Alert:Error Changing Services to SMS Invoice Alert",
                        "visitor_login_status": "Logged In"
                    });
                },
                remove: function(){
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Error Removing Services from SMS Invoice Alert",
                        "page_section": "My Vodafone:Billing:SMS Invoice Alert:Confirm Removal of Services from SMS Invoice Alert",
                        "page_section_full": "My Vodafone:Billing:SMS Invoice Alert:Confirm Removal of Services from SMS Invoice Alert:Error Removing Services from SMS Invoice Alert",
                        "visitor_login_status": "Logged In"
                    });
                }
			};

            this.executeFunction(functions[selected]);
		},
		handleContinueError: function (selected) {

			// #40,#47,#54 - Track Action - Continue
			if (window.utag) {
				this.fireContinueError(selected)
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireContinueError(selected)
				});
			}
		},
		fireContinueError: function (selected) {
			// #40,#47,#54 - Track Action - Continue
            functions = {
                add : function(){
                    utag.link({
                        "event_action": "Error Adding Services to SMS Invoice Alert",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "page_name_next": "SMS Invoice Alert",
                        "visitor_login_status": "Logged In"
                    });
                },
                change: function(){
                    utag.link({
                        "event_action": "Error Changing Services to SMS Invoice Alert",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "visitor_login_status": "Logged In"
                    });
                },
                remove: function(){
                    utag.link({
                        "event_action": "Error Removing Services from SMS Invoice Alert",
                        "event_category": "Billing",
                        "event": ["event_instance"],
                        "event_label": "Continue",
                        "event_value": "1",
                        "visitor_login_status": "Logged In"
                    });
                }
			};

            this.executeFunction(functions[selected]);
		},
		handleConfirmChangeOfServicesFromSmsInvoiceAlert: function () {

			// #41 - Track View - Confirm Change of Services from SMS Invoice Alert
			if (window.utag) {
				this.fireConfirmChangeOfServicesFromSmsInvoiceAlert()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireConfirmChangeOfServicesFromSmsInvoiceAlert()
				});
			}
		},
		fireConfirmChangeOfServicesFromSmsInvoiceAlert: function () {
			// #41 - Track View - Confirm Change of Services from SMS Invoice Alert
			console.log('#41 - Track View - Confirm Change of Services from SMS Invoice Alert')


			utag.view({
				"event": ["page_view"],
				"page_name": "Confirm Change of Services from SMS Invoice Alert",
				"page_section": "My Vodafone:Billing:SMS Invoice Alert",
				"visitor_login_status": "Logged In"
			});


		},
		handleConfirmRemovalOfServicesFromSmsInvoiceAlert: function () {

			// #48 - Track View - Confirm Removal of Services from SMS Invoice Alert
			if (window.utag) {
				this.fireConfirmRemovalOfServicesFromSmsInvoiceAlert()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireConfirmRemovalOfServicesFromSmsInvoiceAlert()
				});
			}
		},
		fireConfirmRemovalOfServicesFromSmsInvoiceAlert: function () {
			// #48 - Track View - Confirm Removal of Services from SMS Invoice Alert
			console.log('#48 - Track View - Confirm Removal of Services from SMS Invoice Alert')


			utag.view({
				"event": ["page_view"],
				"page_name": "Confirm Removal of Services from SMS Invoice Alert",
				"page_section": "My Vodafone:Billing:SMS Invoice Alert",
				"visitor_login_status": "Logged In"
			});


		},
		executeFunction: function(f,args){
		    if(typeof f === 'function'){
		        f.apply(this,args);
		    }
		}
	}
};
var tealium_configurator = {
	methods: {
        fireChooseBundle: function(product){
            var event_label = ["Net", "3P", "Bundles with Mobile"];

            var product_name = ["Net Configurator", "3P Configurator", "Bundles with Mobile Configurator"];

			var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Choose Base Bundle",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance", "product_view"],
                "event_label"           : event_label[product - 1],
                "event_value"           : "1",
                "product_category"      : "Fixed Bundles",
                "product_name"          : product_name[product - 1],
                "visitor_login_status"  : login_status
            });
        },
        handleChooseBundle: function(product){
            if (window.utag) {
                this.fireChooseBundle(product);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChooseBundle(product) });
            }
        },
        fireChooseBindingPeriod: function(product, period){
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var event_label = {'D': "No Loyalty", 'C': "6 months", 'B': "12 months", 'A': "24 months"};

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Choose Contract Term",
                "event_category"        : event_category[product - 1],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[period],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },
        handleChooseBindingPeriod: function(product, period){
            if (window.utag) {
                this.fireChooseBindingPeriod(product, period);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChooseBindingPeriod(product, period) });
            }
        },
        fireAddServices: function(category, event){
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var event_label = ["Internet", "TV", "Fixed Phone", "Mobile Internet", "Mobile Phone"];

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Add Services",
                "event_category"        : event_category[category - 1],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[event],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },
        handleAddServices: function(category, event){
            if (window.utag) {
                this.fireAddServices(category, event);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAddServices(category, event) });
            }
        },
        fireRemoveServices: function(category, event){
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var event_label = ["Internet", "TV", "Fixed Phone", "Mobile Internet", "Mobile Phone"];

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Remove Services",
                "event_category"        : event_category[category - 1],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[event],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },
        handleRemoveServices: function(category, event){
            if (window.utag) {
                this.fireRemoveServices(category, event);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRemoveServices(category, event) });
            }
        },
        fireExpandService: function(category, event){
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var event_label = ["Internet", "TV", "Fixed Phone", "Mobile Internet", "Mobile Phone", "Loyalty"];

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Expand Configure Service",
                "event_category"        : event_category[category - 1],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[event],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },
        handleExpandService: function(category, event){
            if (window.utag) {
                this.fireExpandService(category, event);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandService(category, event) });
            }
        },
        fireCollapseService: function(category, event){
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var event_label = ["Internet", "TV", "Fixed Phone", "Mobile Internet", "Mobile Phone", "Loyalty"];

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Collapse Configure Service",
                "event_category"        : event_category[category - 1],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[event],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },
        handleCollapseService: function(category, event){
            if (window.utag) {
                this.fireCollapseService(category, event);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCollapseService(category, event) });
            }
        },
        fireSaveFixedBundle: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Save Fixed Bundle",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status"  : login_status
            });

            utag.link({
                "event_action"          : "Summary - Open Save Fixed Bundle",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Summary - Save Fixed Bundle",
                "event_value"           : "1",
                "page_name_next"        : "Save Fixed Bundle",
                "visitor_login_status"  : login_status
            });
        },
        handleSaveFixedBundle: function(){
            if (window.utag) {
                this.fireSaveFixedBundle();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSaveFixedBundle() });
            }
        },
        fireEmailSaveFixedBundle: function(product_package_id, success){
            var login_status = utag_data.visitor_login_status;

            if(success){
                var page_name_next = "Save my Fixed Bundle Submitted";
            }
            else{
                var page_name_next = "Save My Fixed Bundle Error";
            }

            utag.link({
                "event_action"          : "Email Saved Fixed Bundle",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Email Saved Fixed Bundle",
                "event_value"           : "1",
                "page_name_next"        : page_name_next,
                "product_package_id"    : product_package_id,
                "visitor_login_status"  : login_status
            });

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : success ? "Saved Fixed Bundle with Success" : "Error Saving Fixed Bundle",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID:Save Fixed Bundle",
                "visitor_login_status"  : login_status
            });
        },
        handleEmailSaveFixedBundle: function(product_package_id, success){
            if (window.utag) {
                this.fireEmailSaveFixedBundle(product_package_id, success);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEmailSaveFixedBundle(product_package_id, success) });
            }
        },
        fireSubscribeAdvanceNextStep: function(category, product, product_package_id){
            var login_status = utag_data.visitor_login_status;

            var event_category = ["Net", "3P", "Bundles with Mobile"];

            var product_price_recurrence_number = {"D" : "0", "C": "6", "B": "12", "A": "24"};

            var product_subscription_duration = {"D" : "0", "C": "6", "B": "12", "A": "24"};

            utag.link({
                "event_action"                      : "Complete Configuration",
                "event_category"                    : event_category[category - 1],
                "event"                             : ["event_instance"],
                "event_label"                       : "Subscribe - Advance Next Step",
                "event_value"                       : "1",
                "page_name_next"                    : "Fixed Bundle Summary",
                "product_package_id"                : product_package_id,
                "product_price_recurrence_number"   : product_price_recurrence_number[product],
                "product_price_recurrence_type"     : "Monthly",
                "product_subscription_duration"     : product_subscription_duration[product],
                "visitor_login_status"              : login_status
            });
        },
        handleSubscribeAdvanceNextStep: function(category, product, product_package_id){
            if (window.utag) {
                this.fireSubscribeAdvanceNextStep(category, product, product_package_id);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribeAdvanceNextStep(category, product, product_package_id) });
            }
        },
        fireSubscriptionData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscription Data",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleSubscriptionData: function(){
            if (window.utag) {
                this.fireSubscriptionData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscriptionData() });
            }
        },
        fireActivationData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Activation Data",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleActivationData: function(){
            if (window.utag) {
                this.fireActivationData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireActivationData() });
            }
        },
        fireBillingData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Billing Data",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleBillingData: function(){
            if (window.utag) {
                this.fireBillingData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBillingData() });
            }
        },
        fireSubmittedConfiguratorSubscriptionForm: function(success){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : success ? "Submitted Configurator Subscription Form with Success" : "Error Submitting Configurator Subscription Form",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleSubmittedConfiguratorSubscriptionForm: function(success){
            if (window.utag) {
                this.fireSubmittedConfiguratorSubscriptionForm(success);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmittedConfiguratorSubscriptionForm(success) });
            }
        },
        fireSubmitConfiguratorSubscriptionForm: function(){
            // #17 - Track Action - Submit Configurator Subscription Form
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Submit Configurator Subscription Form",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Submit Configurator Subscription Form",
                "event_value"           : "1",
                "page_name_next"        : "Submitted Configurator Subscription Form with Success",
                "visitor_login_status"  : login_status
            });
        },
        handleSubmitConfiguratorSubscriptionForm: function(){
            if (window.utag) {
                this.fireSubmitConfiguratorSubscriptionForm();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitConfiguratorSubscriptionForm() });
            }
		},

        handleNextStepConfiguratorSubscriptionForm: function(category, product){
            if (window.utag) {
                this.fireAdvanceNextStepConfiguratorSubscriptionForm(category, product);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAdvanceNextStepConfiguratorSubscriptionForm(category, product) });
            }
        },
        /**
         * #1 - Track Action - E2E Subscribe - Advance Next Step
         * @param category
         * @param product
         */
        fireAdvanceNextStepConfiguratorSubscriptionForm: function(category, product){

            var login_status = utag_data.visitor_login_status;
            var event_category = ["Net", "3P", "Bundles with Mobile"];

            utag.link({
                "event_action"          : "Complete Configuration",
                "event_category"        : event_category[category - 1],
                "event"                 : ["event_instance"],
                "event_label"           : "E2E Subscribe - Advance Next Step",
                "event_value"           : "1",
                "page_name_next"        : "Step One",
                "product_package_id"    : product,
                "visitor_login_status"  : login_status
            });
        }
    }
};
var tealium_configurator_it2 = {
	methods: {


// #2 - Track View - Fixed Bundle Summary
         fireBundleSummary: function(){

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Fixed Bundle Summary",
                "page_section"          : "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status"  : login_status
            });
         },

         handleBundleSummary: function(){
             if (window.utag) {
                 this.fireBundleSummary();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBundleSummary() });
             }
         },

// #3 - Track Action - Confirm - Advance to Form
        fireAdvanceToForm: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Confirm Configuration",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Confirm - Advance to Form",
                "event_value"           : "1",
                "page_name_next"        : "Configurator Subscription Form",
              "visitor_login_status"  : login_status
            });
        },

        handleAdvanceToForm: function(){
            if (window.utag) {
                this.fireAdvanceToForm();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAdvanceToForm() });
            }
        },


// #4 - Track Action - Fixed Bundle Details
         fireBundleDetails: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Show Fixed Bundle Details",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Fixed Bundle Details",
                "event_value"           : "1",
                "page_name_next"        : "Fixed Bundle Details",
                "visitor_login_status"  : login_status
            });
         },

         handleBundleDetails: function(){
             if (window.utag) {
                 this.fireBundleDetails();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBundleDetails() });
             }
         },


// #6 - Track Action - Countries included Free Calls
        fireCountriesIncludedFreeCalls: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Show countries included Free Calls",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Countries included Free Calls",
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },

        handleCountriesIncludedFreeCalls: function(){
             if (window.utag) {
                 this.fireCountriesIncludedFreeCalls();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCountriesIncludedFreeCalls() });
             }
        },


// #7 - Track Action - Channel List
        fireChannelList: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Show Channel List",
                "event_category"        : "Fixed Bundle Configurator Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Channel List",
                "event_value"           : "1",
                "page_name_next"        : "Configurator Channel List",
                "visitor_login_status"  : login_status
            });

        },

         handleChannelList: function(){
             if (window.utag) {
                 this.fireChannelList();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireChannelList() });
             }
        },
// #13 - Track Action - Confirm Service Removal //TODO: falta implementar este request
        fireConfirmServiceRemoval: function(category, event){

            var login_status = utag_data.visitor_login_status;

            var event_category = ["Internet", "TV", "Fixed Phone", "Mobile Internet", "Mobile Phone"];

            var event_label = ["Yes", "No"];

            utag.link({
                "event_action"          : "Confirm Service Removal",
                "event_category"        : event_category[category],
                "event"                 : ["event_instance"],
                "event_label"           : event_label[event],
                "event_value"           : "1",
                "visitor_login_status"  : login_status
            });
        },

         handleConfirmServiceRemoval: function(category, event){
             if (window.utag) {
                 this.fireConfirmServiceRemoval(category, event);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireConfirmServiceRemoval(category, event) });
             }
         }
    }
}
var tealium_login = {
	methods: {
		handleLogin: function () {

			// #2 - Track View - Login
			if (window.utag) {
				this.fireLogin()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireLogin()
				});
			}
		},
		fireLogin: function () {
			// #2 - Track View - Login

			if (utag) {
				utag.view({
					"event": ["page_view", "form_start"],
					"form_name": "Login",
					"page_name": "Login",
					"page_section": "My Vodafone",
					"visitor_login_status": "Logged Out"
				});
			}


		},
		handleLoginForm: function () {

			// #3 - Track Action - Login Form
			if (window.utag) {
				this.fireLoginForm()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireLoginForm()
				});
			}
		},
		fireLoginForm: function () {
			// #3 - Track Action - Login Form

			if (utag) {
				utag.link({
					"event_action": "Display Login",
					"event_category": "Login",
					"event": ["event_instance"],
					"event_label": "Login Form",
					"event_value": "1",
					"visitor_login_status": "Logged Out"
				});
			}


		},
		handleHomepageMyVodafoneWeb: function () {

			// #5 - Track View - Homepage My Vodafone Web
			if (window.utag) {
				this.fireHomepageMyVodafoneWeb()
			} else {
				var me = this;
				tealiumBus && tealiumBus.$on('utag-loaded', function () {
					me.fireHomepageMyVodafoneWeb()
				});
			}
		},
		fireHomepageMyVodafoneWeb: function () {
			// #5 - Track View - Homepage My Vodafone Web
			console.log('#5 - Track View - Homepage My Vodafone Web')

			// Update the page_name to "Homepage My Vodafone Web" from "Homepage"

			utag.view({
				"event": ["page_view"],
				"page_name": "Homepage My Vodafone Web",
				"page_section": "My Vodafone",
				"visitor_login_status": "Logged In"
			});


		},
	}
};

var tealium_standardForm = {
	methods: {

        fireSubscriptionData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscription Data",
                "page_section"          : "Início:Pacotes:Pacotes Standard:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleSubscriptionData: function(){
            if (window.utag) {
                this.fireSubscriptionData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscriptionData() });
            }
        },
        fireActivationData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Activation Data",
                "page_section"          : "Início:Pacotes:Pacotes Standard:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleActivationData: function(){
            if (window.utag) {
                this.fireActivationData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireActivationData() });
            }
        },
        fireBillingData: function(){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Billing Data",
                "page_section"          : "Início:Pacotes:Pacotes Standard:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleBillingData: function(){
            if (window.utag) {
                this.fireBillingData();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireBillingData() });
            }
        },
        fireSubmittedSubscriptionForm: function(success){
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : success ? "Submitted Standard Subscription Form with Success" : "Error Submitting Standard Subscription Form",
                "page_section"          : "Início:Pacotes:Pacotes Standard:Pedido de Adesão",
                "visitor_login_status"  : login_status
            });
        },
        handleSubmittedSubscriptionForm: function(success){
            if (window.utag) {
                this.fireSubmittedSubscriptionForm(success);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmittedSubscriptionForm(success) });
            }
        },
        fireSubmitSubscriptionForm: function(){
            // #17 - Track Action - Submit Subscription Form
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Submit Standard Subscription Form",
                "event_category"        : "Standard Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : "Submit Standard Subscription Form",
                "event_value"           : "1",
                "page_name_next"        : "Submitted Standard Subscription Form with Success",
                "visitor_login_status"  : login_status
            });
        },
        handleSubmitSubscriptionForm: function(){
            if (window.utag) {
                this.fireSubmitSubscriptionForm();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitSubscriptionForm() });
            }
		}
    }
};
var tealium_header_footer = {

    methods: {
        clickHeaderEntry: function (eventLabel, pageNameNext){
            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action"          : "Header Click",
                "event_category"        : "Header",
                "event"                 : ["event_instance"],
                "event_label"           : eventLabel,
                "event_value"           : "1",
                "page_name_next"		: pageNameNext,
                "visitor_login_status"	: login_status 
            });
        },
        handleClickHeaderEntry: function(eventLabel, pageNameNext){
            if (window.utag) {
				this.clickHeaderEntry(eventLabel, pageNameNext);
			} else{
				var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.clickHeaderEntry(eventLabel, pageNameNext) });
			}
        },
        clickFooterEntry: function (eventLabel, pageNameNext){
            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action"          : "Footer Click",
                "event_category"        : "Footer",
                "event"                 : ["event_instance"],
                "event_label"           : eventLabel,
                "event_value"           : "1",
                "page_name_next"		: pageNameNext,
                "visitor_login_status"	: login_status 
            });
        },
        handleClickFooterEntry: function(eventLabel, pageNameNext){
            if (window.utag) {
				this.clickFooterEntry(eventLabel, pageNameNext);
			} else{
				var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.clickFooterEntry(eventLabel, pageNameNext) });
			}
        }
    }
}
var tealium_flex = {
    methods: {
        getFormatedValue: function(val) {                        
            return (typeof val !== 'undefined') ? Number(val.replace(',', '.')).toFixed(2) : '0.00';
        },        
        fireYou: function(){
            // #1 - Track View - You
            var login_status = utag_data.visitor_login_status;            

            utag_data.product_name = "You";
            utag_data.product_category = "Postpay";
            utag_data.event.push("product_view");            
        },
        handleYou: function(){
            if (window.utag) {
                this.fireYou();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireYou() });
            }
        },        
        fireSubscribeYou: function(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles){
            // #2 - Track Action - Subscribe You
            var login_status = utag_data.visitor_login_status;            

            var product_price_recurrence_type = {"14": "Biweekly", "28": "Monthly"};
                        
            var product_package_configuration_type = [];									  
            var product_package_configuration_value = [];

            product_package_configuration_type.push("You Initial Data");
            product_package_configuration_value.push(monthlyData.data + " " + monthlyData.unit);

            product_package_configuration_type.push("You Initial Minutes");
            product_package_configuration_value.push(minutesAndSms.value + " " + minutesAndSms.attrName);
            
            product_package_configuration_type.push("You Initial Apps");
            product_package_configuration_value = product_package_configuration_value.concat(appBundles.filter(function(elem){
                return elem.value == "1";
            })
            .map(function(elem){
                return elem.attrName;
            }));

            utag.link({
                "event_action"                          : "Subscribe You",
                "event_category"                        : "Vodafone You",
                "event"                                 : ["event_instance", "journey_start"],
                "event_label"                           : "Subscribe You",
                "event_value"                           : "1",
                "page_name_next"                        : "Subscribing You",
                "journey_name"                          : "Migrate to Vodafone You",
                "journey_type"                          : "Subscription",
                "product_price_recurrence_amount"       : this.getFormatedValue(product_price_recurrence_amount),
                "product_price_recurrence_type"         : product_price_recurrence_type[recurrence_type],
                "product_package_configuration_value"	: product_package_configuration_value,
                "product_package_configuration_type"	: product_package_configuration_type,
                "visitor_login_status"                  : login_status
            });
        },
        handleSubscribeYou: function(product_price_recurrence_amount, recurrence_number, monthlyData, minutesAndSms, appBundles){
            if (window.utag) {
                this.fireSubscribeYou(product_price_recurrence_amount, recurrence_number, monthlyData, minutesAndSms, appBundles);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribeYou(product_price_recurrence_amount, recurrence_number, monthlyData, minutesAndSms, appBundles) });
            }
        },
        fireSubscribingYou: function(){
            // #6 - Track View - Subscribing You
            var login_status = utag_data.visitor_login_status;     

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscribing You",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You",
                "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:Subscribing You",
                "visitor_login_status"  : login_status
            });
        },
        handleSubscribingYou: function(){
            if (window.utag) {
                this.fireSubscribingYou();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribingYou() });
            }
        },
        fireMigrateToYou: function(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles, success, error){
            // #7 - Track Action - Migrate to You                            
            if(success){
                var page_name_next = "Migrated to You with Success";
            }
            else{
                if(error === "service_unavailable"){
                    var page_name_next = "Error Migration Service Unavailable";
                }
                else{
                    var page_name_next = "Error Invalid Plan for Migration";
                }
            }

            var login_status = utag_data.visitor_login_status;                 
            
            var product_price_recurrence_type = {"14": "Biweekly", "28": "Monthly"};
                        
            var product_package_configuration_type = [];									  
            var product_package_configuration_value = [];

            product_package_configuration_type.push("You Migration Data");
            product_package_configuration_value.push(monthlyData.data + " " + monthlyData.unit);

            product_package_configuration_type.push("You Migration Minutes");
            product_package_configuration_value.push(minutesAndSms.value + " " + minutesAndSms.attrName);
            
            product_package_configuration_type.push("You Migration Apps");
            product_package_configuration_value = product_package_configuration_value.concat(appBundles.filter(function(elem){
                return elem.value == "1";
            })
            .map(function(elem){
                return elem.attrName;
            }));

            utag.link({
                "event_action"                          : "Migrate to You",
                "event_category"                        : "Vodafone You",
                "event"                                 : ["event_instance"],
                "event_label"                           : "Migrate to You",
                "event_value"                           : "1",
                "page_name_next"                        : page_name_next,
                "product_price_recurrence_amount"       : this.getFormatedValue(product_price_recurrence_amount),
                "product_price_recurrence_type"         : product_price_recurrence_type[recurrence_type],
                "product_package_configuration_value"	: product_package_configuration_value,
                "product_package_configuration_type"	: product_package_configuration_type,
                "visitor_login_status"                  : login_status
            });
            
            // #8 - Track View - Migrated to  You with Success            
            if(success){
                utag.view({
                    "event"                 : ["page_view", "journey_end"],
                    "journey_name"          : "Migrate to Vodafone You",
                    "journey_type"          : "Subscription",
                    "page_name"             : page_name_next,
                    "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You",
                    "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:" + page_name_next,
                    "visitor_login_status"  : login_status
                });
            }
            // #9 - Track View - Error Migration Service Unavailable
            // #10 - Track View - Error Invalid Plan for Migration
            else{
                utag.view({
                    "event"                 : ["page_view"],
                    "page_name"             : page_name_next,
                    "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You",
                    "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:" + page_name_next,
                    "visitor_login_status"  : login_status
                });
            }
            
        },
        handleMigrateToYou: function(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles, success, error){
            if (window.utag) {
                this.fireMigrateToYou(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles, success, error);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMigrateToYou(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles, success, error) });
            }
        },       
        fireOrderYouSIMCard: function(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles){
            // #11 - Track Action - Order You SIM Card            

            var login_status = utag_data.visitor_login_status;                 
            
            var product_price_recurrence_type = {"14": "Biweekly", "28": "Monthly"};
                        
            var product_package_configuration_type = [];									  
            var product_package_configuration_value = [];

            product_package_configuration_type.push("New You Data");
            product_package_configuration_value.push(monthlyData.data + " " + monthlyData.unit);

            product_package_configuration_type.push("New You Minutes");
            product_package_configuration_value.push(minutesAndSms.value + " " + minutesAndSms.attrName);
            
            product_package_configuration_type.push("New You Apps");
            product_package_configuration_value = product_package_configuration_value.concat(appBundles.filter(function(elem){
                return elem.value == "1";
            })
            .map(function(elem){
                return elem.attrName;
            }));

            utag.link({
                "event_action"                          : "Order You SIM Card",
                "event_category"                        : "Vodafone You",
                "event"                                 : ["event_instance"],
                "event_label"                           : "Order You SIM Card",
                "event_value"                           : "1",
                "product_price_recurrence_amount"       : this.getFormatedValue(product_price_recurrence_amount),
                "product_price_recurrence_type"         : product_price_recurrence_type[recurrence_type],
                "product_package_configuration_value"	: product_package_configuration_value,
                "product_package_configuration_type"	: product_package_configuration_type,
                "visitor_login_status"                  : login_status
            });
        },
        handleOrderYouSIMCard: function(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles){
            if (window.utag) {
                this.fireOrderYouSIMCard(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOrderYouSIMCard(product_price_recurrence_amount, recurrence_type, monthlyData, minutesAndSms, appBundles) });
            }
        },
        fireUpgradeYou: function(data){
            // #12 - Track View - Upgrade to 1Gb You
            // #16 - Track View - Upgrade to 5Gb You
            var login_status = utag_data.visitor_login_status;  

            var dataOptions = ["1GB", "5GB"];

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Upgrade to " + dataOptions[data] + " You",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You",
                "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:Upgrade to " + dataOptions[data] + " You:Subscribing Upgrade " + dataOptions[data] + " You",
                "visitor_login_status"  : login_status
            });
        },
        handleUpgradeYou: function(data){
            if (window.utag) {
                this.fireUpgradeYou(data);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireUpgradeYou(data) });
            }
        },
        fireAcceptUpgradeYou: function(data){
            // #13 - Track Action - Accept 1Gb Upgrade
            // #17 - Track Action - Accept 5Gb Upgrade
            var login_status = utag_data.visitor_login_status; 

            utag.link({
                "event_action"          : "Accept " + data + " Upgrade",
                "event_category"        : "Vodafone You",
                "event"                 : ["event_instance"],
                "event_label"           : "Accept " + data + " Upgrade",
                "event_value"           : "1",
                "page_name_next"        : "Subscribing Upgrade " + data + " You",
                "visitor_login_status"  : login_status
            });

            // #15 - Track View - Subscribing Upgrade 1Gb You
            // #19 - Track View - Subscribing Upgrade 5Gb You
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscribing Upgrade " + data + " You",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:Upgrade to " + data + " You",
                "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Tarifário Vodafone You:Upgrade to " + data + " You:Subscribing Upgrade  " + data + "  You",
                "visitor_login_status"  : login_status
            });
        },
        handleAcceptUpgradeYou: function(data){
            if (window.utag) {
                this.fireAcceptUpgradeYou(data);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAcceptUpgradeYou(data) });
            }
        },
        fireRefuseUpgradeYou: function(data){                     
            // #14 - Track Action - Refuse 1Gb Upgrade
            // #18 - Track Action - Refuse 5Gb Upgrade
            var login_status = utag_data.visitor_login_status; 

            utag.link({
                "event_action"          : "Refuse " + data + " Upgrade",
                "event_category"        : "Vodafone You",
                "event"                 : ["event_instance"],
                "event_label"           : "Refuse " + data + " Upgrade",
                "event_value"           : "1",
                "page_name_next"        : "Subscribing You",
                "visitor_login_status"  : login_status
            });
        },
        handleRefuseUpgradeYou: function(data){
            if (window.utag) {
                this.fireRefuseUpgradeYou(data);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRefuseUpgradeYou(data) });
            }
        }              
    }
}
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealiumHelpAndSupport = {
    methods: {
        handleFooter: function(isUserLogged, title) {
            // #1 - Footer Track Action
            if (window.utag) {
                this.fireFooter(isUserLogged, title);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireFooter(isUserLogged, title);
                });
            }
        },
        fireFooter: function(isUserLogged, title) {
            // #1 - Footer Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": "Footer",
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": title,
                "event_value": "1",
                "page_name_next": "Homepage " + title,
                "visitor_login_status": visitor_login_status
            });

        },

        handleContactView: function(action, title, isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContactView(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContactView(isUserLogged);
                });
            }
        },
        fireContactView: function(isUserLogged) {
            // #1 - Contact Track Action
            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event": ["page_view"],
                "page_name": "Help Contacts",
                "page_section": "Homepage Help & Support",
                "visitor_login_status": visitor_login_status
            });

        },

        handleContact: function(action, title, isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContact(action, title, isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContact(action, title, isUserLogged);
                });
            }
        },
        fireContact: function(action, title, isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": action,
                "event_category": "Contacts Help & Support",
                "event": ["event_instance"],
                "event_label": title,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },

        handleContactNext: function(action, title, next, isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContactNext(action, title, next, isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContactNext(action, title, next, isUserLogged);
                });
            }
        },
        fireContactNext: function(action, title, next, isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": action,
                "event_category": "Contacts Help & Support",
                "event": ["event_instance"],
                "event_label": title,
                "event_value": "1",
                "page_name_next": next,
                "visitor_login_status": visitor_login_status
            });

        },

        handleHomePageView: function(isUserLogged) {
            // #1 - Footer Track Action
            if (window.utag) {
                this.fireHomePageView(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireHomePageView(isUserLogged);
                });
            }
        },
        fireHomePageView: function(isUserLogged) {
            // #1 - Track Action - After Login with Success and on getPortfolio request

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.view({
                "event": ["page_view"],
                "page_name": "Homepage Help & Support",
                "page_section": "Help & Support",
                "visitor_login_status": visitor_login_status
            });
        },
        handleNavigateInHelp: function(isUserLogged) {
            // #2 - Track Action - Navigate through Help & Support
            if (window.utag) {
                this.fireNavigateInHelp(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireNavigateInHelp(isUserLogged);
                });
            }
        },
        fireNavigateInHelp: function(isUserLogged) {
            // #2 - Track Action - Navigate through Help & Support

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": "Homepage Above the Fold",
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": "Navigate through Help & Support",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },
        handleMostPopular: function(isUserLogged, clicked_popular_item) {
            // #5 - Track Action - Most Popular

            // get the value from the selected most popular item - ex: "Como posso pedir um cartão Vodafone?"
            if (window.utag) {
                this.fireMostPopular(isUserLogged, clicked_popular_item);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireMostPopular(isUserLogged, clicked_popular_item);
                });
            }
        },
        fireMostPopular: function(isUserLogged, clicked_popular_item) {
            // #5 - Track Action - Most Popular

            // get the value from the selected most popular item - ex: "Como posso pedir um cartão Vodafone?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = clicked_popular_item,
                page_name_next = clicked_popular_item;

            utag.link({
                "event_action": "Most Popular",
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "page_name_next": page_name_next,
                "visitor_login_status": visitor_login_status
            });

        },
        handleBlockGroup: function(isUserLogged, blockTitle) {
            // #3 - Track Action - New and Popular
            // #6 - Track Action - Topics

            if (window.utag) {
                this.fireBlockGroup(isUserLogged, blockTitle);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireBlockGroup(isUserLogged, blockTitle);
                });
            }
        },
        fireBlockGroup: function(isUserLogged, blockTitle) {
            // #3 - Track Action - New and Popular
            // #6 - Track Action - Topics


            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = blockTitle;


            utag.link({
                "event_action": "Homepage Above the Fold",
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },

        handleTopics: function(isUserLogged, category, topic_name) {

            // #6 - Track Action - Topics

            if (window.utag) {
                this.fireTopics(isUserLogged, category, topic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireTopics(isUserLogged, category, topic_name);
                });
            }
        },
        fireTopics: function(isUserLogged, category, topic_name) {

            // #6 - Track Action - Topics

            // get the clicked topic category - ex: "Assistência, faturação e complementos"
            // get the clicked topic name - ex: "Serviços Suplementares"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = category,
                event_label = topic_name;


            utag.link({
                "event_action": event_action,
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },

        handleSubTopics: function(isUserLogged, topic_name, subTopic_name) {
            // #3 - Track Action - New and Popular
            // #6 - Track Action - Topics

            if (window.utag) {
                this.fireSubTopics(isUserLogged, topic_name, subTopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSubTopics(isUserLogged, topic_name, tubTopic_name);
                });
            }
        },
        fireSubTopics: function(isUserLogged, topic_name, subTopic_name) {

            // get the clicked subtopic topic name - ex: "Serviços Suplementares"
            // get the clicked subtopic name - ex: "Alertas"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = topic_name,
                event_label = subTopic_name,
                page_name_next = subTopic_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": visitor_login_status
            });

        },

        handleCloseSubTopics: function(isUserLogged) {
            // #9 - Track Action - Close Subtopics


            if (window.utag) {
                this.fireCloseSubTopics(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireCloseSubTopics(isUserLogged);
                });
            }
        },
        fireCloseSubTopics: function(isUserLogged) {

            // #9 - Track Action - Close Subtopics

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";
            utag.link({
                "event_action": "Topics",
                "event_category": "Homepage Help & Support",
                "event": ["event_instance"],
                "event_label": "Close Subtopics",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });


        },
        handleViewSubTopicPage: function(isUserLogged, subTopic_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireViewSubTopicPage(isUserLogged, subTopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireViewSubTopicPage(isUserLogged, subTopic_name);
                });
            }
        },
        fireViewSubTopicPage: function(isUserLogged, subTopic_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                page_name = subTopic_name;

            utag.view({
                "event": ["page_view"],
                "page_name": page_name,
                "page_section": "Homepage Help & Support",
                "visitor_login_status": visitor_login_status
            });


        },

        handleClickOnArticle: function(isUserLogged,subTopic_name, article_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireClickOnArticle(isUserLogged,subTopic_name,article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickOnArticle(isUserLogged,subTopic_name,article_name);
                });
            }
        },
        fireClickOnArticle: function(isUserLogged,subTopic_name,article_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = subTopic_name,
                event_label = article_name
            page_name_next = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Subtopic Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": visitor_login_status
            });


        },
        handleLoadMoreArticles: function(isUserLogged, subTopic_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireLoadMoreArticles(isUserLogged, subTopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireLoadMoreArticles(isUserLogged, subTopic_name);
                });
            }
        },
        fireLoadMoreArticles: function(isUserLogged, subTopic_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = subTopic_name;


            utag.link({
                "event_action": event_action,
                "event_category": "Subtopic Help & Support",
                "event": ["event_instance"],
                "event_label": "Load More Articles",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });


        },

        handleGoToHomePage: function(action, category, isUserLogged) {
            // #1 - Track View - Subtopics
            if (window.utag) {
                this.fireGoToHomePage(action, category, isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireGoToHomePage(action, category, isUserLogged);
                });
            }
        },
        fireGoToHomePage: function(action, category, isUserLogged) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": action,
                "event_category": category,
                "event": ["event_instance"],
                "event_label": "Go to Homepage",
                "event_value": "1",
                "page_name_next": "Homepage Help & Support",
                "visitor_login_status": visitor_login_status
            });

        },
        handleArticlePageView: function(isUserLogged, subTopic_name, article_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireArticlePageView(isUserLogged, subTopic_name, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireArticlePageView(isUserLogged, subTopic_name, article_name);
                });
            }
        },
        fireArticlePageView: function(isUserLogged, subTopic_name, article_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                page_name = article_name,
                page_section = "Homepage Help & Support:" + subTopic_name;


            utag.view({
                "event": ["page_view"],
                "page_name": page_name,
                "page_section": page_section,
                "visitor_login_status": visitor_login_status
            });
        },

        handleArticleWasHelpful: function(isUserLogged, article_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireArticleWasHelpful(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireArticleWasHelpful(isUserLogged, article_name);
                });
            }
        },
        fireArticleWasHelpful: function(isUserLogged, article_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Yes, This Article was Helpful",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleArticleWasNotHelpful: function(isUserLogged, article_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireArticleWasNotHelpful(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireArticleWasNotHelpful(isUserLogged, article_name);
                });
            }
        },
        fireArticleWasNotHelpful: function(isUserLogged, article_name) {
          

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "No, This Article did not Help",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleBackToFeedback: function(isUserLogged, article_name) {
            // #1 - Track View - Subtopics

            // get the subtopic name from the page - ex: "Alojamento e domínios"

            if (window.utag) {
                this.fireBackToFeedback(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireBackToFeedback(isUserLogged, article_name);
                });
            }
        },
        fireBackToFeedback: function(isUserLogged, article_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Back to Feedback Options",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleRelatedArticleContacts: function(isUserLogged, article_name) {
            // #4 - Track Action - See Contacts

            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireRelatedArticleContacts(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireRelatedArticleContacts(isUserLogged, article_name);
                });
            }

        },
        fireRelatedArticleContacts: function(isUserLogged, article_name) {
            // #4 - Track Action - See Contacts

            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "See Contacts",
                "event_value": "1",
                "page_name_next": "Help Contacts",
                "visitor_login_status": visitor_login_status
            });
        },
        handleCloseContacts: function(isUserLogged, article_name) {
            // #4 - Track Action - See Contacts

            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireCloseContacts(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireCloseContacts(isUserLogged, article_name);
                });
            }
        },
        fireCloseContacts: function(isUserLogged, article_name) {
            // #5 - Track Action - Close Contacts

            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Close Contacts",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleCloseContactsOverlay: function(isUserLogged, article_name) {
            // #6 - Track Action - Close Contacts Overlay


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireCloseContactsOverlay(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireCloseContactsOverlay(isUserLogged, article_name);
                });
            }
        },
        fireCloseContactsOverlay: function(isUserLogged, article_name) {
            // #6 - Track Action - Close Contacts Overlay


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Close Contacts Overlay",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleGoToContacts: function(isUserLogged, article_name, contact_name) {
            // #7 - Track Action - Contactos


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireGoToContacts(isUserLogged, article_name, contact_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireGoToContacts(isUserLogged, article_name, contact_name);
                });
            }
        },
        fireGoToContacts: function(isUserLogged, article_name, contact_name) {

            // #6 - Track Action - Close Contacts Overlay


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name,
                contact_label = contact_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": contact_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleShare: function(isUserLogged, article_name) {
            // #8 - Track Action - Share


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireShare(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireShare(isUserLogged, article_name);
                });
            }
        },
        fireShare: function(isUserLogged, article_name) {

            // #8 - Track Action - Share


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Share",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleShareSocialNetwork: function(isUserLogged, article_name, share_name) {
            // #8 - Track Action - Share


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireShareSocialNetwork(isUserLogged, article_name, share_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireShareSocialNetwork(isUserLogged, article_name, share_name);
                });
            }
        },
        fireShareSocialNetwork: function(isUserLogged, article_name, share_name) {

            // #8 - Track Action - Share


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name
            event_label = share_name;

            utag.link({
                "event_action": event_action,
                "event_category": "Article Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
        handleClickOnRelatedArticle: function(isUserLogged, article_name, related_article) {
            // #8 - Track Action - Share


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            if (window.utag) {
                this.fireClickOnRelatedArticle(isUserLogged, article_name, related_article);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickOnRelatedArticle(isUserLogged, article_name, related_article);
                });
            }
        },
        fireClickOnRelatedArticle: function(isUserLogged, article_name, related_article) {

            // #10 - Track Action - Related Articles


            // get the article name from the page - ex: "A Vodafone auxilia-me a construir a minha página web?"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = article_name
            event_label = related_article;

            utag.link({
                "event_action": event_action,
                "event_category": "Related Article Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },
        handleViewRelatedArticle: function(isUserLogged, related_article, subtopic_name) {
            // #11 - Track View - Article


            if (window.utag) {
                this.fireViewRelatedArticle(isUserLogged, related_article, subtopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireViewRelatedArticle(isUserLogged, related_article, subtopic_name);
                });
            }
        },
        fireViewRelatedArticle: function(isUserLogged, related_article, subtopic_name) {

            // #11 - Track View - Article

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                page_name = related_article,
                page_section = "Homepage Help & Support:" + subtopic_name;

            utag.view({
                "event": ["page_view"],
                "page_name": page_name,
                "page_section": page_section,
                "visitor_login_status": visitor_login_status
            });


        },
        handleCloseRelatedArticle: function(isUserLogged, related_article) {
            // #12 - Track Action - Close Article


            if (window.utag) {
                this.fireCloseRelatedArticle(isUserLogged, related_article);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireCloseRelatedArticle(isUserLogged, related_article);
                });
            }
        },
        fireCloseRelatedArticle: function(isUserLogged, related_article) {

            // #12 - Track Action - Close Article

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_action = related_article;


            utag.link({
                "event_action": event_action,
                "event_category": "Related Article Help & Support",
                "event": ["event_instance"],
                "event_label": "Close Article",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });


        },
        handleOpenBreadCrumb: function(isUserLogged, subTopic_name) {
            // #1 - Track Action - Open Breadcrumb

            if (window.utag) {
                this.fireOpenBreadCrumb(isUserLogged, subTopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireOpenBreadCrumb(isUserLogged, subTopic_name);
                });
            }
        },
        fireOpenBreadCrumb: function(isUserLogged, subTopic_name) {

            // #1 - Track Action - Open Breadcrumb

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = subTopic_name;



            utag.link({
                "event_action": "Open Breadcrumb",
                "event_category": "Breadcrumb Help & Support",
                "event": ["event_instance"],
                "event_label": "BreadCrumb - " + event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });
        },
         // Track Action - Click in a different Section in the breadcrumb

        handleBreadCrumbSelectSection: function(isUserLogged, topic_name) {
            if (window.utag) {
                this.fireBreadCrumbSelectSection(isUserLogged, topic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                me.fireBreadCrumbSelectSection(isUserLogged, topic_name);
                });
            }
        },
        fireBreadCrumbSelectSection: function(isUserLogged, topic_name) {

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = topic_name;

            utag.link({
                "event_action"          : "Section Breadcrumb",
                "event_category"        : "Breadcrumb Help & Support",
                "event"                 : ["event_instance"],
                "event_label"           : event_label,
                "event_value"           : "1",
                "visitor_login_status"  : visitor_login_status
            });
        },
        handleBreadCrumbSelectTopic: function(isUserLogged, topic_name) {
            // #2 - Track Action - Topic

            // get the clicked topic - ex: "My Vodafone"


            if (window.utag) {
                this.fireBreadCrumbSelectTopic(isUserLogged, topic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireBreadCrumbSelectTopic(isUserLogged, topic_name);
                });
            }
        },
        fireBreadCrumbSelectTopic: function(isUserLogged, topic_name) {


            // #2 - Track Action - Topic

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = topic_name;


            utag.link({
                "event_action": "Topic Breadcrumb",
                "event_category": "Breadcrumb Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },
        handleBreadCrumbSelectSubTopic: function(isUserLogged, subTopic_name) {
            // #3 - Track Action - Subtopic

            // get the clicked subtopic - ex: "App My Vodafone"


            if (window.utag) {
                this.fireBreadCrumbSelectSubTopic(isUserLogged, subTopic_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireBreadCrumbSelectSubTopic(isUserLogged, subTopic_name);
                });
            }
        },
        fireBreadCrumbSelectSubTopic: function(isUserLogged, subTopic_name) {

            // #3 - Track Action - Subtopic

            // get the clicked subtopic - ex: "App My Vodafone"

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out",
                event_label = subTopic_name,
                page_name_next = subTopic_name;



            utag.link({
                "event_action": "Subtopic Breadcrumb",
                "event_category": "Breadcrumb Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": visitor_login_status
            });
        },
        handleContactView: function(isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContactView(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContactView(isUserLogged);
                });
            }
        },
        fireContactView: function(isUserLogged) {
            // #1 - Contact Track Action
            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.view({
                "event": ["page_view"],
                "page_name": "Help Contacts",
                "page_section": "Homepage Help & Support",
                "visitor_login_status": visitor_login_status
            });

        },

        handleContact: function(action, title, isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContact(action, title, isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContact(action, title, isUserLogged);
                });
            }
        },
        fireContact: function(action, title, isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": action,
                "event_category": "Contacts Help & Support",
                "event": ["event_instance"],
                "event_label": title,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });

        },

        handleContactNext: function(action, title, next, isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireContactNext(action, title, next, isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireContactNext(action, title, next, isUserLogged);
                });
            }
        },
        fireContactNext: function(action, title, next, isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";

            utag.link({
                "event_action": action,
                "event_category": "Contacts Help & Support",
                "event": ["event_instance"],
                "event_label": title,
                "event_value": "1",
                "page_name_next": next,
                "visitor_login_status": visitor_login_status
            });

        },
        handleSearchTerms: function(isUserLogged, search_terms) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireSearchTerms(isUserLogged, search_terms);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSearchTerms(isUserLogged, search_terms);
                });
            }
        },
        fireSearchTerms: function(isUserLogged, search_terms) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";


            utag.link({
                "event_action": "Search Help & Support",
                "event_category": "Search Help & Support",
                "event": ["event_instance", "search_apply"],
                "event_label": "Search",
                "event_value": "1",
                "visitor_login_status": visitor_login_status,
                "search_terms": search_terms
            });

        },
        handleClickSearchResults: function(isUserLogged, article_name) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireClickSearchResults(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireClickSearchResults(isUserLogged, article_name);
                });
            }
        },
        fireClickSearchResults: function(isUserLogged, article_name) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";


            utag.link({
                "event_action": "See Search Result",
                "event_category": "Search Help & Support",
                "event": ["event_instance", "search_results_clickthrough"],
                "event_label": article_name,
                "event_value": "1",
                "page_name_next": article_name,
                "visitor_login_status": visitor_login_status
            });

        },
        handleSearchSeeMoreReSults: function(isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireSearchSeeMoreReSults(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSearchSeeMoreReSults(isUserLogged);
                });
            }
        },
        fireSearchSeeMoreReSults: function(isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";


            utag.link({
                "event_action": "Search Help & Support",
                "event_category": "Search Help & Support",
                "event": ["event_instance", "search_apply"],
                "event_label": "See More Results",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });


        },
        handleSearchSeeMoreReSults: function(isUserLogged) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireSearchSeeMoreReSults(isUserLogged);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireSearchSeeMoreReSults(isUserLogged);
                });
            }
        },
        fireSearchSeeMoreReSults: function(isUserLogged) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";


            utag.link({
                "event_action": "Search Help & Support",
                "event_category": "Search Help & Support",
                "event": ["event_instance", "search_apply"],
                "event_label": "See More Results",
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });


        },
        handleViewSearchedArticle: function(isUserLogged, article_name) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireViewSearchedArticle(isUserLogged, article_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireViewSearchedArticle(isUserLogged, article_name);
                });
            }
        },
        fireViewSearchedArticle: function(isUserLogged, article_name) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out";


            utag.view({
                "event": ["page_view"],
                "page_name": article_name,
                "page_section": "Homepage Help & Support",
                "visitor_login_status": visitor_login_status
            });



        },
        handleProfilingLabel: function(isUserLogged, article_name, label_name) {
            // #1 - Contact Track Action
            if (window.utag) {
                this.fireProfilingLabel(isUserLogged, article_name, label_name);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() {
                    me.fireProfilingLabel(isUserLogged, article_name, label_name);
                });
            }
        },
        fireProfilingLabel: function(isUserLogged, article_name, label_name) {
            // #1 - Contact Track Action

            var visitor_login_status = isUserLogged ? "Logged In" : "Logged Out"
            event_action = article_name,
                event_label = label_name;


            utag.link({
                "event_action": event_action,
                "event_category": "Article Profiling Help & Support",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": visitor_login_status
            });



        }



    }


};
var tealium_equipmentSimulator = {
    methods: {
        fireSubmitEshopSimulation: function (answers) {
            // #2 - Track Action - Submit Eshop Simulation

            if (answers) {
                var login_status = utag_data.visitor_login_status;
                
                var product_package_configuration_type = [];
                
                var product_package_configuration_value = [];
                
                Object.keys(answers).forEach(function(key){
                    product_package_configuration_type.push(answers[key].questionDescription);
                    product_package_configuration_value.push(answers[key].answer.description);
                });            
                utag.link({
                    "event_action": "Submit Eshop Simulation",
                    "event_category": "Eshop Simulator",
                    "event": ["event_instance"],
                    "event_label": "Submit Eshop Simulation",
                    "event_value": "1",
                    "product_package_configuration_type:": product_package_configuration_type,
                    "product_package_configuration_value:": product_package_configuration_value,
                    "visitor_login_status": login_status
                });
            }
        },
        handleSubmitEshopSimulation: function (answers) {
            if (window.utag) {
                this.fireSubmitEshopSimulation(answers);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubmitEshopSimulation(answers)
                });
            }
        },
        fireBuyX: function (equipmentName) {
            // #3 - Track Action - Buy X
            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action": "Buy " + equipmentName,
                "event_category": "Eshop Simulator",
                "event": ["event_instance"],
                "event_label": "Buy " + equipmentName,
                "event_value": "1",
                "visitor_login_status": login_status
            });
        },
        handleBuyX: function (equipmentName) {
            if (window.utag) {
                this.fireBuyX(equipmentName);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBuyX(equipmentName)
                });
            }
        },
    }
}
var tealium_coverage_result = {
    methods: {

        fireCheckCoverageClickSubmit: function(success) {
            var login_status = utag_data.visitor_login_status;

            var page_name_next = "Submitted Coverage Result 10 Form with Success";
            var page_name = "Submitted Coverage Result 10 Form with Success";

            if(!success){
                page_name_next = "Error Submitting Coverage Result 10 Form";
                page_name = "Error Submitting Coverage Result 10 Form";
            }

            // #1 - Track Action - Submit Coverage Result 10 Form
            utag.link({
                "event_action"          : "Submit Coverage Result 10 Form",
                "event_category"        : "Coverage Test",
                "event"                 : ["click_event"],
                "event_label"           : "Submit Coverage Result 10 Form",
                "event_value"           : "1",
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : login_status
            });

            // #2 - Track View - Submitted Coverage Result 10 Form with Success
            // OR
            // #3 - Track View - Error Submitting Coverage Result 10 Form
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : page_name,
                "page_section"          : "Início:Pacotes:Cobertura:Check Coverage Results:Undetermined (may be fiber)",
                "visitor_login_status"  : login_status
            });
        },

        handleCheckCoverageClickSubmit: function(success) {
            if(window.utag) {
                this.fireCheckCoverageClickSubmit(success);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCheckCoverageClickSubmit(success) });
            }
        }
    }
};

var tealium_product_pages = {
    methods: {
        // #1 - Track View - Fixed Bundles
        // the current default tab when https://www.vodafone.pt/pacotes.html is opened is the "Net"
        // set the product_name according to the default tab
        // #12 - Track View - Mobile Internet
        // the current default tab when https://www.vodafone.pt/internet-movel.html is opened is the "Postpay"
        // set the product_category and product_name according to the default tab
        fireBundles: function (productName, productCategory) {
            //var product_name = ["Net", "3P", "Fixed Bundles with Mobile"];
            utag_data.product_name = productName;
            utag_data.product_category = productCategory;
        },
        handleBundles: function (productName, productCategory) {
            if (window.utag) {
                this.fireBundles(productName, productCategory);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBundles(productName, productCategory)
                });
            }
        },
        // #2 - Track Action - Choose Fixed Bundles Tabs
        // set the event_label and page_name_next based on the clicked tab item
        fireChooseFixedBundlesTabs: function (event_label, page_name_next) {            
            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action": "Choose Fixed Bundles Tabs",
                "event_category": "Fixed Bundles",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": login_status
            });

            if(event_label === 'Net'){
                this.handleNetFixedBundles();
            }
            else if(event_label === '3P'){
                this.handle3PFixedBundles();
            }
            else if(event_label === 'Bundles with Mobile'){
                this.handleFixedBundlesWithMobile();
            }
        },
        handleChooseFixedBundlesTabs: function (event_label, page_name_next) {
            if (window.utag) {
                this.fireChooseFixedBundlesTabs(event_label, page_name_next);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireChooseFixedBundlesTabs(event_label, page_name_next)
                });
            }
        },
        // #3 - Track View - Net Fixed Bundles
        // after clicking the Net tab item track this page view
        fireNetFixedBundles: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view", "product_view"],
                "page_name": "Net Fixed Bundles",
                "page_platform": "Início:Pacotes",
                "page_section": "Início:Pacotes:Net Fixed Bundles",
                "product_category": "Fixed",
                "product_name": "Net",
                "visitor_login_status": login_status
            });
        },

        handleNetFixedBundles: function () {
            if (window.utag) {
                this.fireNetFixedBundles();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireNetFixedBundles()
                });
            }
        },
        // #4 - Track View - 3P Fixed Bundles
        // after clicking the Tv Net Voz tab item track this page view
        fire3PFixedBundles: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view", "product_view"],
                "page_name": "3P Fixed Bundles",
                "page_platform": "Início:Pacotes",
                "page_section": "Início:Pacotes:3P Fixed Bundles",
                "product_category": "Fixed",
                "product_name": "3P",
                "visitor_login_status": login_status
            });
        },
        handle3PFixedBundles: function () {
            if (window.utag) {
                this.fire3PFixedBundles();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fire3PFixedBundles()
                });
            }
        },
        // #5 - Track View - Fixed Bundles with Mobile
        // after clicking the Pacotes com Móvel tab item track this page view
        fireFixedBundlesWithMobile: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view", "product_view"],
                "page_name": "Fixed Bundles with Mobile",
                "page_platform": "Início:Pacotes",
                "page_section": "Início:Pacotes:Fixed Bundles with Mobile",
                "product_category": "Fixed",
                "product_name": "Fixed Bundles with Mobile",
                "visitor_login_status": login_status
            });
        },
        handleFixedBundlesWithMobile: function () {
            if (window.utag) {
                this.fireFixedBundlesWithMobile();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFixedBundlesWithMobile()
                });
            }
        },
        // #13 - Track Action - Choose Mobile Internet Tabs
        fireChooseMobileInternetTabs: function (default_tab) {
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action": "Choose Mobile Internet Tabs",
                "event_category": "Mobile Internet",
                "event": ["event_instance"],
                "event_label": default_tab,
                "event_value": "1",
                "page_name_next": default_tab,
                "visitor_login_status": login_status
            });

            if(default_tab === 'Vodafone On'){
                this.handleVodafoneOn();
            }
            else if(default_tab === 'Vodafone Go'){
                this.handleVodafoneGo();
            }
        },
        handleChooseMobileInternetTabs: function (default_tab) {
            if (window.utag) {
                this.fireChooseMobileInternetTabs(default_tab);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireChooseMobileInternetTabs(default_tab)
                });
            }
        },
        // #14 - Track View - Vodafone On
        // after clicking the Postpay tab item track this page view
        fireVodafoneOn: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view", "product_view"],
                "page_name": "Vodafone On",
                "page_section": "Início:Internet Móvel:Mobile Internet",
                "page_section_full": "Início:Internet Móvel:Mobile Internet:Vodafone On",
                "product_category": "Postpay",
                "product_name": "Vodafone On",
                "visitor_login_status": login_status
            });
        },
        handleVodafoneOn: function () {
            if (window.utag) {
                this.fireVodafoneOn();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireVodafoneOn()
                });
            }
        },
        // #15 - Track View - Vodafone Go
        // after clicking the Prepaid tab item track this page view
        fireVodafoneGo: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view", "product_view"],
                "page_name": "Vodafone Go",
                "page_section": "Início:Internet Móvel:Mobile Internet",
                "page_section_full": "Início:Internet Móvel:Mobile Internet:Vodafone Go",
                "product_category": "Prepay",
                "product_name": "Vodafone Go",
                "visitor_login_status": login_status
            });
        },
        handleVodafoneGo: function () {
            if (window.utag) {
                this.fireVodafoneGo();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireVodafoneGo()
                });
            }
        }
    }
}
var tealium_paypal = {
	methods: {

    // #1 - Track Action - Top Up Paypal

        fireTopUpPaypal: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Open Top Up Paypal Layer",
                "event_category"        : "Top Up",
                "event"                 : ["event_instance"],
                "event_label"           : "Top Up Paypal",
                "event_value"           : "1",
                "page_name_next"        : "Top Up Paypal",
                "visitor_login_status"	: login_status 
            });

         },
        handleTopUpPaypal: function(){
             if (window.utag) {
                 this.fireTopUpPaypal();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTopUpPaypal() });
             }
         },

    // #2 - Track View - Top Up Paypal
        fireTopUpPaypalView: function(){

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Top Up Paypal",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Top Up",
                "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Top Up:Top Up Paypal",
                "visitor_login_status"	: login_status 
            });
        },
        handleTopUpPaypalView: function(){
             if (window.utag) {
                 this.fireTopUpPaypalView();
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTopUpPaypalView() });
             }
        },

    // #3 - Track View - Error Invalid for Top Up
        fireErrorInvalidTopUp: function(){

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Error Invalid for Top Up",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Top Up",
                "visitor_login_status"	: login_status 
            });

         },
        handleErrorInvalidTopUp: function(){
            if (window.utag) {
              this.fireErrorInvalidTopUp();
            }
            else{
              var me = this;
              tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorInvalidTopUp() });
            }
        },

    // #4 - Track View - Error Invalid Number
        fireErrorInvalidNumber: function(){

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Error Invalid Number",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Top Up",
                "page_section_full"     : "Início:Telemóveis e Tarifários:Tarifários:Top Up:Error Invalid Number",
                "visitor_login_status"	: login_status 
            });
        },
        handleErrorInvalidNumber: function(){
            if (window.utag) {
              this.fireErrorInvalidNumber();
            }
            else{
              var me = this;
              tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorInvalidNumber() });
            }
        },


    // #5 - Track Action - Submit Top Up Paypal
        fireSubmitTopUpPaypal: function(){

            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action"          : "Submit Top Up Paypal",
                "event_category"        : "Top Up",
                "event"                 : ["event_instance"],
                "event_label"           : "Submit Top Up Paypal",
                "event_value"           : "1",
                "page_name_next"        : "Top Up Paypal Submitted",
                "visitor_login_status"	: login_status 
            });
         },
        handleSubmitTopUpPaypal: function(){
            if (window.utag) {
                this.fireSubmitTopUpPaypal();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitTopUpPaypal() });
            }
         },


    // #6 - Track View - Top Up Paypal Submitted
        fireTopUpPaypalSubmitted: function(){

            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Top Up Paypal Submitted",
                "page_section"          : "Início:Telemóveis e Tarifários:Tarifários:Top Up",
                "visitor_login_status"	: login_status 
            });
        },
        handleTopUpPaypalSubmitted: function(){
            if (window.utag) {
                this.fireTopUpPaypalSubmitted();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTopUpPaypalSubmitted() });
            }
        }
    }
}
var tealium_subscriptionForm = {
    methods: {

        /**
         * Fired when user click goToNextStep on Step 1 (Subscription Data)
         */
        fireAdvanceToSubscriptionData: function () {
            utag.link({
                "event_action": "Advance to Subscription Data",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Advance to Subscription Data",
                "event_value": "1",
                "page_name_next": "Subscription Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleAdvanceToSubscriptionData: function () {
            if (window.utag) {
                this.fireAdvanceToSubscriptionData();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAdvanceToSubscriptionData()
                });
            }
        },


        /**
         * Fired on create of Step 2 (Subscription Data)
         */
        fireViewSubscriptionData: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Subscription Data",
                "page_section": "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewSubscriptionData: function () {
            if (window.utag) {
                this.fireViewSubscriptionData();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewSubscriptionData()
                });
            }
        },


        /**
         * Fired when NO FIBER Error
         */
        fireViewNoFiberError: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Error No Fiber",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:Subscription Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewNoFiberError: function () {
            if (window.utag) {
                this.fireViewNoFiberError();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewNoFiberError()
                });
            }
        },


        /**
         * Fired when COMING NOT SO SOON Error
         */
        fireViewComingNotSoSoonError: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Coming Not So Soon",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:Subscription Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewComingNotSoSoonError: function () {
            if (window.utag) {
                this.fireViewComingNotSoSoonError();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewComingNotSoSoonError()
                });
            }
        },


        /**
         * Fired when NON FIBER ZONE Error
         */
        fireViewNonFiberZoneError: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Non Fiber Zone",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:Subscription Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewNonFiberZoneError: function () {
            if (window.utag) {
                this.fireViewNonFiberZoneError();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewNonFiberZoneError()
                });
            }
        },


        /**
         * Fired when ZONE WITHOUT DOOR Error
         */
        fireViewWithOutDoorError: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Fiber Zone without Door",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:Subscription Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewWithOutDoorError: function () {
            if (window.utag) {
                this.fireViewWithOutDoorError();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewWithOutDoorError()
                });
            }
        },

        /**
         * Fired when user click goToNextStep on Step 2 (Billing Data)
         */
        fireAdvanceToBillingData: function (success) {

            var page_name_next = success ? "Billing Data" : "Billing Data Error";

            utag.link({
                "event_action": "Advance to Billing Data",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Advance to Billing Data",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": utag_data.visitor_login_status
            });

            if (!success) {
                utag.view({
                    "event": ["page_view"],
                    "page_name": "Error Advancing to Billing",
                    "page_section": "Início:Pacotes:Pacotes Fibra ID:Subscription Data",
                    "visitor_login_status": utag_data.visitor_login_status
                });
            }
        },

        handleAdvanceToBillingData: function (success) {
            if (window.utag) {
                this.fireAdvanceToBillingData(success);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAdvanceToBillingData(success)
                });
            }
        },


        /**
         * Fired on create of Step 3 (Billing Data)
         */
        fireViewBillingData: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Billing Data",
                "page_section": "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewBillingData: function () {
            if (window.utag) {
                this.fireViewBillingData();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewBillingData()
                });
            }
        },


        /**
         * Fired when user click goToNextStep on Step 3 (Activation Data)
         */
        fireAdvanceToActivationData: function () {

            utag.link({
                "event_action": "Advance to Activation Data",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Advance to Activation Data",
                "event_value": "1",
                "page_name_next": "Activation Data",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleAdvanceToActivationData: function () {
            if (window.utag) {
                this.fireAdvanceToActivationData();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAdvanceToActivationData(success)
                });
            }
        },


        /**
         * Fired on create of Step 4 (Activation Data)
         */
        fireViewActivationData: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Activation Data",
                "page_section": "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewActivationData: function () {
            if (window.utag) {
                this.fireViewActivationData();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewActivationData()
                });
            }
        },


        /**
         * Fired when user click "Concluir" on Step 4 to submit subscription
         */
        fireSubmitOnlineSubscription: function (success) {

            var page_name_next = success ? "Submitted Fixed Bundle Online Subscription with Success" : "Error Submitting Fixed Bundle Online Subscription";

            utag.link({
                "event_action": "Submit Fixed Bundle Online Subscription",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Submit Fixed Bundle Online Subscription",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleSubmitOnlineSubscription: function (success) {
            if (window.utag) {
                this.fireSubmitOnlineSubscription(success);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubmitOnlineSubscription(success)
                });
            }
        },


        /**
         * Fired when submit subscription SUCCESS PAGE is shown
         */
        fireViewOnlineSubscriptionSuccess: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Submitted Fixed Bundle Online Subscription with Success",
                "page_section": "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewOnlineSubscriptionSuccess: function () {
            if (window.utag) {
                this.fireViewOnlineSubscriptionSuccess();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewOnlineSubscriptionSuccess()
                });
            }
        },


        /**
         * Fired when submit subscription ERROR PAGE is shown
         */
        fireViewOnlineSubscriptionError: function () {

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Submitting Fixed Bundle Online Subscription",
                "page_section": "Início:Pacotes:Pacotes Fibra ID",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleViewOnlineSubscriptionError: function () {
            if (window.utag) {
                this.fireViewOnlineSubscriptionError();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewOnlineSubscriptionError()
                });
            }
        },

        handleBundleSummaryConfiguratorSubscriptionForm: function () {
            if (window.utag) {
                this.fireFixedBundleSummaryConfiguratorSubscriptionForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFixedBundleSummaryConfiguratorSubscriptionForm()
                });
            }
        },
        /**
         * #2 - Track View - E2E Fixed Bundle Summary
         */
        fireFixedBundleSummaryConfiguratorSubscriptionForm: function () {
            utag_data.page_name = "E2E Fixed Bundle Summary";
            utag_data.page_section = "Início:Pacotes:Pacotes Fibra ID";
        },

        handleExitBundlesConfiguratorSubscriptionForm: function (page) {
            if (window.utag) {
                this.fireExitBundlesConfiguratorSubscriptionForm(page);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExitBundlesConfiguratorSubscriptionForm(page)
                });
            }
        },

        /**
         * #3 - Track Action - Exit E2E Subscription Form
         * @param page
         */
        fireExitBundlesConfiguratorSubscriptionForm: function (page) {

            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action": "Exit E2E Subscription Form",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Exit E2E Subscription Form",
                "event_value": "1",
                "page_name_next": page.ref,
                "visitor_login_status": login_status
            });
        },

        handleConfirmCancelConfiguratorSubscriptionForm: function (action, page) {
            if (window.utag) {
                this.fireConfirmCancelConfiguratorSubscriptionForm(action, page);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireConfirmCancelConfiguratorSubscriptionForm(action, page)
                });
            }
        },

        /**
         * #4 - Track Action - var;Confirm/Cancel Exit
         * @param action
         * @param page
         */
        fireConfirmCancelConfiguratorSubscriptionForm: function (action, page) {
            var event_label = ["Confirm Exit", "Cancel Exit"];
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action": "Confirm/Cancel Exit",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": event_label[action],
                "event_value": "1",
                "page_name_next": page.ref,
                "visitor_login_status": login_status
            });
        },

        handleSaveFixedBundleConfiguratorSubscriptionForm: function () {
            if (window.utag) {
                this.fireSaveFixedBundleConfiguratorSubscriptionForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSaveFixedBundleConfiguratorSubscriptionForm()
                });
            }
        },

        /**
         * #5 - Track Action - Exit - Save Fixed Bundle
         */
        fireSaveFixedBundleConfiguratorSubscriptionForm: function () {
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action": "Exit - Save Fixed Bundle",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Exit - Save Fixed Bundle",
                "event_value": "1",
                "visitor_login_status": login_status
            });
        },

        handleEmailSaveFixedBundleConfiguratorSubscriptionForm: function () {
            if (window.utag) {
                this.fireEmailSaveFixedBundleConfiguratorSubscriptionForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireEmailSaveFixedBundleConfiguratorSubscriptionForm()
                });
            }
        },

        /**
         * #6 - Track Action - Email Saved Fixed Bundle
         */
        fireEmailSaveFixedBundleConfiguratorSubscriptionForm: function () {
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action": "Email Saved Fixed Bundle",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Email Saved Fixed Bundle",
                "event_value": "1",
                "visitor_login_status": login_status
            });
        },

        handleSaveFixedBundleSuccessConfiguratorSubscriptionForm: function () {
            if (window.utag) {
                this.fireSaveFixedBundleSuccessConfiguratorSubscriptionForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSaveFixedBundleSuccessConfiguratorSubscriptionForm()
                });
            }
        },

        /**
         * #7 - Track View - Saved Fixed Bundle with Success
         */
        fireSaveFixedBundleSuccessConfiguratorSubscriptionForm: function () {
            var login_status = utag_data.visitor_login_status;

            utag.view({
                "event": ["page_view"],
                "page_name": "Saved Fixed Bundle with Success",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:E2E Subscription Form",
                "visitor_login_status": login_status
            });
        },

        handleChooseInstalationDateConfiguratorSubscriptionForm: function () {
            if (window.utag) {
                this.fireChooseInstalationDateConfiguratorSubscriptionForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireChooseInstalationDateConfiguratorSubscriptionForm()
                });
            }
        },

        /**
         * #8 - Track Action - Choose Installation Date
         */
        fireChooseInstalationDateConfiguratorSubscriptionForm: function () {
            var login_status = utag_data.visitor_login_status;

            utag.link({
                "event_action": "Choose Installation Date",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance"],
                "event_label": "Choose Installation Date",
                "event_value": "1",
                "visitor_login_status": login_status
            });
        },

        handleErrorSubmittingFixedBundleOnlineSubscription: function () {
            if (window.utag) {
                this.fireErrorSubmittingFixedBundleOnlineSubscription();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrorSubmittingFixedBundleOnlineSubscription()
                });
            }
        },

        /**
         * #10 - Track View - Error Submitting Fixed Bundle Online Subscription
         */
        fireErrorSubmittingFixedBundleOnlineSubscription: function () {
            var login_status = utag_data.visitor_login_status;
            utag.view({
                "event": ["page_view"],
                "page_name": "Error Submitting Fixed Bundle Online Subscription",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:E2E Subscription Form",
                "visitor_login_status": login_status
            });
        },

        handleFixedBundleOnlineSubscriptionPermissions: function () {
            if (window.utag) {
                this.fireFixedBundleOnlineSubscriptionPermissions();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFixedBundleOnlineSubscriptionPermissions()
                });
            }
        },

        /**
         * #11 - Track View - Fixed Bundle Online Subscription Permissions
         */
        fireFixedBundleOnlineSubscriptionPermissions: function () {
            utag.view({
                "event": ["page_view"],
                "page_name": "Fixed Bundle Online Subscription Permissions",
                "page_section": "Início:Pacotes:Pacotes Fibra ID:Submitted Fixed Bundle Online Subscription with Success",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleSavePermissionsChanges: function (tabs, options) {
            if (window.utag) {
                this.fireSavePermissionsChanges(tabs, options);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSavePermissionsChanges(options)
                });
            }
        },
        /**
         * #12 - Track Action - Save Permissions Changes
         * @param option
         */
        fireSavePermissionsChanges: function (tabs, options) {
            var login_status = utag_data.visitor_login_status,
                typesArr = [],
                optionsArr = [];

            if (tabs && options) {
                for (var i = 0; i < tabs.children.length; i++) {
                    if (tabs.children[i].text && tabs.children[i].text != '') {
                        typesArr.push(tabs.children[i].text);

                        if (options[tabs.children[i].text]) {
                            optionsArr.push(Object.keys(options[tabs.children[i].text]).toString().replace(/,/gi, ';'));
                        } else {
                            optionsArr.push("");
                        }
                    }
                }
            }

            utag.link({
                "event_action": "Save Permissions Changes",
                "event_category": "Fixed Bundle Online Subscription",
                "event": ["event_instance", "page_filters"],
                "event_label": "Save Permissions Changes",
                "event_value": "1",
                "page_filters_type": typesArr,
                "page_filters_value": optionsArr,
                "visitor_login_status": login_status
            });
        },

        /**
         * New form tracking
         */

        /**
         * #15 - Track View - Errors
         * @param data
         * @param err
         */
        handleNewErrors: function (data, err) {
            if (window.utag) {
                this.fireErrors(data, err);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrors(data, err)
                });
            }
        },

        fireErrors: function (data, err) {
            var reason;
            switch (err) {
                case 'INVALID':
                    reason = 'Invalid NIF Error ' +  data.formType;
                    break;
                case 'RISK':
                    reason = 'Risk NIF Error ' +  data.formType;
                    break;
                default:
                    reason = 'System Error Content ' +  data.formType;
            }

            utag.view({
                "event": ["page_view"],
                "page_name":reason,
                "page_section": "Inicio:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         * #13 - Track Action - E2E Close
         * @param data
         */
        handleNewfireCloseSuccess: function (data) {
            if (window.utag) {
                this.fireCloseSuccess(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireCloseSuccess(data)
                });
            }
        },

        fireCloseSuccess: function (data) {
            utag.link({
                "event_action": "E2E " + data.formType + " Close",
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Close",
                "event_value": "1",
                "page_name_next": "page_name_next",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         * #12 - Track Action - Back to site
         * @param data
         */
        handleNewBackToSite: function (data) {
            if (window.utag) {
                this.fireBackToSite(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBackToSite(data)
                });
            }
        },

        fireBackToSite: function (data) {
            utag.link({
                "event_action": "E2E " + data.formType + " Back to Site",
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Back to Site",
                "event_value": "1",
                "page_name_next": "page_name_next",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         * #11 - Track View - Success
         * @param data
         */
        handleNewViewSuccess: function (data) {
            if (window.utag) {
                this.fireViewSuccess(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewSuccess(data)
                });
            }
        },
        fireViewSuccess: function (data) {
            utag.view({
                "event": ["page_view"],
                "page_name": "Submitted E2E " + data.formType + " Subscription with Success",
                "page_section": "Início:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            });

        },

        /**
         * #10 - Track Action - Remove Direct Debit
         * @param data
         */
        handleNewRemoveDirectDebit: function (data) {
            if (window.utag) {
                this.fireRemoveDirectDebit(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireRemoveDirectDebit(data)
                });
            }
        },

        fireRemoveDirectDebit: function (data) {
            utag.link({
                "event_action": "E2E Remove Direct Debit Step " + data.stepNumber + " - " + data.stepName,
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Remove Direct Debit Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         * #9 - Track Action - Open Direct Debit
         * @param field
         */
        handleNewOpenDirectDebit: function (data) {
            if (window.utag) {
                this.fireOpenDirectDebit(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireOpenDirectDebit(data)
                });
            }
        },

        fireOpenDirectDebit: function (data) {
            utag.link({
                "event_action": "E2E Open Direct Debit Step " + data.stepNumber + " - " + data.stepName,
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Open Direct Debit Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         * #8 - Track View - Form Error
         * @param data
         * @param field
         */
        handleNewFormFieldError: function (data, field) {
            if (window.utag) {
                this.fireFormFieldError(data, field);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFormFieldError(data, field)
                });
            }
        },

        fireFormFieldError: function (data, field) {
            var form_field_name;

            utag.view({
                "event": ["page_view"],
                "page_name": "Error " + field + " E2E " + data.formType + " Step " + data.stepNumber + " - " + data.stepName,
                "page_section": "Início:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleNewBackStep: function (data, array) {
            if (window.utag) {
                this.fireBackStep(data, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBackStep(data, array)
                });
            }
        },

        /**
         * #7 - Track Action - Back to Step X
         * @param data
         */
        fireBackStep: function (data,array) {

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];

            utag.link({
                "event_action": "E2E Back to Step " + data.stepNumber + " - " + data.stepName,
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Back to Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "page_name_next": data.nextPageName,
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleNewAdvanceStep: function (data, array) {
            if (window.utag) {
                this.fireAdvanceStep(data, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAdvanceStep(data, array)
                });
            }
        },
        /**
         * #6 - Track Action - Advance to Step X
         * @param data
         */
        fireAdvanceStep: function (data, array) {

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];

            utag.link({
                "event_action": "E2E Advance to Step " + data.stepNumber + " - " + data.stepName,
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Advance to Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "page_name_next": data.nextPageName,
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        /**
         *  #5 - Track Action - Header Go to Step X
         * the field names should be an array with the dynamic field names of the optional components
         * example for step 3 optional components, direct debit was filled and the other optional component was not
         * @param data
         */
        handleNewHeaderGoStep: function (data, array) {
            if (window.utag) {
                this.fireNewHeaderGoStep(data, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireNewHeaderGoStep(data, array)
                });
            }
        },

        fireNewHeaderGoStep: function (data, array) {

                var form_optional_field_name = array ? array.arrayFields : [];
                var form_optional_field_value = array ? array.arrayValues: [];

            utag.link({
                "event_action": "E2E Header Go to Step " + data.stepNumber + " - " + data.stepName,
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + data.formType + " Header Go to Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "page_name_next": data.nextPageName,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleNewConfirmCancelConfiguratorSubscriptionForm: function (action, data) {
            if (window.utag) {
                this.fireNewConfirmCancelConfiguratorSubscriptionForm(action, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireNewConfirmCancelConfiguratorSubscriptionForm(action, data)
                });
            }
        },

        /**
         * #3 - Track Action - Confirm/Cancel Exit
         * @param action
         * @param page
         */
        fireNewConfirmCancelConfiguratorSubscriptionForm: function (action, data) {
            var event_action = ["Confirm Exit E2E", "Cancel Exit E2E"];

            var event_label = ["Confirm Exit", "Cancel Exit"];
            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action": event_action[action],
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": event_label[action],
                "event_value": "1",
                "page_name_next": data.nextPageName,
                "visitor_login_status": login_status
            });
        },

        handleNewExitBundlesConfiguratorSubscriptionForm: function (data) {
            if (window.utag) {
                this.fireNewExitBundlesConfiguratorSubscriptionForm(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireNewExitBundlesConfiguratorSubscriptionForm(data)
                });
            }
        },

        /**
         * 2 - Track Action - Exit New E2E Subscription Form
         * @param data - Object with the necessary information
         */
        fireNewExitBundlesConfiguratorSubscriptionForm: function (data) {

            var login_status = utag_data.visitor_login_status;
            utag.link({
                "event_action": "Exit E2E Subscription Form",
                "event_category": "E2E Subscription " + data.formType,
                "event": ["event_instance"],
                "event_label": "Exit E2E " + data.formType + " Step " + data.stepNumber + " - " + data.stepName,
                "event_value": "1",
                "page_name_next": data.nextPageName,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleNewSummarySubscriptionForm: function (data) {
            if (window.utag) {
                this.fireNewSummarySubscriptionForm(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireNewSummarySubscriptionForm(data)
                });
            }
        },

        /**
         * #1 - Track View - E2E Step N - Summary
         * @param data
         */
        fireNewSummarySubscriptionForm: function (data) {

            // For the first step change the utag_data object because the URL changes
            utag_data.page_name = "E2E " + data.formType + " Step " + data.stepNumber + " - " + data.stepName; // ex: E2E BLM Step 1 - Resumo
            utag_data.page_section = "Início:Pacotes";
            utag_data.page_component = data.pageComponents;
            // For the following steps call the view function from utag object
            utag.view({
                "event": ["page_view"],
                "page_name": "E2E " + data.formType + " Step " + data.stepNumber + " - " + data.stepName,
                "page_section": "Início:Pacotes",
                "page_component": data.pageComponents,
                "visitor_login_status": utag_data.visitor_login_status
            });
        }
    }
};
var tealium_end2end_subscriptionForm = {
    methods: {

        /***************************************************************************************************************
        *
        *  OLDER METHODS THAT WERE ALREADY BEING USED BY End2End SubscriptionForm FROM STORIES
        *  VFPTBS-844 - Tracking E2E Modular AND VFPTBS-863 - Tracking E2E Modular - Campos opcionais
        *
        **************************************************************************************************************/

        /**
         * #1 - Track View - E2E Step N - Summary
         * @param data
         * OLD handleNewSummarySubscriptionForm
         */
        handleViewSummary: function (data) {
            if (window.utag) {
                this.fireViewSummary(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewSummary(data)
                });
            }
        },

        fireViewSummary: function (data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            // For the first step change the utag_data object because the URL changes
            utag_data.page_name = "E2E " + currentStep.formType + " Step " + currentStep.stepNumber + " - " + currentStep.stepName; // ex: E2E BLM Step 1 - Resumo
            utag_data.page_section = "Início:Pacotes";
            utag_data.page_component = currentStep.pageComponentsTitles;

            // For the following steps call the view function from utag object
            var viewObj = {
                "event": ["page_view"],
                "page_name": "E2E " + currentStep.formType + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "page_section": "Início:Pacotes",
                "page_component": currentStep.pageComponents,
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.view(viewObj);
        },

        /**
         * #1 - Track View
         * @param data
         */
        handlePageView: function (data) {
            if (window.utag) {
                this.firePageView(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.firePageView(data)
                });
            }
        },

        firePageView: function (data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var viewObj = {
                "event": ["page_view"],
                "page_name": "E2E " + currentStep.formType + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "page_section": "Início:Pacotes",
                "page_component": currentStep.pageComponents,
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.view(viewObj);
        },


        /**
         * #2 - Track Action - Exit New E2E Subscription Form
         * @param data - Object with the necessary information
         * OLD handleNewExitBundlesConfiguratorSubscriptionForm
         */
        handleFormExit: function (data) {
            if (window.utag) {
                this.fireFormExit(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFormExit(data)
                });
            }
        },

        fireFormExit: function (data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "Exit E2E Subscription Form",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "Exit E2E " + currentStep.formType + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "event_value": "1",
                "page_name_next": "",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);

            var viewObj = {
                "event": ["page_view"],
                "page_name": "Exit E2E " + currentStep.formType + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "page_section": "Início:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.view(viewObj);
        },


        /**
         * #3 - Track Action - Confirm/Cancel Exit
         * @param action
         * @param page
         * OLD handleNewConfirmCancelConfiguratorSubscriptionForm
         */
        handleFormExitConfirmCancel: function (action, data) {
            if (window.utag) {
                this.fireFormExitConfirmCancel(action, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireFormExitConfirmCancel(action, data)
                });
            }
        },

        fireFormExitConfirmCancel: function (action, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var event_action = ["Confirm Exit E2E", "Cancel Exit E2E", "Close E2E"];
            var event_label = ["Confirm Exit", "Cancel Exit", "Close E2E"];
            var linkObj = {
                "event_action": event_action[action],
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": event_label[action],
                "event_value": "1",
                "page_name_next": "",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         *  #5 - Track Action - Header Go to Step X
         * the field names should be an array with the dynamic field names of the optional components
         * example for step 3 optional components, direct debit was filled and the other optional component was not
         * @param data
         * OLD handleNewHeaderGoStep
         */
        handleHeaderGoStep: function (data, stepIndex, array) {
            if (window.utag) {
                this.fireHeaderGoStep(data, stepIndex, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireHeaderGoStep(data, stepIndex, array)
                });
            }
        },

        fireHeaderGoStep: function (data, stepIndex, array) {
            var currentStep = data.trackingInfo[data.currentStepIndex],
                selectedStep = data.trackingInfo[stepIndex];

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];
            var linkObj = {
                "event_action": "E2E Header Go to Step " + selectedStep.stepNumber + " - " + selectedStep.stepName,
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Header Go to Step " + selectedStep.stepNumber + " - " + selectedStep.stepName,
                "event_value": "1",
                "page_name_next": "",
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #6 - Track Action - Advance to Step X
         * @param data
         * OLD handleNewAdvanceStep
         */
        handleAdvanceStep: function (data, array) {
            if (window.utag) {
                this.fireAdvanceStep(data, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireAdvanceStep(data, array)
                });
            }
        },

        fireAdvanceStep: function (data, array) {
            var currentStep = data.trackingInfo[data.currentStepIndex],
                nextStep = data.trackingInfo[data.currentStepIndex + 1],
                userId = data.trackingUserId;

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];
            var linkObj = {
                "event_action": "E2E Advance to Step " + nextStep.stepNumber + " - " + nextStep.stepName,
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Advance to Step " + nextStep.stepNumber + " - " + nextStep.stepName,
                "event_value": "1",
                "e2e_visitor_id_user": userId,
                "page_name_next": "",
                "page_component": currentStep.pageComponents,
                "page_component_value": currentStep.pageComponentsValues,
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #7 - Track Action - Back to Step X
         * @param data
         * OLD handleNewBackStep
         */
        handleBackStep: function (data, array) {
            if (window.utag) {
                this.fireBackStep(data, array);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBackStep(data, array)
                });
            }
        },

        fireBackStep: function (data,array) {
            var currentStep = data.trackingInfo[data.currentStepIndex],
                previousStep = data.trackingInfo[data.currentStepIndex - 1];

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];
            var linkObj = {
                "event_action": "E2E Back to Step " + previousStep.stepNumber + " - " + previousStep.stepName,
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Back to Step " + previousStep.stepNumber + " - " + previousStep.stepName,
                "event_value": "1",
                "page_name_next": "",
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #11 - Track View - Success
         * @param data
         * OLD handleNewViewSuccess
         */
        handleViewSuccess: function (data) {
            if (window.utag) {
                this.fireViewSuccess(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireViewSuccess(data)
                });
            }
        },
        fireViewSuccess: function (data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var viewObj = {
                "event": ["page_view"],
                "page_name": "Submitted E2E " + currentStep.formType + " Subscription with Success",
                "page_section": "Início:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.view(viewObj);
        },


        /**
         * #12 - Track Action - Back to site
         * @param data
         * OLD handleNewBackToSite
         */
        handleBackToSite: function (data) {
            if (window.utag) {
                this.fireBackToSite(data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireBackToSite(data)
                });
            }
        },

        fireBackToSite: function (data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "E2E " + currentStep.formType + " Back to Site",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Back to Site",
                "event_value": "1",
                "page_name_next": "",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #15 - Track View - Errors
         * @param data
         * @param err
         * OLD handleNewErrors
         */
        handleErrors: function (data, err) {
            if (window.utag) {
                this.fireErrors(data, err);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireErrors(data, err)
                });
            }
        },

        fireErrors: function (data, error) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var viewObj = {
                "event": ["page_view"],
                "page_name": error + ' - ' +  currentStep.formType,
                "page_section": "Inicio:Pacotes",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.view(viewObj);
        },



        /***************************************************************************************************************
        *
        *  METHODS ADDED OR MODIFIED WITH STORY VFPTBS-1084 - Tracking E2E Modular- Alterações 2
        *
        **************************************************************************************************************/

        /**
         * #2 - Track Action - Expandir Cards
         * This track action should be applied in all modules with the "Expand" behavior, like Débito Direto and Informação Fiscal do Imóvel
         * @param cardTitle
         * @param data
         */
        handleExpandAccordion: function (cardTitle, data) {
            if (window.utag) {
                this.fireExpandAccordion(cardTitle, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireExpandAccordion(cardTitle, data)
                });
            }
        },

        fireExpandAccordion: function (cardTitle, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "E2E Open " + cardTitle + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Open " + cardTitle + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #3 - Track Action - Remove
         * This track action should be applied in all modules with the "Remove" icon, like in Débito Direto and Informação Fiscal do Imóvel
         * @param cardTitle
         * @param data
         */
        handleRemove: function (cardTitle, data) {
            if (window.utag) {
                this.fireRemove(cardTitle, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireRemove(cardTitle, data)
                });
            }
        },

        fireRemove: function (cardTitle, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "E2E Remove " + cardTitle + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "E2E " + currentStep.formType + " Remove " + cardTitle + " Step " + currentStep.stepNumber + " - " + currentStep.stepName,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #4 - Track Action - Concluir
         * @param data
         */
        handleSubscriptionSubmit: function (data, array, tabs, options) {
            if (window.utag) {
                this.fireSubscriptionSubmit(data, array, tabs, options);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireSubscriptionSubmit(data, array, tabs, options)
                });
            }
        },

        fireSubscriptionSubmit: function (data, array, tabs, options) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var typesArr = [],
                optionsArr = [];

            if (tabs && Object.keys(options).length > 0) {
                for (var i = 0; i < tabs.children.length; i++) {
                    if (tabs.children[i].text && tabs.children[i].text != '') {
                        typesArr.push(tabs.children[i].text);

                        var optionStr = "";
                        if (options[tabs.children[i].text]) {
                            var optionObjs = options[tabs.children[i].text];
                            Object.keys(optionObjs).forEach(function(key) {
                                var opt = optionObjs[key];

                                if(optionStr.length > 0) {
                                    optionStr += ";";
                                }

                                if(typeof opt === 'string') {
                                    optionStr += key;
                                } else {
                                    var optionText =  Object.keys(opt)[0];
                                    optionStr += key + "(" +optionText.toString() + ")";
                                }
                            });
                            optionStr.replace(/,/gi, ';');
                        }

                        optionsArr.push(optionStr);
                    }
                }
            }

            var form_optional_field_name = array ? array.arrayFields : [];
            var form_optional_field_value = array ? array.arrayValues: [];
            var linkObj = {
                "event_action": "Submit E2E " + currentStep.formType + " Subscription",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "Submit E2E " + currentStep.formType + " Subscription",
                "event_value": "1",
                "page_name_next": "",
                "page_filters_type": typesArr,
                "page_filters_value": optionsArr,
                "page_component": currentStep.pageComponents,
                "page_component_value": currentStep.pageComponentsValues,
                "form_optional_field_name": form_optional_field_name,
                "form_optional_field_value": form_optional_field_value,
                "e2e_last_submit": this.dateUtils().formatDateWithPattern(new Date(), 'yyyy-MM-dd H:mm:ss'),
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #5 - Track Action - Navigate through available dates
         * This events should be sent when clicking in the navigation arrows (left and right)
         * @param direction
         * @param data
         */
        handleDatePickerNavigation: function (direction, data) {
            if (window.utag) {
                this.datePickerNavigation(direction, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.datePickerNavigation(direction, data)
                });
            }
        },

        datePickerNavigation: function (direction, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var navigation = ["Navigate Backwards", "Navigate Forward"];
            var linkObj = {
                "event_action": "E2E Select Installation Date",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "Select Installation Date - " + navigation[direction == 'left' ? 0 : 1],
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #6 - Track Action - Select another day to schedule
         * This events should be sent when clicking in an available date
         * @param dayOfWeek
         * @param data
         */
        handleDatePickerSelectDate: function (dayOfWeek, data) {
            if (window.utag) {
                this.datePickerSelectDate(dayOfWeek, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.datePickerSelectDate(dayOfWeek, data)
                });
            }
        },

        datePickerSelectDate: function (dayOfWeek, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "E2E Select Installation Date",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "Select Installation Date - " + dayOfWeek,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        },


        /**
         * #7 - Track Action - Select hour to schedule
         * This events should be sent when clicking in an available time range
         * @param timeSlot
         * @param data
         */
        handleDatePickerSelectTime: function (timeSlot, data) {
            if (window.utag) {
                this.datePickerSelectTime(timeSlot, data);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.datePickerSelectTime(timeSlot, data)
                });
            }
        },

        datePickerSelectTime: function (timeSlot, data) {
            var currentStep = data.trackingInfo[data.currentStepIndex];

            var linkObj = {
                "event_action": "E2E Select Installation Date",
                "event_category": "E2E Subscription " + currentStep.formType,
                "event": ["event_instance"],
                "event_label": "Select Installation Hour - " + timeSlot,
                "event_value": "1",
                "visitor_login_status": utag_data.visitor_login_status
            };
            utag.link(linkObj);
        }
    }
};
// Requests #1, #2, #3, #4 and #5 are associated with the Overlay tab in excel 
// Requests #3, #4 and #5 are also associated with the Inline tab in excel 
var tealium_clickToCall = {

    methods: {

        checkName: function(c2c_name){
            if(c2c_name) {
                c2c_name = " " + c2c_name;
            }
            else {
                c2c_name = "";
            }
             return c2c_name;
        },
        // #1 - Track Action - Open C2C + page_name + c2c_name
        fireOpenC2C: function(c2cName){

            var c2c_name = this.checkName(c2cName);

            utag.link({
                "event_action"          : "Open C2C " + utag_data.page_name,
                "event_category"        : "C2C " + utag_data.page_name,
                "event"                 : ["event_instance"],
                "event_label"           : "C2C " + utag_data.page_name + c2c_name,
                "event_value"           : "1",
                "page_name_next"        : "C2C " + utag_data.page_name + c2c_name,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },
         handleOpenC2C: function(c2cName){

             if (window.utag) {
                 this.fireOpenC2C(c2cName);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOpenC2C(c2cName) });
             }
         },

        // #2 - Track View - C2C + page_name + c2c_name

         fireC2CPageName: function(c2cName){

            var c2c_name = this.checkName(c2cName);

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "C2C " + utag_data.page_name + c2c_name,
                "page_section"          : utag_data.page_section_full,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
         },
          handleC2CPageName: function(c2cName){
            if (window.utag) {
                this.fireC2CPageName(c2cName);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireC2CPageName(c2cName) });
            }
          },

        // #3 - Track Action - Submit C2C + page_name + c2c_name

         fireSubmitC2C: function(success, error, c2cName){

            var c2c_name = this.checkName(c2cName);

            if(success) {
                var page_name_next = "Submitted C2C " + utag_data.page_name + c2c_name +  " with Success";
            }
            else if(error === "Already registered") {
                var page_name_next = "Error C2C " + utag_data.page_name + " Already Registered";
            }
            else {
                var page_name_next = "Error Submitting C2C " + utag_data.page_name;
            }

            utag.link({
                "event_action"          : "Submit C2C " + utag_data.page_name,
                "event_category"        : "C2C " + utag_data.page_name,
                "event"                 : ["event_instance"],
                "event_label"           : "Submit C2C " + utag_data.page_name + c2c_name,
                "event_value"           : "1",
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },
         handleSubmitC2C: function(success, error, c2cName){

             if (window.utag) {
                 this.fireSubmitC2C(success, error, c2cName);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitC2C(success, error, c2cName) });
             }
         },

        // #4 - Track View - Submitted C2C + page_name  + c2c_name + with Success
         fireSubmittedC2C: function(c2cName){

            var c2c_name = this.checkName(c2cName);

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Submitted C2C " + utag_data.page_name + c2c_name +  " with Success",
                "page_section"          : utag_data.page_section_full + ":C2C " + utag_data.page_name + c2c_name ,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },
         handleSubmittedC2C: function(c2cName){

             if (window.utag) {
                 this.fireSubmittedC2C(c2cName);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmittedC2C(c2cName) });
             }
         },


        // #5 - Track View - Error Submitting C2C + page_name + c2c_name
         fireErrorSubmittingC2C: function(error, c2cName){

            var c2c_name = this.checkName(c2cName);

            if(error === "Already registered") {
                var page_name = "Error C2C " + utag_data.page_name + " Already Registered";
            }
            else {
                var page_name = "Error Submitting C2C " + utag_data.page_name;
            }

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : page_name,
                "page_section"          : utag_data.page_section_full + ":C2C " + utag_data.page_name + c2c_name,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },
         handleErrorSubmittingC2C: function(error, c2cName){
             if (window.utag) {
                 this.fireErrorSubmittingC2C(error, c2cName);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSubmittingC2C(error, c2cName) });
             }
         }
    }
}
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_store_locator = {
    methods: {

        handleClickContinueOnSearchStoreLocator: function (event_label, search_terms) {

            if (window.utag) {
                this.fireClickOnSearchStoreLocator(event_label, search_terms);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () { me.fireClickOnSearchStoreLocator(event_label, search_terms) });
            }

        },

        fireClickOnSearchStoreLocator: function (event_label, search_terms) {
            utag.link({
                "event_action": "Search Store ",
                "event_category": "Store Locator",
                "event": ["event_instance", "search_apply"],
                "event_label": event_label,
                "event_value": "1",
                "search_terms": search_terms,
                "visitor_login_status": utag_data.visitor_login_status
            });
        },

        handleClickContinueOnFilterStoreLocator: function (page_filters_value) {
            if (window.utag) {
                this.fireClickOnFilterStoreLocator(page_filters_value);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () { me.fireClickOnFilterStoreLocator(page_filters_value) });
            }

        },
        fireClickOnFilterStoreLocator: function (page_filters_value) {
            utag.link({
                "event_action": "Filter Stores",
                "event_category": "Store Locator",
                "event": ["event_instance", "page_filter"],
                "event_label": "Store Services Available",
                "page_filters_type": ["Store Locator"], // array with single value
                "page_filters_value": [page_filters_value], // array with single value
                "visitor_login_status": utag_data.visitor_login_status
            });
        }

    }
};
var tealium_card = {
    
    methods: {
        fireAdvanceToEnd2End: function(selectedTab, moduleNames, configurations){

            utag.link({
                "event_action"          : "Subscribe Fixed Bundles",
                "event_category"        : "Fixed Bundle Online Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : selectedTab,
                "event_value"           : "1",
                "page_name_next"        : utag_data.page_name,
                "product_package_configuration_type": moduleNames,
                "product_package_configuration_value": configurations,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleAdvanceToEnd2End: function(selectedTab, moduleNames, configurations){
            if (window.utag) {
                this.fireAdvanceToEnd2End(selectedTab, moduleNames, configurations);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAdvanceToEnd2End(selectedTab, moduleNames, configurations) });
            }
        },

        // #2 - Track View - Subscribe Fixed Bundles Layer
        fireTrackViewSubscribeFixedBundlesLayer: function(){
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscribe Fixed Bundles Layer",
                "page_section"          : utag_data.page_section_full,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleTrackViewSubscribeFixedBundlesLayer: function(){
            if (window.utag) {
                this.fireTrackViewSubscribeFixedBundlesLayer();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTrackViewSubscribeFixedBundlesLayer() });
            }
          },

          // #3 - Track Action - Suscribe Fixed Bundle Online
          fireTrackActionSuscribeFixedBundleOnline:function(selectedTab){
            utag.link({
                "event_action"          : "Subscribe Fixed Bundle Online",
                "event_category"        : "Fixed Bundle Online Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : selectedTab,
                "event_value"           : "1",
                "page_name_next"        : "E2E Fixed Bundle Summary",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
          },

          handleTrackActionSuscribeFixedBundleOnline: function(selectedTab){
            if (window.utag) {
                this.fireTrackActionSuscribeFixedBundleOnline(selectedTab);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTrackActionSuscribeFixedBundleOnline(selectedTab)});
            }
          }

        
    }
}
var tealium_floating_tab = {

    methods:{
        // #1 - Track Action - Open C2C Floating Tab EBU
        fireC2CFloatingTabEbu: function(){
            utag.link({
                "event_action"          : "Open C2C Floating Tab EBU",
                "event_category"        : "C2C EBU",
                "event"                 : ["event_instance"],
                "event_label"           : "Open C2C Floating Tab EBU",
                "event_value"           : "1",
                "page_name_next"        : "C2C Floating Tab EBU",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleOpenC2CFloatingTabEbu: function(){
            if (window.utag) {
                this.fireC2CFloatingTabEbu();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireC2CFloatingTabEbu()});
            }
          },

        // #2 - Track View - C2C Floating Tab EBU
        fireTrackViewC2CFloatingTab: function(){
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "C2C Floating Tab EBU",
                "page_section"          : utag_data.page_section_full,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleViewC2CFloatingTab: function(){
            if (window.utag) {
                this.fireTrackViewC2CFloatingTab();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTrackViewC2CFloatingTab() });
            }
          },

        // #3 - Track Action - Submit C2C Floating Tab EBU
        // set the page_name_next based on the action success/error
        fireSubmitC2CFloatingTabEbu: function(success, error){
            if(success){
                var page_name_next = "Submitted C2C Floating Tab EBU with Success";
            }
            else if(error === "Already registered") {
                var page_name_next = "Error C2C EBU Already Registered";
            }
            else {
                var page_name_next = "Error Submitting C2C EBU";
            }

            utag.link({
                "event_action"          : "Submit C2C Floating Tab EBU",
                "event_category"        : "C2C EBU",
                "event"                 : ["event_instance"],
                "event_label"           : "Submit C2C Floating Tab EBU",
                "event_value"           : "1",
                "page_name_next"        : page_name_next,
                "visitor_login_status"  : utag_data.visitor_login_status
            });

        },
        handleSubmitC2CFloatingTabEbu: function(success, error){

            if (window.utag) {
                this.fireSubmitC2CFloatingTabEbu(success, error);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitC2CFloatingTabEbu(success, error) });
            }
        },

        // #4 - Track View - Submitted C2C Floating Tab EBU with Success
        fireSubmittedC2CFloatingTabEbuSuccess: function(){
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Submitted C2C Floating Tab EBU with Success",
                "page_section"          : utag_data.page_section_full + " C2C Floating Tab EBU",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleSubmittedC2CFloatingTabEbuSuccess: function(){

            if (window.utag) {
                this.fireSubmittedC2CFloatingTabEbuSuccess();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmittedC2CFloatingTabEbuSuccess() });
            }
        },

        // #5 - Track View - Error Submitting C2C EBU
        // set the page_name based on the error
        fireErrorSubmittingC2CEbu: function(error){
            if(error === "Already registered") {
                var page_name = "Error C2C EBU Already Registered";
            }
            else {
                var page_name= "Error Submitting C2C EBU";
            }

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : page_name,
                "page_section"          : utag_data.page_section_full + " C2C Floating Tab EBU",
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleErrorSubmittingC2CEbu: function(error){
            if (window.utag) {
                this.fireErrorSubmittingC2CEbu(error);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorSubmittingC2CEbu(error) });
            }
        }
    }
}
/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa, utag, tealiumBus*/
var tealium_delegations = {
    methods: {
        handleExpandHomepageCounters: function() {

            // #1 - Track Action - Expand Homepage Counters
            if (window.utag) {
                this.fireExpandHomepageCounters()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandHomepageCounters() });
            }
        },
        fireExpandHomepageCounters: function() {
            // #1 - Track Action - Expand Homepage Counters
            //console.log('#1 - Track Action - Expand Homepage Counters')

            utag.link({
                "event_action": "Homepage Counters",
                "event_category": "Homepage",
                "event": ["event_instance"],
                "event_label": "Expand Homepage Counters",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleExpandPortabilityValidationCode: function() {

            // #2 - Track Action - Expand Portability Validation Code
            if (window.utag) {
                this.fireExpandPortabilityValidationCode()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExpandPortabilityValidationCode() });
            }
        },
        fireExpandPortabilityValidationCode: function() {
            // #2 - Track Action - Expand Portability Validation Code
            //console.log('#2 - Track Action - Expand Portability Validation Code')

            utag.link({
                "event_action": "Aditional Information",
                "event_category": "Products and Services",
                "event": ["event_instance"],
                "event_label": "Expand Portability Validation Code",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegatedAccesses: function() {

            // #3 - Track View - Delegated Accesses
            if (window.utag) {
                this.fireDelegatedAccesses()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegatedAccesses() });
            }
        },
        fireDelegatedAccesses: function() {
            // #3 - Track View - Delegated Accesses
            //console.log('#3 - Track View - Delegated Accesses')

            utag.view({
                "event": ["page_view"],
                "page_name": "Delegated Accesses",
                "page_section": "My Vodafone",
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegatedAccessesClick: function(event_label) {

            // #4 - Track Action - Delegated Accesses
            if (window.utag) {
                this.fireDelegatedAccessesClick(event_label)
            }else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegatedAccessesClick(event_label) });
            }
        },
        fireDelegatedAccessesClick: function(event_label) {
            // #4 - Track Action - Delegated Accesses
            //console.log('#4 - Track Action - Delegated Accesses')


            utag.link({
                "event_action": "Delegated Accesses",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleContracts: function() {

            // #5 - Track Action - Contracts
            if (window.utag) {
                this.fireContracts()
            }
            else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireContracts() });
            }
        },
        fireContracts: function() {
            // #5 - Track Action - Contracts
            //console.log('#5 - Track Action - Contracts')

            utag.link({
                "event_action": "Delegated Accesses",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Contracts",
                "page_name_next": "Contracts",
                "visitor_login_status": "Logged In"
            });

        },
        handleContractsPage: function() {

            // #6 - Track View - Contracts
            if (window.utag) {
                this.fireContractsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireContractsPage() });
            }
        },
        fireContractsPage: function() {
            // #6 - Track View - Contracts
            //console.log('#6 - Track View - Contracts')

            utag.view({
                "event": ["page_view"],
                "page_name": "Contracts",
                "page_section": "My Vodafone:Delegated Accesses",
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegatedInvoices: function() {

            // #7 - Track Action - Delegated Invoices
            if (window.utag) {
                this.fireDelegatedInvoices()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegatedInvoices() });
            }
        },
        fireDelegatedInvoices: function() {
            // #7 - Track Action - Delegated Invoices
            //console.log('#7 - Track Action - Delegated Invoices')
            utag.link({
                "event_action": "Delegated Accesses",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Delegated Invoices",
                "page_name_next": "Delegated Billing",
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegatedBilling: function() {

            // #8 - Track View - Delegated Billing
            if (window.utag) {
                this.fireDelegatedBilling()
            }
            else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegatedBilling() });
            }
        },
        fireDelegatedBilling: function() {
            // #8 - Track View - Delegated Billing
            //console.log('#8 - Track View - Delegated Billing')

            utag.view({
                "event": ["page_view"],
                "page_name": "Delegated Billing",
                "page_section": "My Vodafone:Delegated Accesses",
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegatedPayments: function() {

            // #9 - Track Action - Delegated Payments
            if (window.utag) {
                this.fireDelegatedPayments()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegatedPayments() });
            }
        },
        fireDelegatedPayments: function() {
            // #9 - Track Action - Delegated Payments
            //console.log('#9 - Track Action - Delegated Payments')

            utag.link({
                "event_action": "Delegated Accesses",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Delegated Payments",
                "page_name_next": "Billing",
                "visitor_login_status": "Logged In"
            });

        },
        handleCurrentUsage: function() {

            // #10 - Track Action - Current Usage
            if (window.utag) {
                this.fireCurrentUsage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCurrentUsage() });
            }
        },
        fireCurrentUsage: function() {
            // #10 - Track Action - Current Usage
            //console.log('#10 - Track Action - Current Usage')

            utag.link({
                "event_action": "Delegated Accesses",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Current Usage",
                "page_name_next": "Current Usage",
                "visitor_login_status": "Logged In"
            });

        },
        handleCurrentUsagePage: function() {

            // #11 - Track View - Current Usage
            if (window.utag) {
                this.fireCurrentUsagePage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCurrentUsagePage() });
            }
        },
        fireCurrentUsagePage: function() {
            // #11 - Track View - Current Usage
            //console.log('#11 - Track View - Current Usage')

            utag.view({
                "event": ["page_view"],
                "page_name": "Current Usage",
                "page_section": "My Vodafone:Delegated Accesses",
                "visitor_login_status": "Logged In"
            });

        },
        handleAccessManagement: function() {

            // #12 - Track Action - Access Management
            if (window.utag) {
                this.fireAccessManagement()
            }
            else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAccessManagement() });
            }
        },
        fireAccessManagement: function() {
            // #12 - Track Action - Access Management
            //console.log('#12 - Track Action - Access Management')

            utag.link({
                "event_action": "Access Management",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Access Management",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleEnterpriseAccessManagement: function() {

            // #13 - Track View - Enterprise Access Management
            if (window.utag) {
                this.fireEnterpriseAccessManagement()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEnterpriseAccessManagement() });
            }
        },
        fireEnterpriseAccessManagement: function() {
            // #13 - Track View - Enterprise Access Management
            //console.log('#13 - Track View - Enterprise Access Management')

            utag.view({
                "event": ["page_view"],
                "page_name": "Enterprise Access Management",
                "page_section": "My Vodafone:Enterprise Services",
                "visitor_login_status": "Logged In"
            });

        },
        handleAccessManagementClick: function(page) {

            // #14 - Track Action - Access Management
            if (window.utag) {
                this.fireAccessManagementClick(page)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireAccessManagementClick(page) });
            }
        },
        fireAccessManagementClick: function(page) {
            // #14 - Track Action - Access Management
            //console.log('#14 - Track Action - Access Management')
            // set the event_label according to the clicked button, as demonstrated in the excel
            var event_label;
            page == "perfis" ? event_label = "Manage Accesses and Profiles" : event_label = "Manage Access Authorization"
            utag.link({
                "event_action": "Access Management",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": event_label,
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleManageDelegations: function() {

            // #15 - Track Action - Manage Delegations
            if (window.utag) {
                this.fireManageDelegations()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireManageDelegations() });
            }
        },
        fireManageDelegations: function() {
            // #15 - Track Action - Manage Delegations
            //console.log('#15 - Track Action - Manage Delegations')

            utag.link({
                "event_action": "Access Management",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Manage Delegations",
                "event_value": "1",
                "page_name_next": "Manage Delegations",
                "visitor_login_status": "Logged In"
            });

        },
        handleManageDelegationsPage: function() {

            // #16 - Track View - Manage Delegations
            if (window.utag) {
                this.fireManageDelegationsPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireManageDelegationsPage() });
            }
        },
        fireManageDelegationsPage: function() {
            // #16 - Track View - Manage Delegations
            //console.log('#16 - Track View - Manage Delegations')

            utag.view({
                "event": ["page_view"],
                "page_name": "Manage Delegations",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management",
                "visitor_login_status": "Logged In"
            });

        },
        handleCreateDelegation: function() {

            // #17 - Track Action - Create Delegation
            if (window.utag) {
                this.fireCreateDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCreateDelegation() });
            }
        },
        fireCreateDelegation: function() {
            // #17 - Track Action - Create Delegation
            //console.log('#17 - Track Action - Create Delegation')

            utag.link({
                "event_action": "Manage Delegations",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Create Delegation",
                "event_value": "1",
                "page_name_next": "Create Delegation",
                "visitor_login_status": "Logged In"
            });

        },
        handleCreateDelegationPage: function() {

            // #18 - Track View - Create Delegation
            if (window.utag) {
                this.fireCreateDelegationPage()
            }
            else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireCreateDelegationPage() });
            }
        },
        fireCreateDelegationPage: function() {
            // #18 - Track View - Create Delegation
            //console.log('#18 - Track View - Create Delegation')

            utag.view({
                "event": ["page_view"],
                "page_name": "Create Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });

        },
        handleContinueDelegationCreation: function() {

            // #19 - Track Action - Continue Delegation Creation
            if (window.utag) {
                this.fireContinueDelegationCreation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireContinueDelegationCreation() });
            }
        },
        fireContinueDelegationCreation: function() {
            // #19 - Track Action - Continue Delegation Creation
            //console.log('#19 - Track Action - Continue Delegation Creation')

            utag.link({
                "event_action": "Create Delegation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Continue Delegation Creation",
                "event_value": "1",
                "page_name_next": "New Delegation Confirmation",
                "visitor_login_status": "Logged In"
            });

        },
        handleNewDelegationConfirmation: function() {

            // #20 - Track View - New Delegation Confirmation
            if (window.utag) {
                this.fireNewDelegationConfirmation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNewDelegationConfirmation() });
            }
        },
        fireNewDelegationConfirmation: function() {
            // #20 - Track View - New Delegation Confirmation
            //console.log('#20 - Track View - New Delegation Confirmation')

            utag.view({
                "event": ["page_view"],
                "page_name": "New Delegation Confirmation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Create Delegation",
                "visitor_login_status": "Logged In"
            });

        },
        handleReturnToDelegationCreation: function() {

            // #21 - Track Action - Return to Delegation Creation
            if (window.utag) {
                this.fireReturnToDelegationCreation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireReturnToDelegationCreation() });
            }
        },
        fireReturnToDelegationCreation: function() {
            // #21 - Track Action - Return to Delegation Creation
            //console.log('#21 - Track Action - Return to Delegation Creation')

            utag.link({
                "event_action": "New Delegation Confirmation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Return to Delegation Creation",
                "event_value": "1",
                "page_name_next": "Create Delegation",
                "visitor_login_status": "Logged In"
            });

        },
        handleConfirmNewDelegation: function(enabled_accesses,success) {

            // #22 - Track Action - Confirm New Delegation
            if (window.utag) {
                this.fireConfirmNewDelegation(enabled_accesses,success)
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireConfirmNewDelegation(enabled_accesses,success) });
            }
        },
        fireConfirmNewDelegation: function(enabled_accesses,success) {
            // #22 - Track Action - Confirm New Delegation
            //console.log('#22 - Track Action - Confirm New Delegation')

            // set the page_name_next according to success/error of the operation
                if(success){
                page_name_next = "New Delegation Created with Success"
                }else{
                page_name_next = "Error Creating New Delegation"
                }
                let access_names = [];
                enabled_accesses.forEach(function(element) {
                  access_names.push(element.name);
                });

            utag.link({
                "event_action": "New Delegation Confirmation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Confirm New Delegation",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In",
                "enabled_accesses": access_names
            });

        },
        handleNewDelegationCreatedWithSuccess: function() {

            // #23 - Track View - New Delegation Created with Success
            if (window.utag) {
                this.fireNewDelegationCreatedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireNewDelegationCreatedWithSuccess() });
            }
        },
        fireNewDelegationCreatedWithSuccess: function() {
            // #23 - Track View - New Delegation Created with Success
            //console.log('#23 - Track View - New Delegation Created with Success')

            utag.view({
                "event": ["page_view"],
                "page_name": "New Delegation Created with Success",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Create Delegation:New Delegation Confirmation",
                "visitor_login_status": "Logged In"
            });

        },
        handleErrorCreatingNewDelegation: function() {

            // #24 - Track View - Error Creating New Delegation
            if (window.utag) {
                this.fireErrorCreatingNewDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorCreatingNewDelegation() });
            }
        },
        fireErrorCreatingNewDelegation: function() {
            // #24 - Track View - Error Creating New Delegation
            //console.log('#24 - Track View - Error Creating New Delegation')

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Creating New Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Create Delegation:New Delegation Confirmation",
                "visitor_login_status": "Logged In"
            });

        },
        handleExportDelegations: function() {

            // #25 - Track Action - Export Delegations
            if (window.utag) {
                this.fireExportDelegations()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireExportDelegations() });
            }
        },
        fireExportDelegations: function() {
            // #25 - Track Action - Export Delegations
            //console.log('#25 - Track Action - Export Delegations')

            // set the page_name_next according to success/error of the operation
            var page_name_next = "Delegations Downloaded with Success" ||
                "Error Downloading Delegations";

            utag.link({
                "event_action": "Manage Delegations",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Export Delegations",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });

        },
        handleDelegationsDownloadedWithSuccess: function() {

            // #26 - Track View - Delegations Downloaded with Success
            if (window.utag) {
                this.fireDelegationsDownloadedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDelegationsDownloadedWithSuccess() });
            }
        },
        fireDelegationsDownloadedWithSuccess: function() {
            // #26 - Track View - Delegations Downloaded with Success
            //console.log('#26 - Track View - Delegations Downloaded with Success')

            utag.view({
                "event": ["page_view"],
                "page_name": "Delegations Downloaded with Success",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });

        },
        handleErrorDownloadingDelegations: function() {

            // #27 - Track View - Error Downloading Delegations
            if (window.utag) {
                this.fireErrorDownloadingDelegations()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorDownloadingDelegations() });
            }
        },
        fireErrorDownloadingDelegations: function() {
            // #27 - Track View - Error Downloading Delegations
            //console.log('#27 - Track View - Error Downloading Delegations')

            utag.view({
                "event": ["page_view"],
                "page_name": "Error Downloading Delegations",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });

        },
        handleEditMyDelegation: function() {

            // #28 - Track Action - Edit My Delegation
            if (window.utag) {
                this.fireEditMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditMyDelegation() });
            }
        },
        fireEditMyDelegation: function() {
            // #28 - Track Action - Edit My Delegation
            //console.log('#28 - Track Action - Edit My Delegation')

            utag.link({
                "event_action": "Manage Delegations",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Edit My Delegation",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleEditMyDelegationPage: function() {

            // #29 - Track View - Edit My Delegation
            if (window.utag) {
                this.fireEditMyDelegationPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditMyDelegationPage() });
            }
        },
        fireEditMyDelegationPage: function() {
            // #29 - Track View - Edit My Delegation
            //console.log('#29 - Track View - Edit My Delegation')

            utag.view({
                "event": ["page_view"],
                "page_name": "Edit My Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });

        },
        handleEditMyDelegationConfirmation: function() {

            // #30 - Track View - Edit My Delegation Confirmation
            if (window.utag) {
                this.fireEditMyDelegationConfirmation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireEditMyDelegationConfirmation() });
            }
        },
        fireEditMyDelegationConfirmation: function() {
            // #30 - Track View - Edit My Delegation Confirmation
            //console.log('#30 - Track View - Edit My Delegation Confirmation')

            utag.view({
                "event": ["page_view"],
                "page_name": "Edit My Delegation Confirmation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Edit My Delegation",
                "visitor_login_status": "Logged In"
            });

        },
        handleConfirmMyDelegationChanges: function() {

            // #31 - Track Action - Confirm My Delegation Changes
            if (window.utag) {
                this.fireConfirmMyDelegationChanges()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireConfirmMyDelegationChanges() });
            }
        },
        fireConfirmMyDelegationChanges: function() {
            // #31 - Track Action - Confirm My Delegation Changes
            //console.log('#31 - Track Action - Confirm My Delegation Changes')

            // set the page_name_next according to success/error of the operation
            var page_name_next = "My Delegation Changed with Success" ||
                "Erro Changing My Delegation";

            utag.link({
                "event_action": "Edit My Delegation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Confirm My Delegation Changes",
                "event_value": "1",
                "page_name_next": page_name_next,
                "visitor_login_status": "Logged In"
            });

        },
        handleMyDelegationChangedWithSuccess: function() {

            // #32 - Track View - My Delegation Changed with Success
            if (window.utag) {
                this.fireMyDelegationChangedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMyDelegationChangedWithSuccess() });
            }
        },
        fireMyDelegationChangedWithSuccess: function() {
            // #32 - Track View - My Delegation Changed with Success
            //console.log('#32 - Track View - My Delegation Changed with Success')

            utag.view({
                "event": ["page_view"],
                "page_name": "My Delegation Changed with Success",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Edit My Delegation:Edit My Delegation Confirmation",
                "visitor_login_status": "Logged In"
            });

        },
        handleErroChangingMyDelegation: function() {

            // #33 - Track View - Erro Changing My Delegation
            if (window.utag) {
                this.fireErroChangingMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErroChangingMyDelegation() });
            }
        },
        fireErroChangingMyDelegation: function() {
            // #33 - Track View - Erro Changing My Delegation
            //console.log('#33 - Track View - Erro Changing My Delegation')

            utag.view({
                "event": ["page_view"],
                "page_name": "Erro Changing My Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Edit My Delegation:Edit My Delegation Confirmation",
                "visitor_login_status": "Logged In"
            });

        },
        handleDownloadMyDelegation: function() {

            // #34 - Track Action - Download My Delegation
            if (window.utag) {
                this.fireDownloadMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadMyDelegation() });
            }
        },
        fireDownloadMyDelegation: function() {
            // #34 - Track Action - Download My Delegation
            //console.log('#34 - Track Action - Download My Delegation')

            utag.link({
                "event_action": "Manage Delegations",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Download My Delegation",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });

        },
        handleMyDelegationDownloadedWithSuccess: function() {

            // #35 - Track View - My Delegation Downloaded with Success
            if (window.utag) {
                this.fireMyDelegationDownloadedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMyDelegationDownloadedWithSuccess() });
            }
        },
        fireMyDelegationDownloadedWithSuccess: function() {
            // #35 - Track View - My Delegation Downloaded with Success
            //console.log('#35 - Track View - My Delegation Downloaded with Success')

            utag.view({
                "event": ["page_view"],
                "page_name": "My Delegation Downloaded with Success",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });


        },
        handleErrorDownloadingMyDelegation: function() {

            // #36 - Track View - Error Downloading My Delegation
            if (window.utag) {
                this.fireErrorDownloadingMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorDownloadingMyDelegation() });
            }
        },
        fireErrorDownloadingMyDelegation: function() {
            // #36 - Track View - Error Downloading My Delegation
            //console.log('#36 - Track View - Error Downloading My Delegation')


            utag.view({
                "event": ["page_view"],
                "page_name": "Error Downloading My Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });


        },
        handleRemoveMyDelegation: function() {

            // #37 - Track Action - Remove My Delegation
            if (window.utag) {
                this.fireRemoveMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRemoveMyDelegation() });
            }
        },
        fireRemoveMyDelegation: function() {
            // #37 - Track Action - Remove My Delegation
            //console.log('#37 - Track Action - Remove My Delegation')


            utag.link({
                "event_action": "Manage Delegations",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Remove My Delegation",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });


        },
        handleRemoveMyDelegationPage: function() {

            // #38 - Track View - Remove My Delegation
            if (window.utag) {
                this.fireRemoveMyDelegationPage()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireRemoveMyDelegationPage() });
            }
        },
        fireRemoveMyDelegationPage: function() {
            // #38 - Track View - Remove My Delegation
            //console.log('#38 - Track View - Remove My Delegation')


            utag.view({
                "event": ["page_view"],
                "page_name": "Remove My Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations",
                "visitor_login_status": "Logged In"
            });


        },
        handleReturnToMyDelegations: function() {

            // #39 - Track Action - Return to My Delegations
            if (window.utag) {
                this.fireReturnToMyDelegations()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireReturnToMyDelegations() });
            }
        },
        fireReturnToMyDelegations: function() {
            // #39 - Track Action - Return to My Delegations
            //console.log('#39 - Track Action - Return to My Delegations')


            utag.link({
                "event_action": "Remove My Delegation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Return to My Delegations",
                "event_value": "1",
                "page_name_next": "Manage Delegations",
                "visitor_login_status": "Logged In"
            });


        },
        handleConfirmMyDelegationRemoval: function() {

            // #40 - Track Action - Confirm My Delegation Removal
            if (window.utag) {
                this.fireConfirmMyDelegationRemoval()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireConfirmMyDelegationRemoval() });
            }
        },
        fireConfirmMyDelegationRemoval: function() {
            // #40 - Track Action - Confirm My Delegation Removal
            //console.log('#40 - Track Action - Confirm My Delegation Removal')


            utag.link({
                "event_action": "Remove My Delegation",
                "event_category": "Enterprise Services",
                "event": ["event_instance"],
                "event_label": "Confirm My Delegation Removal",
                "event_value": "1",
                "page_name_next": "Manage Delegations",
                "visitor_login_status": "Logged In"
            });


        },
        handleMyDelegationRemovedWithSuccess: function() {

            // #41 - Track View - My Delegation Removed with Success
            if (window.utag) {
                this.fireMyDelegationRemovedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireMyDelegationRemovedWithSuccess() });
            }
        },
        fireMyDelegationRemovedWithSuccess: function() {
            // #41 - Track View - My Delegation Removed with Success
            //console.log('#41 - Track View - My Delegation Removed with Success')


            utag.view({
                "event": ["page_view"],
                "page_name": "My Delegation Removed with Success",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Remove My Delegation",
                "visitor_login_status": "Logged In"
            });


        },
        handleErrorRemovingMyDelegation: function() {

            // #42 - Track View - Error Removing My Delegation
            if (window.utag) {
                this.fireErrorRemovingMyDelegation()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorRemovingMyDelegation() });
            }
        },
        fireErrorRemovingMyDelegation: function() {
            // #42 - Track View - Error Removing My Delegation
            //console.log('#42 - Track View - Error Removing My Delegation')


            utag.view({
                "event": ["page_view"],
                "page_name": "Error Removing My Delegation",
                "page_section": "My Vodafone:Enterprise Services:Enterprise Access Management:Manage Delegations:Remove My Delegation",
                "visitor_login_status": "Logged In"
            });


        },
        handleResumeLastMovements: function() {

            // #43 - Track Action - Resume Last Movements
            if (window.utag) {
                this.fireResumeLastMovements()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireResumeLastMovements() });
            }
        },
        fireResumeLastMovements: function() {
            // #43 - Track Action - Resume Last Movements
            //console.log('#43 - Track Action - Resume Last Movements')


            utag.link({
                "event_action": "Last Movements",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Resume Last Movements",
                "event_value": "1",
                "page_name_next": "Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });


        },
        handleInvoicesAndPaymentsResume: function() {

            // #44 - Track View - Invoices and Payments Resume
            if (window.utag) {
                this.fireInvoicesAndPaymentsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireInvoicesAndPaymentsResume() });
            }
        },
        fireInvoicesAndPaymentsResume: function() {
            // #44 - Track View - Invoices and Payments Resume
            //console.log('#44 - Track View - Invoices and Payments Resume')


            utag.view({
                "event": ["page_view"],
                "page_name": "Invoices and Payments Resume",
                "page_section": "My Vodafone:Billing",
                "visitor_login_status": "Logged In"
            });


        },
        handleSearchLastMovementsByDate: function() {

            // #45 - Track Action - Search Last Movements by Date
            if (window.utag) {
                this.fireSearchLastMovementsByDate()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSearchLastMovementsByDate() });
            }
        },
        fireSearchLastMovementsByDate: function() {
            // #45 - Track Action - Search Last Movements by Date
            //console.log('#45 - Track Action - Search Last Movements by Date')


            utag.link({
                "event_action": "Invoices and Payments Resume",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Search Last Movements by Date",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });


        },
        handleDownloadLastMovementsResume: function() {

            // #46 - Track Action - Download Last Movements Resume
            if (window.utag) {
                this.fireDownloadLastMovementsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadLastMovementsResume() });
            }
        },
        fireDownloadLastMovementsResume: function() {
            // #46 - Track Action - Download Last Movements Resume
            //console.log('#46 - Track Action - Download Last Movements Resume')


            utag.link({
                "event_action": "Invoices and Payments Resume",
                "event_category": "Billing",
                "event": ["event_instance"],
                "event_label": "Download Last Movements Resume",
                "event_value": "1",
                "visitor_login_status": "Logged In"
            });


        },
        handleLastMovementsResumeDownloadedWithSuccess: function() {

            // #47 - Track View - Last Movements Resume Downloaded with Success
            if (window.utag) {
                this.fireLastMovementsResumeDownloadedWithSuccess()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireLastMovementsResumeDownloadedWithSuccess() });
            }
        },
        fireLastMovementsResumeDownloadedWithSuccess: function() {
            // #47 - Track View - Last Movements Resume Downloaded with Success
            //console.log('#47 - Track View - Last Movements Resume Downloaded with Success')


            utag.view({
                "event": ["page_view"],
                "page_name": "Last Movements Resume Downloaded with Success",
                "page_section": "My Vodafone:Billing:Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });


        },
        handleErrorDownloadingLastMovementsResume: function() {

            // #48 - Track View - Error Downloading Last Movements Resume
            if (window.utag) {
                this.fireErrorDownloadingLastMovementsResume()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireErrorDownloadingLastMovementsResume() });
            }
        },
        fireErrorDownloadingLastMovementsResume: function() {
            // #48 - Track View - Error Downloading Last Movements Resume
            //console.log('#48 - Track View - Error Downloading Last Movements Resume')


            utag.view({
                "event": ["page_view"],
                "page_name": "Error Downloading Last Movements Resume",
                "page_section": "My Vodafone:Billing:Invoices and Payments Resume",
                "visitor_login_status": "Logged In"
            });

        },
        handlePaymentAndMovements: function() {

            // #49 - Track View - Payments and Resume
            if (window.utag) {
                this.firePaymentAndMovements()
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.firePaymentAndMovements() });
            }
        },
        firePaymentAndMovements: function() {
            // #49 - Track View - Payments and Resume
            //console.log('#49 - Track View - Payments and Movements')


            utag.view({
                "event": ["page_view"],
                "page_name": "Payments and Movements",
                "page_section": "My Vodafone:Delegated Accesses",
                "visitor_login_status": "Logged In"
            });


        },
    }
};
var tealium_observatoryOverlay = {

    methods: {

        // #1 - Track Action - Download EBU Study + Page_name
        fireDownloadEbuStudy: function(){

            utag.link({
                "event_action"          : "Download EBU Study",
                "event_category"        : "Download EBU Observatory Studies",
                "event"                 : ["event_instance"],
                "event_label"           : "Download EBU Study "+ utag_data.page_name,
                "event_value"           : "1",
                "page_name_next"        : "EBU Download Form " + utag_data.page_name,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
        },

        handleDownloadEbuStudy: function(){
            if (window.utag) {
                this.fireDownloadEbuStudy();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireDownloadEbuStudy() });
            }
        },
        // #2 - Track View - EBU Download Form + Page_name
        fireTrackViewEbuDownloadForm: function(){
            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "EBU Download Form " + utag_data.page_name,
                "page_section"          : utag_data.page_section_full,
                "visitor_login_status"  : utag_data.visitor_login_status
            });

        },

        handleTrackViewEbuDownloadForm: function(){
            if (window.utag) {
                this.fireTrackViewEbuDownloadForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireTrackViewEbuDownloadForm() });
            }   
        },

        // #3 - Track Action - Submit EBU Download Study Form + Page_name  
        fireSubmitEBUDownloadStudyForm: function(){
            utag.link({
                "event_action"          : "Submit EBU Download Study Form",
                "event_category"        : "Download EBU Observatory Studies",
                "event"                 : ["event_instance"],
                "event_label"           : "Submit EBU Download Study Form " + utag_data.page_name,
                "event_value"           : "1",
                "visitor_login_status"  : utag_data.visitor_login_status
            });  
        }, 
        
        handleSubmitEBUDownloadStudyForm: function(){
            if (window.utag) {
                this.fireSubmitEBUDownloadStudyForm();
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubmitEBUDownloadStudyForm() });
            }   
        }

    }
}
/*
For all the links in the buttons, set the event_label as the "i_id" or "icmp" query parameter, which is the tracking code.
If the tracking code is not available, set as default "No Label".
*/
var tealium_clicksHP = {

    methods: {

        getURLParameter: function(name, href){
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(href);
            return results === null ? null : decodeURIComponent(results[1].replace(/\+/g, ' '));
        },

        // #1 - Track Action - Herobanner Click

        fireHerobannerClick: function(href, eventAction, eventCategory){

            var name = ["i_id","icmp"];
            for (var i=0; i<name.length; i++){
                var event_label = this.getURLParameter(name[i], href);
                if(event_label != null){
                    break;
                }
            }
            if(event_label == null){
                event_label = 'No Label';
            }
                    utag.link({
                        "event_action"          : eventAction,
                        "event_category"        : eventCategory,
                        "event"                 : ["event_instance"],
                        "event_label"           : event_label,
                        "event_value"           : "1",
                        "visitor_login_status"  : utag_data.visitor_login_status
                    });

        },
         handleHerobannerClick: function(href, eventAction, eventCategory){

             if (window.utag) {
                 this.fireHerobannerClick(href, eventAction, eventCategory);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireHerobannerClick(href, eventAction, eventCategory) });
             }
         },


// #2 - Track Action - Quicklinks Click

        fireQuickLinksClick: function(href){

            var name = ["i_id","icmp"];
            for (var i=0; i<name.length; i++){
                var event_label = this.getURLParameter(name[i], href);
                if(event_label != null){
                    break;
                }
            }
            if(event_label == null){
                event_label = 'No Label';
            }

           utag.link({
               "event_action"          : "Quicklinks Click",
               "event_category"        : "Quicklinks",
               "event"                 : ["event_instance"],
               "event_label"           : event_label,
               "visitor_login_status"  : utag_data.visitor_login_status
           });

         },
         handleQuickLinksClick: function(href){

             if (window.utag) {
                 this.fireQuickLinksClick(href);
             }
             else{
                 var me = this;
                 tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireQuickLinksClick(href) });
             }
         },


// #3 - Track Action - Image Click

        fireImageClick: function(href, eventAction, eventCategory){

            var name = ["i_id","icmp"];
            for (var i=0; i<name.length; i++){
                var event_label = this.getURLParameter(name[i], href);
                if(event_label != null){
                    break;
                }
            }
            if(event_label == null){
                event_label = 'No Label';
            }

            utag.link({
                "event_action"          : eventAction,
                "event_category"        : eventCategory,
                "event"                 : ["event_instance"],
                "event_label"           : event_label,
                "visitor_login_status"  : utag_data.visitor_login_status
                });
            },
        handleImageClick: function(href, eventAction, eventCategory){

            if (window.utag) {
                this.fireImageClick(href, eventAction, eventCategory);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireImageClick(href, eventAction, eventCategory) });
            }
        }
    }
 }


var tealium_dataBinding = {
    
    methods: {

// #1 - Track Action - Open Subscribe Layer

        fireOpenSubscribeLayer: function(cardTitle, objectType, configuration, tabOption){
            
            var page_name = utag_data.page_name;
            var event_label = "Subscribe " + utag_data.page_name + " " + tabOption + " " + cardTitle;

            utag.link({
                "event_action"          : "Subscribe " + page_name +  " " + tabOption,
                "event_category"        : page_name + " Online Subscription",
                "event"                 : ["event_instance"],
                "event_label"           : event_label,
                "event_value"           : "1",
                "page_name_next"        : "Subscribe " + page_name + " Layer",
                "product_package_configuration_type": [objectType],
                "product_package_configuration_value": [configuration],
                "visitor_login_status"  : utag_data.visitor_login_status
            });
         },

        handleOpenSubscribeLayer: function(cardTitle, objectType, configuration, tabOption, nextPageParam){
            if (window.utag) {
                this.fireOpenSubscribeLayer(cardTitle, objectType, configuration, tabOption, nextPageParam);
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireOpenSubscribeLayer(cardTitle, objectType, configuration, nextPageParam) });
            }
        },

// #2 - Track View - Subscribe Layer

        fireSubscribeLayer: function(){

            var page_name = utag_data.page_name;

            utag.view({
                "event"                 : ["page_view"],
                "page_name"             : "Subscribe " + page_name +  " Layer",
                "page_section"          : utag_data.page_section_full,
                "visitor_login_status"  : utag_data.visitor_login_status
            });
         },

        handleSubscribeLayer: function(){
            if (window.utag) {
                this.fireSubscribeLayer();
            }
            else{
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function() { me.fireSubscribeLayer() });
            }
        }
    }
}
var tealium_coverage = {
    methods: {

        handleCheckFibre: function (parm, option) {
            if (window.utag) {
                this.fireCheckFibre(parm, option);
            } else {
                var me = this;
                tealiumBus && tealiumBus.$on('utag-loaded', function () {
                    me.fireCheckFibre(parm, option)
                });
            }
        },

        fireCheckFibre: function (parm, option) {
            var results = ["Fiber", "Rural Fiber", "Fiber Coming Soon", "Coming Not So Soon (ADSL)", "Coming Not So Soon (Sem ADSL)", "Not eligible no ADSL", "Not eligible with ADSL", "Error invalid PC", "System error", "Undetermined (may be fiber)"];

            switch (option) {
                case "1":
                    //#1 - Track Action - Check Coverage
                    utag.link({
                        "event_action": "Check Coverage",
                        "event_category": "Coverage Test",
                        "event": ["event_instance"],
                        "event_label": "Check Coverage",
                        "event_value": "1",
                        "page_name_next": "Coverage Search Address",
                        "visitor_customer_location_postcode": parm,
                        "visitor_login_status": utag_data.visitor_login_status
                    });

                    //#3 - Track View - Coverage Search Address
                    utag.view({
                        "event": ["page_view"],
                        "page_name": "Coverage Search Address",
                        "page_section": "Início:Pacotes:Cobertura",
                        "visitor_login_status": utag_data.visitor_login_status
                    });
                    break;
                case "4":
                    //#4 - Track Action - Submit Coverage Test
                    var valor = results[parm - 1];
                    utag.link({
                        "event_action": "Submit Eligibility Test",
                        "event_category": "Eligibility Test",
                        "event": ["event_instance"],
                        "event_label": "Submit Eligibility Test",
                        "event_value": "1",
                        "visitor_login_status": utag_data.visitor_login_status,
                        "page_name_next": valor
                    });
                    break;
            }
        }
    }
};

/*!
 * vue-resource v1.3.4
 * https://github.com/pagekit/vue-resource
 * Released under the MIT License.
 */

! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.VueResource = e()
}(this, function() {
    "use strict";

    function t(t) {
        this.state = J, this.value = void 0, this.deferred = [];
        var e = this;
        try {
            t(function(t) {
                e.resolve(t)
            }, function(t) {
                e.reject(t)
            })
        } catch (t) {
            e.reject(t)
        }
    }

    function e(t, e) {
        t instanceof Promise ? this.promise = t : this.promise = new Promise(t.bind(e)), this.context = e
    }

    function n(t) {
        "undefined" != typeof console && _ && console.warn("[VueResource warn]: " + t)
    }

    function o(t) {
        "undefined" != typeof console && console.error(t)
    }

    function r(t, e) {
        return F(t, e)
    }

    function i(t) {
        return t ? t.replace(/^\s*|\s*$/g, "") : ""
    }

    function u(t, e) {
        return t && void 0 === e ? t.replace(/\s+$/, "") : t && e ? t.replace(new RegExp("[" + e + "]+$"), "") : t
    }

    function s(t) {
        return t ? t.toLowerCase() : ""
    }

    function a(t) {
        return t ? t.toUpperCase() : ""
    }

    function c(t) {
        return "string" == typeof t
    }

    function f(t) {
        return "function" == typeof t
    }

    function p(t) {
        return null !== t && "object" == typeof t
    }

    function h(t) {
        return p(t) && Object.getPrototypeOf(t) == Object.prototype
    }

    function d(t) {
        return "undefined" != typeof Blob && t instanceof Blob
    }

    function l(t) {
        return "undefined" != typeof FormData && t instanceof FormData
    }

    function m(t, n, o) {
        var r = e.resolve(t);
        return arguments.length < 2 ? r : r.then(n, o)
    }

    function y(t, e, n) {
        return n = n || {}, f(n) && (n = n.call(e)), b(t.bind({
            $vm: e,
            $options: n
        }), t, {
            $options: n
        })
    }

    function v(t, e) {
        var n, o;
        if (Q(t))
            for (n = 0; n < t.length; n++) e.call(t[n], t[n], n);
        else if (p(t))
            for (o in t) G.call(t, o) && e.call(t[o], t[o], o);
        return t
    }

    function b(t) {
        return V.call(arguments, 1).forEach(function(e) {
            T(t, e, !0)
        }), t
    }

    function g(t) {
        return V.call(arguments, 1).forEach(function(e) {
            for (var n in e) void 0 === t[n] && (t[n] = e[n])
        }), t
    }

    function w(t) {
        return V.call(arguments, 1).forEach(function(e) {
            T(t, e)
        }), t
    }

    function T(t, e, n) {
        for (var o in e) n && (h(e[o]) || Q(e[o])) ? (h(e[o]) && !h(t[o]) && (t[o] = {}), Q(e[o]) && !Q(t[o]) && (t[o] = []), T(t[o], e[o], n)) : void 0 !== e[o] && (t[o] = e[o])
    }

    function x(t, e, n) {
        var o = j(t),
            r = o.expand(e);
        return n && n.push.apply(n, o.vars), r
    }

    function j(t) {
        var e = ["+", "#", ".", "/", ";", "?", "&"],
            n = [];
        return {
            vars: n,
            expand: function(o) {
                return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g, function(t, r, i) {
                    if (r) {
                        var u = null,
                            s = [];
                        if (-1 !== e.indexOf(r.charAt(0)) && (u = r.charAt(0), r = r.substr(1)), r.split(/,/g).forEach(function(t) {
                                var e = /([^:\*]*)(?::(\d+)|(\*))?/.exec(t);
                                s.push.apply(s, E(o, u, e[1], e[2] || e[3])), n.push(e[1])
                            }), u && "+" !== u) {
                            var a = ",";
                            return "?" === u ? a = "&" : "#" !== u && (a = u), (0 !== s.length ? u : "") + s.join(a)
                        }
                        return s.join(",")
                    }
                    return $(i)
                })
            }
        }
    }

    function E(t, e, n, o) {
        var r = t[n],
            i = [];
        if (O(r) && "" !== r)
            if ("string" == typeof r || "number" == typeof r || "boolean" == typeof r) r = r.toString(), o && "*" !== o && (r = r.substring(0, parseInt(o, 10))), i.push(C(e, r, P(e) ? n : null));
            else if ("*" === o) Array.isArray(r) ? r.filter(O).forEach(function(t) {
            i.push(C(e, t, P(e) ? n : null))
        }) : Object.keys(r).forEach(function(t) {
            O(r[t]) && i.push(C(e, r[t], t))
        });
        else {
            var u = [];
            Array.isArray(r) ? r.filter(O).forEach(function(t) {
                u.push(C(e, t))
            }) : Object.keys(r).forEach(function(t) {
                O(r[t]) && (u.push(encodeURIComponent(t)), u.push(C(e, r[t].toString())))
            }), P(e) ? i.push(encodeURIComponent(n) + "=" + u.join(",")) : 0 !== u.length && i.push(u.join(","))
        } else ";" === e ? i.push(encodeURIComponent(n)) : "" !== r || "&" !== e && "?" !== e ? "" === r && i.push("") : i.push(encodeURIComponent(n) + "=");
        return i
    }

    function O(t) {
        return void 0 !== t && null !== t
    }

    function P(t) {
        return ";" === t || "&" === t || "?" === t
    }

    function C(t, e, n) {
        return e = "+" === t || "#" === t ? $(e) : encodeURIComponent(e), n ? encodeURIComponent(n) + "=" + e : e
    }

    function $(t) {
        return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t) {
            return /%[0-9A-Fa-f]/.test(t) || (t = encodeURI(t)), t
        }).join("")
    }

    function U(t, e) {
        var n, o = this || {},
            r = t;
        return c(t) && (r = {
            url: t,
            params: e
        }), r = b({}, U.options, o.$options, r), U.transforms.forEach(function(t) {
            c(t) && (t = U.transform[t]), f(t) && (n = R(t, n, o.$vm))
        }), n(r)
    }

    function R(t, e, n) {
        return function(o) {
            return t.call(n, o, e)
        }
    }

    function A(t, e, n) {
        var o, r = Q(e),
            i = h(e);
        v(e, function(e, u) {
            o = p(e) || Q(e), n && (u = n + "[" + (i || o ? u : "") + "]"), !n && r ? t.add(e.name, e.value) : o ? A(t, e, u) : t.add(u, e)
        })
    }

    function S(t) {
        var e = t.match(/^\[|^\{(?!\{)/),
            n = {
                "[": /]$/,
                "{": /}$/
            };
        return e && n[e[0]].test(t)
    }

    function k(t, e) {
        e((t.client || (z ? ht : dt))(t))
    }

    function I(t, e) {
        return Object.keys(t).reduce(function(t, n) {
            return s(e) === s(n) ? n : t
        }, null)
    }

    function q(t) {
        if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t)) throw new TypeError("Invalid character in header field name");
        return i(t)
    }

    function H(t) {
        return new e(function(e) {
            var n = new FileReader;
            n.readAsText(t), n.onload = function() {
                e(n.result)
            }
        })
    }

    function L(t) {
        return 0 === t.type.indexOf("text") || -1 !== t.type.indexOf("json")
    }

    function B(t) {
        var n = this || {},
            r = lt(n.$vm);
        return g(t || {}, n.$options, B.options), B.interceptors.forEach(function(t) {
            c(t) && (t = B.interceptor[t]), f(t) && r.use(t)
        }), r(new vt(t)).then(function(t) {
            return t.ok ? t : e.reject(t)
        }, function(t) {
            return t instanceof Error && o(t), e.reject(t)
        })
    }

    function M(t, e, n, o) {
        var r = this || {},
            i = {};
        return n = Y({}, M.actions, n), v(n, function(n, u) {
            n = b({
                url: t,
                params: Y({}, e)
            }, o, n), i[u] = function() {
                return (r.$http || B)(N(n, arguments))
            }
        }), i
    }

    function N(t, e) {
        var n, o = Y({}, t),
            r = {};
        switch (e.length) {
            case 2:
                r = e[0], n = e[1];
                break;
            case 1:
                /^(POST|PUT|PATCH)$/i.test(o.method) ? n = e[0] : r = e[0];
                break;
            case 0:
                break;
            default:
                throw "Expected up to 2 arguments [params, body], got " + e.length + " arguments"
        }
        return o.body = n, o.params = Y({}, o.params, r), o
    }

    function D(t) {
        D.installed || (K(t), t.url = U, t.http = B, t.resource = M, t.Promise = e, Object.defineProperties(t.prototype, {
            $url: {
                get: function() {
                    return y(t.url, this, this.$options.url)
                }
            },
            $http: {
                get: function() {
                    return y(t.http, this, this.$options.http)
                }
            },
            $resource: {
                get: function() {
                    return t.resource.bind(this)
                }
            },
            $promise: {
                get: function() {
                    var e = this;
                    return function(n) {
                        return new t.Promise(n, e)
                    }
                }
            }
        }))
    }
    var J = 2;
    t.reject = function(e) {
        return new t(function(t, n) {
            n(e)
        })
    }, t.resolve = function(e) {
        return new t(function(t, n) {
            t(e)
        })
    }, t.all = function(e) {
        return new t(function(n, o) {
            var r = 0,
                i = [];
            0 === e.length && n(i);
            for (var u = 0; u < e.length; u += 1) t.resolve(e[u]).then(function(t) {
                return function(o) {
                    i[t] = o, (r += 1) === e.length && n(i)
                }
            }(u), o)
        })
    }, t.race = function(e) {
        return new t(function(n, o) {
            for (var r = 0; r < e.length; r += 1) t.resolve(e[r]).then(n, o)
        })
    };
    var W = t.prototype;
    W.resolve = function(t) {
        var e = this;
        if (e.state === J) {
            if (t === e) throw new TypeError("Promise settled with itself.");
            var n = !1;
            try {
                var o = t && t.then;
                if (null !== t && "object" == typeof t && "function" == typeof o) return void o.call(t, function(t) {
                    n || e.resolve(t), n = !0
                }, function(t) {
                    n || e.reject(t), n = !0
                })
            } catch (t) {
                return void(n || e.reject(t))
            }
            e.state = 0, e.value = t, e.notify()
        }
    }, W.reject = function(t) {
        var e = this;
        if (e.state === J) {
            if (t === e) throw new TypeError("Promise settled with itself.");
            e.state = 1, e.value = t, e.notify()
        }
    }, W.notify = function() {
        var t = this;
        r(function() {
            if (t.state !== J)
                for (; t.deferred.length;) {
                    var e = t.deferred.shift(),
                        n = e[0],
                        o = e[1],
                        r = e[2],
                        i = e[3];
                    try {
                        0 === t.state ? r("function" == typeof n ? n.call(void 0, t.value) : t.value) : 1 === t.state && ("function" == typeof o ? r(o.call(void 0, t.value)) : i(t.value))
                    } catch (t) {
                        i(t)
                    }
                }
        })
    }, W.then = function(e, n) {
        var o = this;
        return new t(function(t, r) {
            o.deferred.push([e, n, t, r]), o.notify()
        })
    }, W.catch = function(t) {
        return this.then(void 0, t)
    }, "undefined" == typeof Promise && (window.Promise = t), e.all = function(t, n) {
        return new e(Promise.all(t), n)
    }, e.resolve = function(t, n) {
        return new e(Promise.resolve(t), n)
    }, e.reject = function(t, n) {
        return new e(Promise.reject(t), n)
    }, e.race = function(t, n) {
        return new e(Promise.race(t), n)
    };
    var X = e.prototype;
    X.bind = function(t) {
        return this.context = t, this
    }, X.then = function(t, n) {
        return t && t.bind && this.context && (t = t.bind(this.context)), n && n.bind && this.context && (n = n.bind(this.context)), new e(this.promise.then(t, n), this.context)
    }, X.catch = function(t) {
        return t && t.bind && this.context && (t = t.bind(this.context)), new e(this.promise.catch(t), this.context)
    }, X.finally = function(t) {
        return this.then(function(e) {
            return t.call(this), e
        }, function(e) {
            return t.call(this), Promise.reject(e)
        })
    };
    var F, G = {}.hasOwnProperty,
        V = [].slice,
        _ = !1,
        z = "undefined" != typeof window,
        K = function(t) {
            var e = t.config,
                n = t.nextTick;
            F = n, _ = e.debug || !e.silent
        },
        Q = Array.isArray,
        Y = Object.assign || w,
        Z = function(t, e) {
            var n = e(t);
            return c(t.root) && !/^(https?:)?\//.test(n) && (n = u(t.root, "/") + "/" + n), n
        },
        tt = function(t, e) {
            var n = Object.keys(U.options.params),
                o = {},
                r = e(t);
            return v(t.params, function(t, e) {
                -1 === n.indexOf(e) && (o[e] = t)
            }), (o = U.params(o)) && (r += (-1 == r.indexOf("?") ? "?" : "&") + o), r
        },
        et = function(t) {
            var e = [],
                n = x(t.url, t.params, e);
            return e.forEach(function(e) {
                delete t.params[e]
            }), n
        };
    U.options = {
        url: "",
        root: null,
        params: {}
    }, U.transform = {
        template: et,
        query: tt,
        root: Z
    }, U.transforms = ["template", "query", "root"], U.params = function(t) {
        var e = [],
            n = encodeURIComponent;
        return e.add = function(t, e) {
            f(e) && (e = e()), null === e && (e = ""), this.push(n(t) + "=" + n(e))
        }, A(e, t), e.join("&").replace(/%20/g, "+")
    }, U.parse = function(t) {
        var e = document.createElement("a");
        return document.documentMode && (e.href = t, t = e.href), e.href = t, {
            href: e.href,
            protocol: e.protocol ? e.protocol.replace(/:$/, "") : "",
            port: e.port,
            host: e.host,
            hostname: e.hostname,
            pathname: "/" === e.pathname.charAt(0) ? e.pathname : "/" + e.pathname,
            search: e.search ? e.search.replace(/^\?/, "") : "",
            hash: e.hash ? e.hash.replace(/^#/, "") : ""
        }
    };
    var nt = function(t) {
            return new e(function(e) {
                var n = new XDomainRequest,
                    o = function(o) {
                        var r = o.type,
                            i = 0;
                        "load" === r ? i = 200 : "error" === r && (i = 500), e(t.respondWith(n.responseText, {
                            status: i
                        }))
                    };
                t.abort = function() {
                    return n.abort()
                }, n.open(t.method, t.getUrl()), t.timeout && (n.timeout = t.timeout), n.onload = o, n.onabort = o, n.onerror = o, n.ontimeout = o, n.onprogress = function() {}, n.send(t.getBody())
            })
        },
        ot = z && "withCredentials" in new XMLHttpRequest,
        rt = function(t, e) {
            if (z) {
                var n = U.parse(location.href),
                    o = U.parse(t.getUrl());
                o.protocol === n.protocol && o.host === n.host || (t.crossOrigin = !0, t.emulateHTTP = !1, ot || (t.client = nt))
            }
            e()
        },
        it = function(t, e) {
            l(t.body) ? t.headers.delete("Content-Type") : p(t.body) && t.emulateJSON && (t.body = U.params(t.body), t.headers.set("Content-Type", "application/x-www-form-urlencoded")), e()
        },
        ut = function(t, e) {
            var n = t.headers.get("Content-Type") || "";
            p(t.body) && 0 === n.indexOf("application/json") && (t.body = JSON.stringify(t.body)), e(function(t) {
                return t.bodyText ? m(t.text(), function(e) {
                    if (0 === (n = t.headers.get("Content-Type") || "").indexOf("application/json") || S(e)) try {
                        t.body = JSON.parse(e)
                    } catch (e) {
                        t.body = null
                    } else t.body = e;
                    return t
                }) : t
            })
        },
        st = function(t) {
            return new e(function(e) {
                var n, o, r = t.jsonp || "callback",
                    i = t.jsonpCallback || "_jsonp" + Math.random().toString(36).substr(2),
                    u = null;
                n = function(n) {
                    var r = n.type,
                        s = 0;
                    "load" === r && null !== u ? s = 200 : "error" === r && (s = 500), s && window[i] && (delete window[i], document.body.removeChild(o)), e(t.respondWith(u, {
                        status: s
                    }))
                }, window[i] = function(t) {
                    u = JSON.stringify(t)
                }, t.abort = function() {
                    n({
                        type: "abort"
                    })
                }, t.params[r] = i, t.timeout && setTimeout(t.abort, t.timeout), (o = document.createElement("script")).src = t.getUrl(), o.type = "text/javascript", o.async = !0, o.onload = n, o.onerror = n, document.body.appendChild(o)
            })
        },
        at = function(t, e) {
            "JSONP" == t.method && (t.client = st), e()
        },
        ct = function(t, e) {
            f(t.before) && t.before.call(this, t), e()
        },
        ft = function(t, e) {
            t.emulateHTTP && /^(PUT|PATCH|DELETE)$/i.test(t.method) && (t.headers.set("X-HTTP-Method-Override", t.method), t.method = "POST"), e()
        },
        pt = function(t, e) {
            v(Y({}, B.headers.common, t.crossOrigin ? {} : B.headers.custom, B.headers[s(t.method)]), function(e, n) {
                t.headers.has(n) || t.headers.set(n, e)
            }), e()
        },
        ht = function(t) {
            return new e(function(e) {
                var n = new XMLHttpRequest,
                    o = function(o) {
                        var r = t.respondWith("response" in n ? n.response : n.responseText, {
                            status: 1223 === n.status ? 204 : n.status,
                            statusText: 1223 === n.status ? "No Content" : i(n.statusText)
                        });
                        v(i(n.getAllResponseHeaders()).split("\n"), function(t) {
                            r.headers.append(t.slice(0, t.indexOf(":")), t.slice(t.indexOf(":") + 1))
                        }), e(r)
                    };
                t.abort = function() {
                    return n.abort()
                }, t.progress && ("GET" === t.method ? n.addEventListener("progress", t.progress) : /^(POST|PUT)$/i.test(t.method) && n.upload.addEventListener("progress", t.progress)), n.open(t.method, t.getUrl(), !0), t.timeout && (n.timeout = t.timeout), t.responseType && "responseType" in n && (n.responseType = t.responseType), (t.withCredentials || t.credentials) && (n.withCredentials = !0), t.crossOrigin || t.headers.set("X-Requested-With", "XMLHttpRequest"), t.headers.forEach(function(t, e) {
                    n.setRequestHeader(e, t)
                }), n.onload = o, n.onabort = o, n.onerror = o, n.ontimeout = o, n.send(t.getBody())
            })
        },
        dt = function(t) {
            var n = require("got");
            return new e(function(e) {
                var o, r = t.getUrl(),
                    u = t.getBody(),
                    s = t.method,
                    a = {};
                t.headers.forEach(function(t, e) {
                    a[e] = t
                }), n(r, {
                    body: u,
                    method: s,
                    headers: a
                }).then(o = function(n) {
                    var o = t.respondWith(n.body, {
                        status: n.statusCode,
                        statusText: i(n.statusMessage)
                    });
                    v(n.headers, function(t, e) {
                        o.headers.set(e, t)
                    }), e(o)
                }, function(t) {
                    return o(t.response)
                })
            })
        },
        lt = function(t) {
            function o(o) {
                return new e(function(e, s) {
                    function a() {
                        f(r = i.pop()) ? r.call(t, o, c) : (n("Invalid interceptor of type " + typeof r + ", must be a function"), c())
                    }

                    function c(n) {
                        if (f(n)) u.unshift(n);
                        else if (p(n)) return u.forEach(function(e) {
                            n = m(n, function(n) {
                                return e.call(t, n) || n
                            }, s)
                        }), void m(n, e, s);
                        a()
                    }
                    a()
                }, t)
            }
            var r, i = [k],
                u = [];
            return p(t) || (t = null), o.use = function(t) {
                i.push(t)
            }, o
        },
        mt = function(t) {
            var e = this;
            this.map = {}, v(t, function(t, n) {
                return e.append(n, t)
            })
        };
    mt.prototype.has = function(t) {
        return null !== I(this.map, t)
    }, mt.prototype.get = function(t) {
        var e = this.map[I(this.map, t)];
        return e ? e.join() : null
    }, mt.prototype.getAll = function(t) {
        return this.map[I(this.map, t)] || []
    }, mt.prototype.set = function(t, e) {
        this.map[q(I(this.map, t) || t)] = [i(e)]
    }, mt.prototype.append = function(t, e) {
        var n = this.map[I(this.map, t)];
        n ? n.push(i(e)) : this.set(t, e)
    }, mt.prototype.delete = function(t) {
        delete this.map[I(this.map, t)]
    }, mt.prototype.deleteAll = function() {
        this.map = {}
    }, mt.prototype.forEach = function(t, e) {
        var n = this;
        v(this.map, function(o, r) {
            v(o, function(o) {
                return t.call(e, o, r, n)
            })
        })
    };
    var yt = function(t, e) {
        var n = e.url,
            o = e.headers,
            r = e.status,
            i = e.statusText;
        this.url = n, this.ok = r >= 200 && r < 300, this.status = r || 0, this.statusText = i || "", this.headers = new mt(o), this.body = t, c(t) ? this.bodyText = t : d(t) && (this.bodyBlob = t, L(t) && (this.bodyText = H(t)))
    };
    yt.prototype.blob = function() {
        return m(this.bodyBlob)
    }, yt.prototype.text = function() {
        return m(this.bodyText)
    }, yt.prototype.json = function() {
        return m(this.text(), function(t) {
            return JSON.parse(t)
        })
    }, Object.defineProperty(yt.prototype, "data", {
        get: function() {
            return this.body
        },
        set: function(t) {
            this.body = t
        }
    });
    var vt = function(t) {
        this.body = null, this.params = {}, Y(this, t, {
            method: a(t.method || "GET")
        }), this.headers instanceof mt || (this.headers = new mt(this.headers))
    };
    vt.prototype.getUrl = function() {
        return U(this)
    }, vt.prototype.getBody = function() {
        return this.body
    }, vt.prototype.respondWith = function(t, e) {
        return new yt(t, Y(e || {}, {
            url: this.getUrl()
        }))
    };
    var bt = {
            Accept: "application/json, text/plain, */*"
        },
        gt = {
            "Content-Type": "application/json;charset=utf-8"
        };
    return B.options = {}, B.headers = {
        put: gt,
        post: gt,
        patch: gt,
        delete: gt,
        common: bt,
        custom: {}
    }, B.interceptor = {
        before: ct,
        method: ft,
        jsonp: at,
        json: ut,
        form: it,
        header: pt,
        cors: rt
    }, B.interceptors = ["before", "method", "jsonp", "json", "form", "header", "cors"], ["get", "delete", "head", "jsonp"].forEach(function(t) {
        B[t] = function(e, n) {
            return this(Y(n || {}, {
                url: e,
                method: t
            }))
        }
    }), ["post", "put", "patch"].forEach(function(t) {
        B[t] = function(e, n, o) {
            return this(Y(o || {}, {
                url: e,
                method: t,
                body: n
            }))
        }
    }), M.actions = {
        get: {
            method: "GET"
        },
        save: {
            method: "POST"
        },
        query: {
            method: "GET"
        },
        update: {
            method: "PUT"
        },
        remove: {
            method: "DELETE"
        },
        delete: {
            method: "DELETE"
        }
    }, "undefined" != typeof window && window.Vue && window.Vue.use(D), D
});
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
	typeof define === 'function' && define.amd ? define(['exports'], factory) :
	(factory((global.VueMask = {})));
}(this, (function (exports) { 'use strict';

function format (data, mask) {
  if (!mask) return data;

  var maskStartRegExp = /^([^#ANX]+)/;

  if (data.length == 1 && maskStartRegExp.test(mask)) {
    data = maskStartRegExp.exec(mask)[0] + data;
  }

  var text = '';

  var cOffset = 0;

  for (var i = 0; i < mask.length; i++) {
    var m = mask.charAt(i);
    switch (m) {
      case '#':
        break;
      case 'A':
        break;
      case '?':
        break;
      case 'N':
        break;
      case 'X':
        break;
      default:
        data = data.replace(m, '');
    }
  }
  for (var _i = 0, x = 1; x && _i < mask.length; ++_i) {
    var c = data.charAt(_i - cOffset);
    var _m = mask.charAt(_i);

    switch (_m) {
      case '#':
        if (/\d/.test(c)) {
          text += c;
        } else {
          x = 0;
        }break;
      case 'A':
        if (/[a-z]/i.test(c)) {
          text += c;
        } else {
          x = 0;
        }break;
      case 'N':
        if (/[a-z0-9]/i.test(c)) {
          text += c;
        } else {
          x = 0;
        }break;

      case '?':
        cOffset++;break;
      case 'X':
        text += c;break;
      default:
        text += _m;

        if (c && c !== _m) {
          data = ' ' + data;
        }

        break;
    }
  }
  return text;
}

var trigger = function trigger(el, type) {
  var e = document.createEvent('HTMLEvents');
  e.initEvent(type, true, true);
  el.dispatchEvent(e);
};

function getNonMaskIndex(mask) {
    var indexes = [];
    for (var i = 0; i < mask.length; i++) {
        var m = mask.charAt(i);
        switch (m) {
          case '#':
            break;
          case 'A':
            break;
          case '?':
            break;
          case 'N':
            break;
          case 'X':
            break;
          default:
            indexes.push(i);
        }
      }
    return indexes;
}


function updateValue(el) {
  var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var value = el.value,
      _el$dataset = el.dataset,
      _el$dataset$previousV = _el$dataset.previousValue,
      previousValue = _el$dataset$previousV === undefined ? "" : _el$dataset$previousV,
      lastPos = el.selectionStart,
      mask = _el$dataset.mask,
      nonMaskIndex = getNonMaskIndex(mask),
      deleted = value.length < previousValue.length;

  if (force || value && value !== previousValue && value.length > previousValue.length && (lastPos === value.length ||  value.length > mask.length) || deleted && lastPos !== value.length && nonMaskIndex.indexOf(lastPos) !== -1) {
    el.value = format(value, mask);
    trigger(el, 'input');
  }

  el.dataset.previousValue = value;
}

function updateMask(el, mask) {
  el.dataset.mask = mask;
}

var VueMaskDirective = {
  bind: function bind(el, _ref) {
    var value = _ref.value;

    updateMask(el, value);
    updateValue(el);
  },
  componentUpdated: function componentUpdated(el, _ref2) {
    var value = _ref2.value,
        oldValue = _ref2.oldValue;


    var isMaskChanged = value !== oldValue;

    if (isMaskChanged) {
      updateMask(el, value);
    }

    updateValue(el, isMaskChanged);
  }
};

var VueMaskPlugin = function VueMaskPlugin(Vue) {
  Vue.directive('mask', VueMaskDirective);
};

exports.default = VueMaskPlugin;
exports.VueMaskPlugin = VueMaskPlugin;
exports.VueMaskDirective = VueMaskDirective;

Object.defineProperty(exports, '__esModule', { value: true });

})));
Vue.directive('mask', VueMask.VueMaskDirective);
"undefined"!=typeof navigator&&function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):(t.lottie=e(t),t.bodymovin=t.lottie)}(window||{},function(window){"use strict";function ProjectInterface(){return{}}function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function randomString(t,e){void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var i,r="";for(i=t;i>0;--i)r+=e[Math.round(Math.random()*(e.length-1))];return r}function HSVtoRGB(t,e,i){var r,s,a,n,o,h,l,p;switch(n=Math.floor(6*t),o=6*t-n,h=i*(1-e),l=i*(1-o*e),p=i*(1-(1-o)*e),n%6){case 0:r=i,s=p,a=h;break;case 1:r=l,s=i,a=h;break;case 2:r=h,s=i,a=p;break;case 3:r=h,s=l,a=i;break;case 4:r=p,s=h,a=i;break;case 5:r=i,s=h,a=l}return[r,s,a]}function RGBtoHSV(t,e,i){var r,s=Math.max(t,e,i),a=Math.min(t,e,i),n=s-a,o=0===s?0:n/s,h=s/255;switch(s){case a:r=0;break;case t:r=e-i+n*(e<i?6:0),r/=6*n;break;case e:r=i-t+2*n,r/=6*n;break;case i:r=t-e+4*n,r/=6*n}return[r,o,h]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}function BaseEvent(){}function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}function extendPrototype(t,e){var i,r,s=t.length;for(i=0;i<s;i+=1){r=t[i].prototype;for(var a in r)r.hasOwnProperty(a)&&(e.prototype[a]=r[a])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,i,r,s,a){var n=t*r+e*s+i*a-s*r-a*t-i*e;return n>-.001&&n<.001}function e(e,i,r,s,a,n,o,h,l){if(0===r&&0===n&&0===l)return t(e,i,s,a,o,h);var p,m=Math.sqrt(Math.pow(s-e,2)+Math.pow(a-i,2)+Math.pow(n-r,2)),f=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-i,2)+Math.pow(l-r,2)),c=Math.sqrt(Math.pow(o-s,2)+Math.pow(h-a,2)+Math.pow(l-n,2));return p=m>f?m>c?m-f-c:c-f-m:c>f?c-f-m:f-m-c,p>-1e-4&&p<1e-4}function i(t){var e,i=segments_length_pool.newElement(),r=t.c,s=t.v,a=t.o,n=t.i,o=t._length,l=i.lengths,p=0;for(e=0;e<o-1;e+=1)l[e]=h(s[e],s[e+1],a[e],n[e+1]),p+=l[e].addedLength;return r&&o&&(l[e]=h(s[e],s[0],a[e],n[0]),p+=l[e].addedLength),i.totalLength=p,i}function r(t){this.segmentLength=0,this.points=new Array(t)}function s(t,e){this.partialLength=t,this.point=e}function a(t,e){var i=e.percents,r=e.lengths,s=i.length,a=bm_floor((s-1)*t),n=t*e.addedLength,o=0;if(a===s-1||0===a||n===r[a])return i[a];for(var h=r[a]>n?-1:1,l=!0;l;)if(r[a]<=n&&r[a+1]>n?(o=(n-r[a])/(r[a+1]-r[a]),l=!1):a+=h,a<0||a>=s-1){if(a===s-1)return i[a];l=!1}return i[a]+(i[a+1]-i[a])*o}function n(t,e,i,r,s,n){var o=a(s,n),h=1-o,l=Math.round(1e3*(h*h*h*t[0]+(o*h*h+h*o*h+h*h*o)*i[0]+(o*o*h+h*o*o+o*h*o)*r[0]+o*o*o*e[0]))/1e3,p=Math.round(1e3*(h*h*h*t[1]+(o*h*h+h*o*h+h*h*o)*i[1]+(o*o*h+h*o*o+o*h*o)*r[1]+o*o*o*e[1]))/1e3;return[l,p]}function o(t,e,i,r,s,n,o){s=s<0?0:s>1?1:s;var h=a(s,o);n=n>1?1:n;var l,m=a(n,o),f=t.length,c=1-h,d=1-m,u=c*c*c,y=h*c*c*3,g=h*h*c*3,v=h*h*h,b=c*c*d,x=h*c*d+c*h*d+c*c*m,E=h*h*d+c*h*m+h*c*m,S=h*h*m,P=c*d*d,_=h*d*d+c*m*d+c*d*m,C=h*m*d+c*m*m+h*d*m,A=h*m*m,T=d*d*d,k=m*d*d+d*m*d+d*d*m,M=m*m*d+d*m*m+m*d*m,D=m*m*m;for(l=0;l<f;l+=1)p[4*l]=Math.round(1e3*(u*t[l]+y*i[l]+g*r[l]+v*e[l]))/1e3,p[4*l+1]=Math.round(1e3*(b*t[l]+x*i[l]+E*r[l]+S*e[l]))/1e3,p[4*l+2]=Math.round(1e3*(P*t[l]+_*i[l]+C*r[l]+A*e[l]))/1e3,p[4*l+3]=Math.round(1e3*(T*t[l]+k*i[l]+M*r[l]+D*e[l]))/1e3;return p}var h=(Math,function(){return function(t,e,i,r){var s,a,n,o,h,l,p=defaultCurveSegments,m=0,f=[],c=[],d=bezier_length_pool.newElement();for(n=i.length,s=0;s<p;s+=1){for(h=s/(p-1),l=0,a=0;a<n;a+=1)o=bm_pow(1-h,3)*t[a]+3*bm_pow(1-h,2)*h*i[a]+3*(1-h)*bm_pow(h,2)*r[a]+bm_pow(h,3)*e[a],f[a]=o,null!==c[a]&&(l+=bm_pow(f[a]-c[a],2)),c[a]=f[a];l&&(l=bm_sqrt(l),m+=l),d.percents[s]=h,d.lengths[s]=m}return d.addedLength=m,d}}()),l=function(){var e={};return function(i){var a=i.s,n=i.e,o=i.to,h=i.ti,l=(a[0]+"_"+a[1]+"_"+n[0]+"_"+n[1]+"_"+o[0]+"_"+o[1]+"_"+h[0]+"_"+h[1]).replace(/\./g,"p");if(e[l])return void(i.bezierData=e[l]);var p,m,f,c,d,u,y,g=defaultCurveSegments,v=0,b=null;2===a.length&&(a[0]!=n[0]||a[1]!=n[1])&&t(a[0],a[1],n[0],n[1],a[0]+o[0],a[1]+o[1])&&t(a[0],a[1],n[0],n[1],n[0]+h[0],n[1]+h[1])&&(g=2);var x=new r(g);for(f=o.length,p=0;p<g;p+=1){for(y=createSizedArray(f),d=p/(g-1),u=0,m=0;m<f;m+=1)c=bm_pow(1-d,3)*a[m]+3*bm_pow(1-d,2)*d*(a[m]+o[m])+3*(1-d)*bm_pow(d,2)*(n[m]+h[m])+bm_pow(d,3)*n[m],y[m]=c,null!==b&&(u+=bm_pow(y[m]-b[m],2));u=bm_sqrt(u),v+=u,x.points[p]=new s(u,y),b=y}x.segmentLength=v,i.bezierData=x,e[l]=x}}(),p=createTypedArray("float32",8);return{getSegmentsLength:i,getNewSegment:o,getPointInSegment:n,buildBezierData:l,pointOnLine2D:t,pointOnLine3D:e}}function dataFunctionManager(){function t(s,a,o){var h,l,p,m,f,c,d,u,y=s.length;for(m=0;m<y;m+=1)if(h=s[m],"ks"in h&&!h.completed){if(h.completed=!0,h.tt&&(s[m-1].td=h.tt),l=[],p=-1,h.hasMask){var g=h.masksProperties;for(c=g.length,f=0;f<c;f+=1)if(g[f].pt.k.i)r(g[f].pt.k);else for(u=g[f].pt.k.length,d=0;d<u;d+=1)g[f].pt.k[d].s&&r(g[f].pt.k[d].s[0]),g[f].pt.k[d].e&&r(g[f].pt.k[d].e[0])}0===h.ty?(h.layers=e(h.refId,a),t(h.layers,a,o)):4===h.ty?i(h.shapes):5==h.ty&&n(h,o)}}function e(t,e){for(var i=0,r=e.length;i<r;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}function i(t){var e,s,a,n=t.length,o=!1;for(e=n-1;e>=0;e-=1)if("sh"==t[e].ty){if(t[e].ks.k.i)r(t[e].ks.k);else for(a=t[e].ks.k.length,s=0;s<a;s+=1)t[e].ks.k[s].s&&r(t[e].ks.k[s].s[0]),t[e].ks.k[s].e&&r(t[e].ks.k[s].e[0]);o=!0}else"gr"==t[e].ty&&i(t[e].it)}function r(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function s(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}function a(e,i){e.__complete||(l(e),o(e),h(e),p(e),t(e.layers,e.assets,i),e.__complete=!0)}function n(t,e){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var o=function(){function t(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function e(e){var i,r=e.length;for(i=0;i<r;i+=1)5===e[i].ty&&t(e[i])}var i=[4,4,14];return function(t){if(s(i,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;r<a;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),h=function(){var t=[4,7,99];return function(e){if(e.chars&&!s(t,e.v)){var i,a,n,o,h,l=e.chars.length;for(i=0;i<l;i+=1)if(e.chars[i].data&&e.chars[i].data.shapes)for(h=e.chars[i].data.shapes[0].it,n=h.length,a=0;a<n;a+=1)o=h[a].ks.k,o.__converted||(r(h[a].ks.k),o.__converted=!0)}}}(),l=function(){function t(e){var i,r,s,a=e.length;for(i=0;i<a;i+=1)if("gr"===e[i].ty)t(e[i].it);else if("fl"===e[i].ty||"st"===e[i].ty)if(e[i].c.k&&e[i].c.k[0].i)for(s=e[i].c.k.length,r=0;r<s;r+=1)e[i].c.k[r].s&&(e[i].c.k[r].s[0]/=255,e[i].c.k[r].s[1]/=255,e[i].c.k[r].s[2]/=255,e[i].c.k[r].s[3]/=255),e[i].c.k[r].e&&(e[i].c.k[r].e[0]/=255,e[i].c.k[r].e[1]/=255,e[i].c.k[r].e[2]/=255,e[i].c.k[r].e[3]/=255);else e[i].c.k[0]/=255,e[i].c.k[1]/=255,e[i].c.k[2]/=255,e[i].c.k[3]/=255}function e(e){var i,r=e.length;for(i=0;i<r;i+=1)4===e[i].ty&&t(e[i].shapes)}var i=[4,1,9];return function(t){if(s(i,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;r<a;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),p=function(){function t(e){var i,r,s,a=e.length,n=!1;for(i=a-1;i>=0;i-=1)if("sh"==e[i].ty){if(e[i].ks.k.i)e[i].ks.k.c=e[i].closed;else for(s=e[i].ks.k.length,r=0;r<s;r+=1)e[i].ks.k[r].s&&(e[i].ks.k[r].s[0].c=e[i].closed),e[i].ks.k[r].e&&(e[i].ks.k[r].e[0].c=e[i].closed);n=!0}else"gr"==e[i].ty&&t(e[i].it)}function e(e){var i,r,s,a,n,o,h=e.length;for(r=0;r<h;r+=1){if(i=e[r],i.hasMask){var l=i.masksProperties;for(a=l.length,s=0;s<a;s+=1)if(l[s].pt.k.i)l[s].pt.k.c=l[s].cl;else for(o=l[s].pt.k.length,n=0;n<o;n+=1)l[s].pt.k[n].s&&(l[s].pt.k[n].s[0].c=l[s].cl),l[s].pt.k[n].e&&(l[s].pt.k[n].e[0].c=l[s].cl)}4===i.ty&&t(i.shapes)}}var i=[4,4,18];return function(t){if(s(i,t.v)&&(e(t.layers),t.assets)){var r,a=t.assets.length;for(r=0;r<a;r+=1)t.assets[r].layers&&e(t.assets[r].layers)}}}(),m={};return m.completeData=a,m}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,a,n=e.length||0;for(s=0;s<n;s+=1)a=PropertyFactory.getProp(t,e[s].v,0,0,this),this.k=a.k||this.k,this.dataProps[s]={n:e[s].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(t,e,i){var r={propType:!1},s=PropertyFactory.getProp,a=e.a;this.a={r:a.r?s(t,a.r,0,degToRads,i):r,rx:a.rx?s(t,a.rx,0,degToRads,i):r,ry:a.ry?s(t,a.ry,0,degToRads,i):r,sk:a.sk?s(t,a.sk,0,degToRads,i):r,sa:a.sa?s(t,a.sa,0,degToRads,i):r,s:a.s?s(t,a.s,1,.01,i):r,a:a.a?s(t,a.a,1,0,i):r,o:a.o?s(t,a.o,0,.01,i):r,p:a.p?s(t,a.p,1,0,i):r,sw:a.sw?s(t,a.sw,0,0,i):r,sc:a.sc?s(t,a.sc,1,0,i):r,fc:a.fc?s(t,a.fc,1,0,i):r,fh:a.fh?s(t,a.fh,0,0,i):r,fs:a.fs?s(t,a.fs,0,.01,i):r,fb:a.fb?s(t,a.fb,0,.01,i):r,t:a.t?s(t,a.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function LetterProps(t,e,i,r,s,a){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=s,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i=createNS("defs");this.svgElement.appendChild(i);var r=createNS("g");this.svgElement.appendChild(r),this.layerElement=r,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||e.hideOnTransparent!==!1,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:i,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,s=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var n,o,h,l,p,m,f,c=this.masksProperties,d=0,u=[],y=randomString(10),g="clipPath",v="clip-path";for(r=0;r<a;r++)if(("a"!==c[r].mode&&"n"!==c[r].mode||c[r].inv||100!==c[r].o.k)&&(g="mask",v="mask"),"s"!=c[r].mode&&"i"!=c[r].mode||0!==d?l=null:(l=createNS("rect"),l.setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),u.push(l)),n=createNS("path"),"n"!=c[r].mode){d+=1,n.setAttribute("fill","s"===c[r].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero");var b;if(0!==c[r].x.k?(g="mask",v="mask",f=PropertyFactory.getProp(this.element,c[r].x,0,null,this.element),b="fi_"+randomString(10),p=createNS("filter"),p.setAttribute("id",b),m=createNS("feMorphology"),m.setAttribute("operator","dilate"),m.setAttribute("in","SourceGraphic"),m.setAttribute("radius","0"),p.appendChild(m),s.appendChild(p),n.setAttribute("stroke","s"===c[r].mode?"#000000":"#ffffff")):(m=null,f=null),this.storedData[r]={elem:n,x:f,expan:m,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==c[r].mode){h=u.length;var x=createNS("g");for(o=0;o<h;o+=1)x.appendChild(u[o]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",y+"_"+d),E.appendChild(n),s.appendChild(E),x.setAttribute("mask","url("+locationHref+"#"+y+"_"+d+")"),u.length=0,u.push(x)}else u.push(n);c[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,c[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[r],3),invRect:l},this.viewData[r].prop.k||this.drawPath(c[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,c[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[r],3),elem:n,lastPath:""},s.appendChild(n);for(this.maskElement=createNS(g),a=u.length,r=0;r<a;r+=1)this.maskElement.appendChild(u[r]);d>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+y+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,s=t.length;r<s;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function BaseElement(){}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function ISolidElement(t,e,i){this.initElement(t,e,i)}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),i=createNS("feColorMatrix"),i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r=createNS("feMerge");t.appendChild(r);var s;s=createNS("feMergeNode"),s.setAttribute("in","SourceGraphic"),r.appendChild(s),s=createNS("feMergeNode"),s.setAttribute("in","f2"),r.appendChild(s)}}function SVGFillFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var s=createNS("feFuncR");s.setAttribute("type","table"),r.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),r.appendChild(a),this.feFuncG=a;var n=createNS("feFuncB");n.setAttribute("type","table"),r.appendChild(n),this.feFuncB=n}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,r=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var s=createNS("feFlood");s.setAttribute("flood-color","#00ff00"),s.setAttribute("flood-opacity","1"),s.setAttribute("result","drop_shadow_3"),this.feFlood=s,t.appendChild(s);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var n=createNS("feMerge");t.appendChild(n);var o;o=createNS("feMergeNode"),n.appendChild(o),o=createNS("feMergeNode"),o.setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=n,this.originalNodeAdded=!1,n.appendChild(o)}function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i=t.data.ef?t.data.ef.length:0,r=randomString(10),s=filtersFactory.createFilter(r),a=0;this.filters=[];var n;for(e=0;e<i;e+=1)n=null,20===t.data.ef[e].ty?(a+=1,n=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,n=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?n=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,n=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,n=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,n=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty&&(n=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t)),n&&this.filters.push(n);a&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function EffectsManager(){}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||e.hideOnTransparent!==!1},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function CVShapeData(t,e,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;"rc"==e.ty?s=5:"el"==e.ty?s=6:"sr"==e.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var a,n,o=i.length;for(a=0;a<o;a+=1)i[a].closed||(n={transforms:r.addTransformSequence(i[a].transforms),trNodes:[]},this.styledShapes.push(n),i[a].elements.push(n))}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var t,e=15;for(this.savedOp=createTypedArray("float32",e),t=0;t<e;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=e}function CVBaseElement(){}function CVImageElement(t,e,i){this.failed=!1,this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,i)}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,r=this.masksProperties.length,s=!1;for(i=0;i<r;i++)"n"!==this.masksProperties[i].mode&&(s=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVEffects(){}function HBaseElement(t,e,i){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var s,a=t.ks.or.k.length;for(s=0;s<a;s+=1)t.ks.or.k[s].to=null,t.ks.or.k[s].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0}function HEffects(){}function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];var r,s,a=i.length;for(r=0;r<a;r++)s=new GroupEffect(i[r],e),this.effectElements.push(s)}function GroupEffect(t,e){this.init(t,e)}function setLocationHref(t){locationHref=t}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i++){var r=e[i].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var t,e=Object.getOwnPropertyNames(Math),i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){var e=typeof t;if("object"===e&&t.length){var i,r=createSizedArray(t.length),s=t.length;for(i=0;i<s;i+=1)r[i]=Math.abs(t[i]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+i[t]+i[e]+i[r]}}();BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,r=0;r<i;r++)this._cbs[t][r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,r=this._cbs[t].length;i<r;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,r-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=function(){function t(t,e){var i,r=0,s=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<e;r+=1)s.push(i);return s}function e(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?e:t}();DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Matrix=function(){function t(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function e(t){if(0===t)return this;var e=k(t),i=M(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function i(t){if(0===t)return this;var e=k(t),i=M(t);return this._t(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1)}function r(t){if(0===t)return this;var e=k(t),i=M(t);return this._t(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1)}function s(t){if(0===t)return this;var e=k(t),i=M(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function a(t,e){return this._t(1,e,t,1,0,0)}function n(t,e){return this.shear(D(t),D(e))}function o(t,e){var i=k(e),r=M(e);return this._t(i,r,0,0,-r,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,D(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function h(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function l(t,e,i,r,s,a,n,o,h,l,p,m,f,c,d,u){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=r,this.props[4]=s,this.props[5]=a,this.props[6]=n,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=p,this.props[11]=m,this.props[12]=f,this.props[13]=c,this.props[14]=d,this.props[15]=u,this}function p(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function m(t,e,i,r,s,a,n,o,h,l,p,m,f,c,d,u){var y=this.props;if(1===t&&0===e&&0===i&&0===r&&0===s&&1===a&&0===n&&0===o&&0===h&&0===l&&1===p&&0===m)return y[12]=y[12]*t+y[15]*f,y[13]=y[13]*a+y[15]*c,y[14]=y[14]*p+y[15]*d,y[15]=y[15]*u,this._identityCalculated=!1,this;var g=y[0],v=y[1],b=y[2],x=y[3],E=y[4],S=y[5],P=y[6],_=y[7],C=y[8],A=y[9],T=y[10],k=y[11],M=y[12],D=y[13],w=y[14],F=y[15];return y[0]=g*t+v*s+b*h+x*f,y[1]=g*e+v*a+b*l+x*c,y[2]=g*i+v*n+b*p+x*d,y[3]=g*r+v*o+b*m+x*u,y[4]=E*t+S*s+P*h+_*f,y[5]=E*e+S*a+P*l+_*c,y[6]=E*i+S*n+P*p+_*d,y[7]=E*r+S*o+P*m+_*u,y[8]=C*t+A*s+T*h+k*f,y[9]=C*e+A*a+T*l+k*c,y[10]=C*i+A*n+T*p+k*d,y[11]=C*r+A*o+T*m+k*u,y[12]=M*t+D*s+w*h+F*f,y[13]=M*e+D*a+w*l+F*c,y[14]=M*i+D*n+w*p+F*d,y[15]=M*r+D*o+w*m+F*u,this._identityCalculated=!1,this}function f(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function c(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function d(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function u(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function y(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function g(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function v(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function b(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function x(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/e,r=-this.props[1]/e,s=-this.props[4]/e,a=this.props[0]/e,n=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*i+t[1]*s+n,t[0]*r+t[1]*a+o,0]}function E(t){var e,i=t.length,r=[];for(e=0;e<i;e+=1)r[e]=x(t[e]);return r}function S(t,e,i){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=i[0],r[5]=i[1];else{var s=this.props[0],a=this.props[1],n=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];r[0]=t[0]*s+t[1]*n+h,r[1]=t[0]*a+t[1]*o+l,r[2]=e[0]*s+e[1]*n+h,r[3]=e[0]*a+e[1]*o+l,r[4]=i[0]*s+i[1]*n+h,r[5]=i[0]*a+i[1]*o+l}return r}function P(t,e,i){var r;return r=this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function _(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function C(){for(var t=0,e=this.props,i="matrix3d(",r=1e4;t<16;)i+=w(e[t]*r)/r,i+=15===t?")":",",t+=1;return i}function A(t){var e=1e4;return t<1e-6&&t>0||t>-1e-6&&t<0?w(t*e)/e:t}function T(){var t=this.props,e=A(t[0]),i=A(t[1]),r=A(t[4]),s=A(t[5]),a=A(t[12]),n=A(t[13]);return"matrix("+e+","+i+","+r+","+s+","+a+","+n+")"}var k=Math.cos,M=Math.sin,D=Math.tan,w=Math.round;return function(){this.reset=t,this.rotate=e,this.rotateX=i,this.rotateY=r,this.rotateZ=s,this.skew=n,this.skewFromAxis=o,this.shear=a,this.scale=h,this.setTransform=l,this.translate=p,this.transform=m,this.applyToPoint=y,this.applyToX=g,this.applyToY=v,this.applyToZ=b,this.applyToPointArray=P,this.applyToTriplePoints=S,this.applyToPointStringified=_,this.toCSS=C,this.to2dCSS=T,this.clone=d,this.cloneFromProps=u,this.equals=c,this.inversePoints=E,this.inversePoint=x,this._t=this.transform,this.isIdentity=f,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){function i(i,l,p){var c=[];l=l===!0?{entropy:!0}:l||{};var v=n(a(l.entropy?[i,h(t)]:null===i?o():i,3),c),b=new r(c),x=function(){for(var t=b.g(f),e=u,i=0;t<y;)t=(t+i)*m,e*=m,i=b.g(1);for(;t>=g;)t/=2,e/=2,i>>>=1;return(t+i)/e};return x.int32=function(){return 0|b.g(4)},x.quick=function(){return b.g(4)/4294967296},x["double"]=x,n(h(b.S),t),(l.pass||p||function(t,i,r,a){return a&&(a.S&&s(a,b),t.state=function(){return s(b,{})}),r?(e[d]=t,i):t})(x,v,"global"in l?l.global:this==e,l.state)}function r(t){var e,i=t.length,r=this,s=0,a=r.i=r.j=0,n=r.S=[];for(i||(t=[i++]);s<m;)n[s]=s++;for(s=0;s<m;s++)n[s]=n[a=v&a+t[s%i]+(e=n[s])],n[a]=e;r.g=function(t){for(var e,i=0,s=r.i,a=r.j,n=r.S;t--;)e=n[s=v&s+1],i=i*m+n[v&(n[s]=n[a=v&a+e])+(n[a]=e)];return r.i=s,r.j=a,i}}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var i,r=[],s=typeof t;if(e&&"object"==s)for(i in t)try{r.push(a(t[i],e-1))}catch(n){}return r.length?r:"string"==s?t:t+"\0"}function n(t,e){for(var i,r=t+"",s=0;s<r.length;)e[v&s]=v&(i^=19*e[v&s])+r.charCodeAt(s++);return h(e)}function o(){try{if(l)return h(l.randomBytes(m));var e=new Uint8Array(m);return(p.crypto||p.msCrypto).getRandomValues(e),h(e)}catch(i){var r=p.navigator,s=r&&r.plugins;return[+new Date,p,s,p.screen,h(t)]}}function h(t){return String.fromCharCode.apply(0,t)}var l,p=this,m=256,f=6,c=52,d="random",u=e.pow(m,f),y=e.pow(2,c),g=2*y,v=m-1;e["seed"+d]=i,n(e.random(),t)}([],BMMath);var BezierFactory=function(){function t(t,e,i,r,s){var a=s||("bez_"+t+"_"+e+"_"+i+"_"+r).replace(/\./g,"p");if(p[a])return p[a];var n=new h([t,e,i,r]);return p[a]=n,n}function e(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function r(t){return 3*t}function s(t,s,a){return((e(s,a)*t+i(s,a))*t+r(s))*t}function a(t,s,a){return 3*e(s,a)*t*t+2*i(s,a)*t+r(s)}function n(t,e,i,r,a){var n,o,h=0;do o=e+(i-e)/2,n=s(o,r,a)-t,n>0?i=o:e=o;while(Math.abs(n)>c&&++h<d);return o}function o(t,e,i,r){for(var n=0;n<m;++n){var o=a(e,i,r);if(0===o)return e;var h=s(e,i,r)-t;e-=h/o}return e}function h(t){this._p=t,this._mSampleValues=g?new Float32Array(u):new Array(u),this._precomputed=!1,this.get=this.get.bind(this)}var l={};l.getBezierEasing=t;var p={},m=4,f=.001,c=1e-7,d=10,u=11,y=1/(u-1),g="function"==typeof Float32Array;return h.prototype={get:function(t){var e=this._p[0],i=this._p[1],r=this._p[2],a=this._p[3];return this._precomputed||this._precompute(),e===i&&r===a?t:0===t?0:1===t?1:s(this._getTForX(t),i,a)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&i===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<u;++i)this._mSampleValues[i]=s(i*y,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],r=this._mSampleValues,s=0,h=1,l=u-1;h!==l&&r[h]<=t;++h)s+=y;--h;var p=(t-r[h])/(r[h+1]-r[h]),m=s+p*y,c=a(m,e,i);return c>=f?o(t,m,e,i):0===c?m:n(t,s,s+y,e,i)}},l}();!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),s=Math.max(0,16-(r-t)),a=setTimeout(function(){e(r+s)},s);return t=r+s,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function t(t,e){var i=createTag("span");i.style.fontFamily=e;var r=createTag("span");r.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var s=r.offsetWidth;return r.style.fontFamily=t+", "+e,{node:r,w:s,parent:i}}function e(){var t,e,i,r=this.fonts.length,s=r;for(t=0;t<r;t+=1)if(this.fonts[t].loaded)s-=1;else if("t"===this.fonts[t].fOrigin||2===this.fonts[t].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(a){}}2===this.typekitLoaded&&(this.fonts[t].loaded=!0)}else"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,e.offsetWidth!==i?(s-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(s-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==s&&Date.now()-this.initTime<p?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)}function i(t,e){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",e.fStyle),i.setAttribute("font-weight",e.fWeight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.className=e.fClass):i.style.fontFamily=e.fFamily,t.appendChild(i);var r=createTag("canvas").getContext("2d");return r.font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}function r(e,r){if(!e)return void(this.isLoaded=!0);if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var s,a=e.list,n=a.length,o=n;for(s=0;s<n;s+=1){if(a[s].loaded=!1,a[s].monoCase=t(a[s].fFamily,"monospace"),a[s].sansCase=t(a[s].fFamily,"sans-serif"),a[s].fPath){if("p"===a[s].fOrigin||3===a[s].origin){var h=createTag("style");h.type="text/css",h.innerHTML="@font-face {font-family: "+a[s].fFamily+"; font-style: normal; src: url('"+a[s].fPath+"');}",r.appendChild(h)}else if("g"===a[s].fOrigin||1===a[s].origin){var l=createTag("link");l.type="text/css",l.rel="stylesheet",l.href=a[s].fPath,document.body.appendChild(l)}else if("t"===a[s].fOrigin||2===a[s].origin){var p=createTag("script");p.setAttribute("src",a[s].fPath),r.appendChild(p)}}else a[s].loaded=!0,o-=1;a[s].helper=i(r,a[s]),a[s].cache={},this.fonts.push(a[s])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function s(t){if(t){this.chars||(this.chars=[]);var e,i,r,s=t.length,a=this.chars.length;for(e=0;e<s;e+=1){for(i=0,r=!1;i<a;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(r=!0),i+=1;r||(this.chars.push(t[e]),a+=1)}}}function a(t,e,i){for(var r=0,s=this.chars.length;r<s;){if(this.chars[r].ch===t&&this.chars[r].style===e&&this.chars[r].fFamily===i)return this.chars[r];r+=1}return console&&console.warn&&console.warn("Missing character from exported characters list: ",t,e,i),m}function n(t,e,i){var r=this.getFontByName(e),s=t.charCodeAt(0);if(!r.cache[s+1]){var a=r.helper;a.textContent=t,r.cache[s+1]=a.getComputedTextLength()/100}return r.cache[s+1]*i}function o(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]}function h(){return f}function l(){return this.isLoaded}var p=5e3,m={w:0,size:0,shapes:[]},f=[];f=f.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var c=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return c.getCombinedCharacterCodes=h,c.prototype.addChars=s,c.prototype.addFonts=r,c.prototype.getCharData=a,c.prototype.getFontByName=o,c.prototype.measureText=n,c.prototype.checkLoadedFonts=e,c.prototype.loaded=l,c}(),PropertyFactory=function(){function t(t,s){var a,n=this.offsetTime;"multidimensional"===this.propType&&(a=createTypedArray("float32",this.pv.length));for(var o,h,l=s.lastIndex,p=l,m=this.keyframes.length-1,f=!0;f;){if(o=this.keyframes[p],h=this.keyframes[p+1],p===m-1&&t>=h.t-n){o.h&&(o=h),l=0;break}if(h.t-n>t){l=p;break}p<m-1?p+=1:(l=0,f=!1)}var c,d,u,y,g,v,b=h.t-n,x=o.t-n;if(o.to){o.bezierData||bez.buildBezierData(o);var E=o.bezierData;if(t>=b||t<x){var S=t>=b?E.points.length-1:0;for(d=E.points[S].point.length,c=0;c<d;c+=1)a[c]=E.points[S].point[c]}else{o.__fnct?v=o.__fnct:(v=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=v),u=v((t-x)/(b-x));var P,_=E.segmentLength*u,C=s.lastFrame<t&&s._lastBezierData===E?s._lastAddedLength:0;for(g=s.lastFrame<t&&s._lastBezierData===E?s._lastPoint:0,f=!0,y=E.points.length;f;){if(C+=E.points[g].partialLength,0===_||0===u||g===E.points.length-1){for(d=E.points[g].point.length,c=0;c<d;c+=1)a[c]=E.points[g].point[c];break}if(_>=C&&_<C+E.points[g+1].partialLength){for(P=(_-C)/E.points[g+1].partialLength,d=E.points[g].point.length,c=0;c<d;c+=1)a[c]=E.points[g].point[c]+(E.points[g+1].point[c]-E.points[g].point[c])*P;break}g<y-1?g+=1:f=!1}s._lastPoint=g,s._lastAddedLength=C-E.points[g].partialLength,s._lastBezierData=E}}else{var A,T,k,M,D;if(m=o.s.length,this.sh&&1!==o.h)if(t>=b)a[0]=o.e[0],a[1]=o.e[1],a[2]=o.e[2];else if(t<=x)a[0]=o.s[0],a[1]=o.s[1],a[2]=o.s[2];else{var w=r(o.s),F=r(o.e),I=(t-x)/(b-x);i(a,e(w,F,I))}else for(p=0;p<m;p+=1)1!==o.h&&(t>=b?u=1:t<x?u=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[p]?v=o.__fnct[p]:(A=o.o.x[p]||o.o.x[0],T=o.o.y[p]||o.o.y[0],k=o.i.x[p]||o.i.x[0],M=o.i.y[p]||o.i.y[0],v=BezierFactory.getBezierEasing(A,T,k,M).get,o.__fnct[p]=v)):o.__fnct?v=o.__fnct:(A=o.o.x,T=o.o.y,k=o.i.x,M=o.i.y,v=BezierFactory.getBezierEasing(A,T,k,M).get,o.__fnct=v),u=v((t-x)/(b-x)))),D=1===o.h?o.s[p]:o.s[p]+(o.e[p]-o.s[p])*u,1===m?a=D:a[p]=D}return s.lastIndex=l,a}function e(t,e,i){var r,s,a,n,o,h=[],l=t[0],p=t[1],m=t[2],f=t[3],c=e[0],d=e[1],u=e[2],y=e[3];return s=l*c+p*d+m*u+f*y,s<0&&(s=-s,c=-c,d=-d,u=-u,y=-y),1-s>1e-6?(r=Math.acos(s),a=Math.sin(r),n=Math.sin((1-i)*r)/a,o=Math.sin(i*r)/a):(n=1-i,o=i),h[0]=n*l+o*c,h[1]=n*p+o*d,h[2]=n*m+o*u,h[3]=n*f+o*y,h}function i(t,e){var i=e[0],r=e[1],s=e[2],a=e[3],n=Math.atan2(2*r*a-2*i*s,1-2*r*r-2*s*s),o=Math.asin(2*i*r+2*s*a),h=Math.atan2(2*i*a-2*r*s,1-2*i*i-2*s*s);t[0]=n/degToRads,t[1]=o/degToRads,t[2]=h/degToRads}function r(t){var e=t[0]*degToRads,i=t[1]*degToRads,r=t[2]*degToRads,s=Math.cos(e/2),a=Math.cos(i/2),n=Math.cos(r/2),o=Math.sin(e/2),h=Math.sin(i/2),l=Math.sin(r/2),p=s*a*n-o*h*l,m=o*h*n+s*a*l,f=o*a*n+s*h*l,c=s*h*n-o*a*l;return[m,f,c,p]}function s(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==c&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastBezierData=null,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function a(t){var e;if("unidimensional"===this.propType)e=t*this.mult,d(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)e=t[i]*this.mult,d(this.v[i]-e)>1e-5&&(this.v[i]=e,this._mdf=!0),i+=1}function n(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=n,this.setVValue=a,this.addEffect=o}function l(t,e,i,r){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,h=e.k.length;this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h);createTypedArray("float32",h);for(this.vel=createTypedArray("float32",h),s=0;s<h;s+=1)this.v[s]=e.k[s]*this.mult,this.pv[s]=e.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=n,this.setVValue=a,this.addEffect=o}function p(e,i,r,h){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:c,lastIndex:0,value:0,_lastBezierData:null},this.k=!0,this.kf=!0,this.data=i,this.mult=r||1,this.elem=e,this.container=h,this.comp=e.comp,this.v=c,this.pv=c,this._isFirstFrame=!0,this.getValue=n,this.setVValue=a,this.interpolateValue=t,this.effectsSequence=[s.bind(this)],this.addEffect=o}function m(e,i,r,h){this.propType="multidimensional";var l,p,m,f,d,u=i.k.length;for(l=0;l<u-1;l+=1)i.k[l].to&&i.k[l].s&&i.k[l].e&&(p=i.k[l].s,m=i.k[l].e,f=i.k[l].to,d=i.k[l].ti,(2===p.length&&(p[0]!==m[0]||p[1]!==m[1])&&bez.pointOnLine2D(p[0],p[1],m[0],m[1],p[0]+f[0],p[1]+f[1])&&bez.pointOnLine2D(p[0],p[1],m[0],m[1],m[0]+d[0],m[1]+d[1])||3===p.length&&(p[0]!==m[0]||p[1]!==m[1]||p[2]!==m[2])&&bez.pointOnLine3D(p[0],p[1],p[2],m[0],m[1],m[2],p[0]+f[0],p[1]+f[1],p[2]+f[2])&&bez.pointOnLine3D(p[0],p[1],p[2],m[0],m[1],m[2],m[0]+d[0],m[1]+d[1],m[2]+d[2]))&&(i.k[l].to=null,i.k[l].ti=null),p[0]===m[0]&&p[1]===m[1]&&0===f[0]&&0===f[1]&&0===d[0]&&0===d[1]&&(2===p.length||p[2]===m[2]&&0===f[2]&&0===d[2])&&(i.k[l].to=null,i.k[l].ti=null));this.effectsSequence=[s.bind(this)],this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=h,this.comp=e.comp,this.getValue=n,this.setVValue=a,this.interpolateValue=t,this.frameId=-1;var y=i.k[0].s.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),l=0;l<y;l+=1)this.v[l]=c,this.pv[l]=c;this._caching={lastFrame:c,lastIndex:0,value:createTypedArray("float32",y)},this.addEffect=o}function f(t,e,i,r,s){var a;if(0===e.a)a=0===i?new h(t,e,r,s):new l(t,e,r,s);else if(1===e.a)a=0===i?new p(t,e,r,s):new m(t,e,r,s);else if(e.k.length)if("number"==typeof e.k[0])a=new l(t,e,r,s);else switch(i){case 0:a=new p(t,e,r,s);break;case 1:a=new m(t,e,r,s)}else a=new h(t,e,r,s);return a.effectsSequence.length&&s.addDynamicProperty(a),a}var c=initialDefaultFrame,d=Math.abs,u={getProp:f};return u}(),TransformPropertyFactory=function(){function t(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function e(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,i,r=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/r,0)):(e=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],i=[];var r,s=this.px,a=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(e[0]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),e[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),i[0]=s.getValueAtTime(s.keyframes[0].t/r,0),i[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(e[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),e[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(e=[s.pv,a.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}this.v.rotate(-Math.atan2(e[1]-i[1],e[0]-i[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function i(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}function r(){}function s(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}function a(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p,1,0,this),e.r)this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this);else if(e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,s=e.or.k.length;for(r=0;r<s;r+=1)e.or.k[r].to=e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),e.a&&(this.a=PropertyFactory.getProp(t,e.a,1,0,this)),e.s&&(this.s=PropertyFactory.getProp(t,e.s,1,.01,this)),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function n(t,e,i){return new a(t,e,i)}return a.prototype={applyToMatrix:t,getValue:e,precalculateMatrix:i,autoOrient:r},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=s,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:n}}();ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=point_pool.newElement(),this.o[i]=point_pool.newElement(),this.i[i]=point_pool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,r,s){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[r]||a[r]&&!s)&&(a[r]=point_pool.newElement()),a[r][0]=t,a[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,r,s,a,n,o){this.setXYAt(t,e,"v",n,o),this.setXYAt(i,r,"o",n,o),this.setXYAt(s,a,"i",n,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,s=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),s=1);var a,n=this._length-1,o=this._length;for(a=s;a<o;a+=1)t.setTripleAt(e[n][0],e[n][1],r[n][0],r[n][1],i[n][0],i[n][1],a,!1),n-=1;return t};var ShapePropertyFactory=function(){function t(t,e,i){var r,s,a,n,o,h,l,p,m,f=i.lastIndex,c=this.keyframes;if(t<c[0].t-this.offsetTime)r=c[0].s[0],a=!0,f=0;else if(t>=c[c.length-1].t-this.offsetTime)r=1===c[c.length-2].h?c[c.length-1].s[0]:c[c.length-2].e[0],a=!0;else{for(var d,u,y=f,g=c.length-1,v=!0;v&&(d=c[y],u=c[y+1],!(u.t-this.offsetTime>t));)y<g-1?y+=1:v=!1;if(a=1===d.h,f=y,!a){if(t>=u.t-this.offsetTime)p=1;else if(t<d.t-this.offsetTime)p=0;else{var b;d.__fnct?b=d.__fnct:(b=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=b),p=b((t-(d.t-this.offsetTime))/(u.t-this.offsetTime-(d.t-this.offsetTime)))}s=d.e[0]}r=d.s[0]}for(h=e._length,l=r.i[0].length,i.lastIndex=f,n=0;n<h;n+=1)for(o=0;o<l;o+=1)m=a?r.i[n][o]:r.i[n][o]+(s.i[n][o]-r.i[n][o])*p,e.i[n][o]=m,m=a?r.o[n][o]:r.o[n][o]+(s.o[n][o]-r.o[n][o])*p,e.o[n][o]=m,m=a?r.v[n][o]:r.v[n][o]+(s.v[n][o]-r.v[n][o])*p,e.v[n][o]=m}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==m&&(r<e&&t<e||r>i&&t>i)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function i(){this.paths=this.localShapeCollection}function r(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,r=t._length;for(i=0;i<r;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0}function s(){if(!this.lock&&this.elem.globalData.frameId!==this.frameId){this.lock=!0,this.frameId=this.elem.globalData.frameId,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);r(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection),this.lock=!1}}function a(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var s=3===r?e.pt.k:e.ks.k;this.v=shape_pool.clone(s),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function n(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function o(t,r,s){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===s?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=m,this.reset=i,this._caching={lastFrame:m,lastIndex:0},this.effectsSequence=[e.bind(this)]}function h(t,e,i){var r;if(3===i||4===i){var s=3===i?e.pt:e.ks,n=s.k;r=1===s.a||n.length?new o(t,e,i):new a(t,e,i)}else 5===i?r=new d(t,e):6===i?r=new f(t,e):7===i&&(r=new c(t,e));return r.k&&t.addDynamicProperty(r),r}function l(){return a}function p(){return o}var m=-999999;a.prototype.interpolateShape=t,a.prototype.getValue=s,a.prototype.getValue=s,a.prototype.addEffect=n,o.prototype.getValue=s,o.prototype.interpolateShape=t,o.prototype.addEffect=n;var f=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}var e=roundCorner;return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],i=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,a=3!==this.d,n=this.v;n.v[0][0]=t,n.v[0][1]=i-s,n.v[1][0]=a?t+r:t-r,n.v[1][1]=i,n.v[2][0]=t,n.v[2][1]=i+s,n.v[3][0]=a?t-r:t+r,n.v[3][1]=i,n.i[0][0]=a?t-r*e:t+r*e,n.i[0][1]=i-s,n.i[1][0]=a?t+r:t-r,n.i[1][1]=i-s*e,n.i[2][0]=a?t+r*e:t-r*e,n.i[2][1]=i+s,n.i[3][0]=a?t-r:t+r,n.i[3][1]=i+s*e,n.o[0][0]=a?t+r*e:t-r*e,n.o[0][1]=i-s,n.o[1][0]=a?t+r:t-r,n.o[1][1]=i+s*e,n.o[2][0]=a?t-r*e:t+r*e,n.o[2][1]=i+s,n.o[3][0]=a?t-r:t+r,n.o[3][1]=i-s*e}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,r,s=2*Math.floor(this.pt.v),a=2*Math.PI/s,n=!0,o=this.or.v,h=this.ir.v,l=this.os.v,p=this.is.v,m=2*Math.PI*o/(2*s),f=2*Math.PI*h/(2*s),c=-Math.PI/2;c+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<s;t+=1){e=n?o:h,i=n?l:p,r=n?m:f;var u=e*Math.cos(c),y=e*Math.sin(c),g=0===u&&0===y?0:y/Math.sqrt(u*u+y*y),v=0===u&&0===y?0:-u/Math.sqrt(u*u+y*y);u+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(u,y,u-g*r*i*d,y-v*r*i*d,u+g*r*i*d,y+v*r*i*d,t,!0),n=!n,c+=a*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,r=this.or.v,s=this.os.v,a=2*Math.PI*r/(4*e),n=-Math.PI/2,o=3===this.data.d?-1:1;for(n+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=r*Math.cos(n),l=r*Math.sin(n),p=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),m=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-p*a*s*o,l-m*a*s*o,h+p*a*s*o,l+m*a*s*o,t,!0),n+=i*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),d=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,s=bm_min(i,r,this.r.v),a=s*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-r+s,t+i,e-r+s,t+i,e-r+a,0,!0),this.v.setTripleAt(t+i,e+r-s,t+i,e+r-a,t+i,e+r-s,1,!0),0!==s?(this.v.setTripleAt(t+i-s,e+r,t+i-s,e+r,t+i-a,e+r,2,!0),this.v.setTripleAt(t-i+s,e+r,t-i+a,e+r,t-i+s,e+r,3,!0),this.v.setTripleAt(t-i,e+r-s,t-i,e+r-s,t-i,e+r-a,4,!0),this.v.setTripleAt(t-i,e-r+s,t-i,e-r+a,t-i,e-r+s,5,!0),this.v.setTripleAt(t-i+s,e-r,t-i+s,e-r,t-i+a,e-r,6,!0),this.v.setTripleAt(t+i-s,e-r,t+i-a,e-r,t+i-s,e-r,7,!0)):(this.v.setTripleAt(t-i,e+r,t-i+a,e+r,t-i,e+r,2),this.v.setTripleAt(t-i,e-r,t-i,e-r+a,t-i,e-r,3))):(this.v.setTripleAt(t+i,e-r+s,t+i,e-r+a,t+i,e-r+s,0,!0),0!==s?(this.v.setTripleAt(t+i-s,e-r,t+i-s,e-r,t+i-a,e-r,1,!0),this.v.setTripleAt(t-i+s,e-r,t-i+a,e-r,t-i+s,e-r,2,!0),this.v.setTripleAt(t-i,e-r+s,t-i,e-r+s,t-i,e-r+a,3,!0),this.v.setTripleAt(t-i,e+r-s,t-i,e+r-a,t-i,e+r-s,4,!0),this.v.setTripleAt(t-i+s,e+r,t-i+s,e+r,t-i+a,e+r,5,!0),this.v.setTripleAt(t+i-s,e+r,t+i-a,e+r,t+i-s,e+r,6,!0),this.v.setTripleAt(t+i,e+r-s,t+i,e+r-s,t+i,e+r-a,7,!0)):(this.v.setTripleAt(t-i,e-r,t-i+a,e-r,t-i,e-r,1,!0),this.v.setTripleAt(t-i,e+r,t-i,e+r-a,t-i,e+r,2,!0),this.v.setTripleAt(t+i,e+r,t+i-a,e+r,t+i,e+r,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],t),t}(),u={};return u.getShapeProp=h,u.getConstructorFunction=l,u.getKeyframedConstructorFunction=p,u}(),ShapeModifiers=function(){function t(t,e){r[t]||(r[t]=e)}function e(t,e,i){return new r[t](e,i)}var i={},r={};return i.registerModifier=t,i.getModifier=e,i}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,r,s){var a=[];e<=1?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var n,o,h=[],l=a.length;for(n=0;n<l;n+=1)if(o=a[n],o.e*s<r||o.s*s>r+i);else{var p,m;p=o.s*s<=r?0:(o.s*s-r)/i,m=o.e*s>=r+i?1:(o.e*s-r)/i,h.push([p,m])}return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),e=this.s.v+r,i=this.e.v+r,e>i){var s=e;e=i,i=s}e=Math.round(1e3*e)/1e3,i=Math.round(1e3*i)/1e3,this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var a,n,o,h,l,p,m,f=this.shapes.length,c=0;if(i===e)for(n=0;n<f;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection;else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(n=0;n<f;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var d,u,y=[];for(n=0;n<f;n+=1)if(d=this.shapes[n],d.shape._mdf||this._mdf||t||2===this.m){if(a=d.shape.paths,h=a._length,m=0,!d.shape._mdf&&d.pathsData.length)m=d.totalShapeLength;else{for(l=this.releasePathsData(d.pathsData),o=0;o<h;o+=1)p=bez.getSegmentsLength(a.shapes[o]),l.push(p),m+=p.totalLength;d.totalShapeLength=m,d.pathsData=l}c+=m,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var g,v=e,b=i,x=0;for(n=f-1;n>=0;n-=1)if(d=this.shapes[n],d.shape._mdf){for(u=d.localShapeCollection,u.releaseShapes(),2===this.m&&f>1?(g=this.calculateShapeEdges(e,i,d.totalShapeLength,x,c),x+=d.totalShapeLength):g=[[v,b]],h=g.length,o=0;o<h;o+=1){v=g[o][0],b=g[o][1],y.length=0,b<=1?y.push({s:d.totalShapeLength*v,e:d.totalShapeLength*b}):v>=1?y.push({s:d.totalShapeLength*(v-1),e:d.totalShapeLength*(b-1)}):(y.push({s:d.totalShapeLength*v,e:d.totalShapeLength}),y.push({s:0,e:d.totalShapeLength*(b-1)}));var E=this.addShapes(d,y[0]);if(y[0].s!==y[0].e){if(y.length>1){var S=d.shape.paths.shapes[d.shape.paths._length-1];if(S.c){var P=E.pop();this.addPaths(E,u),E=this.addShapes(d,y[1],P)}else this.addPaths(E,u),E=this.addShapes(d,y[1])}this.addPaths(E,u)}}d.shape.paths=u}}},TrimModifier.prototype.addPaths=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,r,s,a,n){s.setXYAt(e[0],e[1],"o",a),s.setXYAt(i[0],i[1],"i",a+1),n&&s.setXYAt(t[0],t[1],"v",a),s.setXYAt(r[0],r[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var r,s,a,n,o,h,l,p,m=t.pathsData,f=t.shape.paths.shapes,c=t.shape.paths._length,d=0,u=[],y=!0;for(i?(o=i._length,p=i._length):(i=shape_pool.newElement(),o=0,p=0),u.push(i),r=0;r<c;r+=1){for(h=m[r].lengths,i.c=f[r].c,a=f[r].c?h.length:h.length+1,s=1;s<a;s+=1)if(n=h[s-1],d+n.addedLength<e.s)d+=n.addedLength,i.c=!1;else{if(d>e.e){i.c=!1;break}e.s<=d&&e.e>=d+n.addedLength?(this.addSegment(f[r].v[s-1],f[r].o[s-1],f[r].i[s],f[r].v[s],i,o,y),y=!1):(l=bez.getNewSegment(f[r].v[s-1],f[r].v[s],f[r].o[s-1],f[r].i[s],(e.s-d)/n.addedLength,(e.e-d)/n.addedLength,h[s-1]),this.addSegmentFromArray(l,i,o,y),y=!1,i.c=!1),d+=n.addedLength,o+=1}if(f[r].c&&h.length){if(n=h[s-1],d<=e.e){var g=h[s-1].addedLength;e.s<=d&&e.e>=d+g?(this.addSegment(f[r].v[s-1],f[r].o[s-1],f[r].i[0],f[r].v[0],i,o,y),y=!1):(l=bez.getNewSegment(f[r].v[s-1],f[r].v[0],f[r].o[s-1],f[r].i[0],(e.s-d)/g,(e.e-d)/g,h[s-1]),this.addSegmentFromArray(l,i,o,y),y=!1,i.c=!1)}else i.c=!1;d+=n.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[p][0],i.v[p][1],"i",p),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),d>e.e)break;r<c-1&&(i=shape_pool.newElement(),y=!0,u.push(i),o=0)}return u},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shape_pool.newElement();i.c=t.c;var r,s,a,n,o,h,l,p,m,f,c,d,u,y=t._length,g=0;for(r=0;r<y;r+=1)s=t.v[r],n=t.o[r],a=t.i[r],s[0]===n[0]&&s[1]===n[1]&&s[0]===a[0]&&s[1]===a[1]?0!==r&&r!==y-1||t.c?(o=0===r?t.v[y-1]:t.v[r-1],h=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=d=s[0]+(o[0]-s[0])*l,m=u=s[1]-(s[1]-o[1])*l,f=p-(p-s[0])*roundCorner,c=m-(m-s[1])*roundCorner,i.setTripleAt(p,m,f,c,d,u,g),g+=1,o=r===y-1?t.v[0]:t.v[r+1],h=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=f=s[0]+(o[0]-s[0])*l,m=c=s[1]+(o[1]-s[1])*l,d=p-(p-s[0])*roundCorner,u=m-(m-s[1])*roundCorner,i.setTripleAt(p,m,f,c,d,u,g),g+=1):(i.setTripleAt(s[0],s[1],n[0],n[1],a[0],a[1],g),g+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],g),g+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,r,s,a=this.shapes.length,n=this.rd.v;if(0!==n){var o,h,l;for(i=0;i<a;i+=1){if(o=this.shapes[i],h=o.shape.paths,l=o.localShapeCollection,o.shape._mdf||this._mdf||t)for(l.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,s=o.shape.paths._length,r=0;r<s;r+=1)l.addShape(this.processPath(e[r],n));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,r,s,a){var n=a?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-s),h=r.s.v[1]+(1-r.s.v[1])*(1-s);t.translate(r.p.v[0]*n*s,r.p.v[1]*n*s,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*n*s),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(a?1/o:o,a?1/h:h),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,r){this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);for(var s=0;i>0;)i-=1,this._elements.unshift(e[i]),s+=1;this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=(t.length,JSON.parse(JSON.stringify(t)));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,r,s,a;if(this._mdf||t){var n=Math.ceil(this.c.v);if(this._groups.length<n){for(;this._groups.length<n;){var o={it:this.cloneElements(this._elements),ty:"gr"};o.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,o),this._groups.splice(0,0,o),this._currentCopies+=1}this.elem.reloadShapes()}a=0;var h;for(r=0;r<=this._groups.length-1;r+=1)h=a<n,this._groups[r]._render=h,this.changeGroupRender(this._groups[r].it,h),a+=1;this._currentCopies=n;var l=this.o.v,p=l%1,m=l>0?Math.floor(l):Math.ceil(l),f=(this.tr.v.props,this.pMatrix.props),c=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var u=0;if(l>0){for(;u<m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),u+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),u+=p)}else if(l<0){for(;u>m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),u-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),u-=p)}r=1===this.data.m?0:this._currentCopies-1,s=1===this.data.m?1:-1,a=this._currentCopies;for(var y,g;a;){if(e=this.elemsData[r].it,i=e[e.length-1].transform.mProps.v.props,g=i.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==u){for((0!==r&&1===s||r!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),y=0;y<g;y+=1)i[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<g;y+=1)i[y]=this.matrix.props[y];u+=1,a-=1,r+=s}}else for(a=this._currentCopies,r=0,s=1;a;)e=this.elemsData[r].it,i=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,r+=s},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var i,r=0,s=this.o.length/2;r<s;){if(i=Math.abs(t[4*r]-t[4*e+2*r]),i>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,r,s=4*this.data.p;for(e=0;e<s;e+=1)i=e%4===0?100:255,r=Math.round(this.prop.v[e]*i),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(s=this.prop.v.length,e=4*this.data.p;e<s;e+=1)i=e%2===0?100:1,r=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,i,r){if(0===e)return"";var s,a=t.o,n=t.i,o=t.v,h=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(s=1;s<e;s+=1)h+=" C"+r.applyToPointStringified(a[s-1][0],a[s-1][1])+" "+r.applyToPointStringified(n[s][0],n[s][1])+" "+r.applyToPointStringified(o[s][0],o[s][1]);return i&&e&&(h+=" C"+r.applyToPointStringified(a[s-1][0],a[s-1][1])+" "+r.applyToPointStringified(n[0][0],n[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),h+="z"),h},ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function e(t,e,i){var r="";if(t.e)r=t.p;else if(e){var s=t.p;s.indexOf("images/")!==-1&&(s=s.split("/")[1]),r=e+s}else r=i,r+=t.u?t.u:"",r+=t.p;return r}function i(t){var i=e(t,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded.bind(this),!1),r.addEventListener("error",function(){s.img=l,this._imageLoaded()}.bind(this),!1),r.src=i;var s={img:r,assetData:t};return s}function r(t,e){this.imagesLoadedCb=e;var i,r=t.length;for(i=0;i<r;i+=1)t[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[i])))}function s(t){this.path=t||""}function a(t){this.assetsPath=t||""}function n(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function o(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}var l=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#FF0000",e.fillRect(0,0,1,1),t}();return function(){this.loadAssets=r,this.setAssetsPath=a,this.setPath=s,this.loaded=h,this.destroy=o,this.getImage=n,this._createImageData=i,this._imageLoaded=t,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){function t(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e}function e(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}var i={};return i.createFilter=t,i.createAlphaToLuminanceFilter=e,i}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.response):void 0}function e(e,i,r){var s,a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="json",a.send(),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)s=t(a),i(s);else try{s=t(a),i(s)}catch(e){r&&r(e)}}}return{load:e}}();TextAnimatorProperty.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,s,a,n,o,h,l,p,m,f,c,d,u,y,g,v,b,x,E=this._moreOptions.alignment.v,S=this._animatorsData,P=this._textData,_=this.mHelper,C=this._renderType,A=this.renderedLetters.length,T=(this.data,t.l);if(this._hasMaskedPath){if(x=this._pathData.m,!this._pathData.n||this._pathData._mdf){var k=x.v;this._pathData.r&&(k=k.reverse()),n={tLength:0,segments:[]},a=k._length-1;var M;for(g=0,s=0;s<a;s+=1)M={s:k.v[s],e:k.v[s+1],to:[k.o[s][0]-k.v[s][0],k.o[s][1]-k.v[s][1]],ti:[k.i[s+1][0]-k.v[s+1][0],k.i[s+1][1]-k.v[s+1][1]]},bez.buildBezierData(M),n.tLength+=M.bezierData.segmentLength,n.segments.push(M),g+=M.bezierData.segmentLength;s=a,x.v.c&&(M={s:k.v[s],e:k.v[0],to:[k.o[s][0]-k.v[s][0],k.o[s][1]-k.v[s][1]],ti:[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]},bez.buildBezierData(M),n.tLength+=M.bezierData.segmentLength,n.segments.push(M),g+=M.bezierData.segmentLength),this._pathData.pi=n}if(n=this._pathData.pi,o=this._pathData.f.v,f=0,m=1,l=0,p=!0,u=n.segments,o<0&&x.v.c)for(n.tLength<Math.abs(o)&&(o=-Math.abs(o)%n.tLength),f=u.length-1,d=u[f].bezierData.points,m=d.length-1;o<0;)o+=d[m].partialLength,m-=1,m<0&&(f-=1,d=u[f].bezierData.points,m=d.length-1);d=u[f].bezierData.points,c=d[m-1],h=d[m],y=h.partialLength}a=T.length,i=0,r=0;var D,w,F,I,V,R=1.2*t.finalSize*.714,B=!0;I=S.length;var L,G,z,N,O,H,j,q,W,Y,X,K,$,J=-1,Z=o,U=f,Q=m,tt=-1,et=0,it="",rt=this.defaultPropsArray;if(2===t.j||1===t.j){var st=0,at=0,nt=2===t.j?-.5:-1,ot=0,ht=!0;for(s=0;s<a;s+=1)if(T[s].n){for(st&&(st+=at);ot<s;)T[ot].animatorJustifyOffset=st,ot+=1;st=0,ht=!0}else{for(F=0;F<I;F+=1)D=S[F].a,D.t.propType&&(ht&&2===t.j&&(at+=D.t.v*nt),w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),st+=L.length?D.t.v*L[0]*nt:D.t.v*L*nt);ht=!1}for(st&&(st+=at);ot<s;)T[ot].animatorJustifyOffset=st,ot+=1}for(s=0;s<a;s+=1){if(_.reset(),O=1,T[s].n)i=0,r+=t.yOffset,r+=B?1:0,o=Z,B=!1,et=0,this._hasMaskedPath&&(f=U,m=Q,d=u[f].bezierData.points,c=d[m-1],h=d[m],y=h.partialLength,l=0),$=Y=K=it="",rt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(tt!==T[s].line){switch(t.j){case 1:o+=g-t.lineWidths[T[s].line];break;case 2:o+=(g-t.lineWidths[T[s].line])/2}tt=T[s].line}J!==T[s].ind&&(T[J]&&(o+=T[J].extra),o+=T[s].an/2,J=T[s].ind),o+=E[0]*T[s].an/200;var lt=0;for(F=0;F<I;F+=1)D=S[F].a,D.p.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),lt+=L.length?D.p.v[0]*L[0]:D.p.v[0]*L),D.a.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),lt+=L.length?D.a.v[0]*L[0]:D.a.v[0]*L);for(p=!0;p;)l+y>=o+lt||!d?(v=(o+lt-l)/h.partialLength,z=c.point[0]+(h.point[0]-c.point[0])*v,N=c.point[1]+(h.point[1]-c.point[1])*v,_.translate(-E[0]*T[s].an/200,-(E[1]*R/100)),p=!1):d&&(l+=h.partialLength,m+=1,m>=d.length&&(m=0,f+=1,u[f]?d=u[f].bezierData.points:x.v.c?(m=0,f=0,d=u[f].bezierData.points):(l-=h.partialLength,d=null)),d&&(c=h,h=d[m],y=h.partialLength));G=T[s].an/2-T[s].add,_.translate(-G,0,0)}else G=T[s].an/2-T[s].add,_.translate(-G,0,0),_.translate(-E[0]*T[s].an/200,-E[1]*R/100,0);for(et+=T[s].l/2,F=0;F<I;F+=1)D=S[F].a,D.t.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?o+=L.length?D.t.v*L[0]:D.t.v*L:i+=L.length?D.t.v*L[0]:D.t.v*L));for(et+=T[s].l/2,t.strokeWidthAnim&&(j=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(q=[t.fc[0],t.fc[1],t.fc[2]]),F=0;F<I;F+=1)D=S[F].a,D.a.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),L.length?_.translate(-D.a.v[0]*L[0],-D.a.v[1]*L[1],D.a.v[2]*L[2]):_.translate(-D.a.v[0]*L,-D.a.v[1]*L,D.a.v[2]*L));for(F=0;F<I;F+=1)D=S[F].a,D.s.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),L.length?_.scale(1+(D.s.v[0]-1)*L[0],1+(D.s.v[1]-1)*L[1],1):_.scale(1+(D.s.v[0]-1)*L,1+(D.s.v[1]-1)*L,1));for(F=0;F<I;F+=1){if(D=S[F].a,w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),D.sk.propType&&(L.length?_.skewFromAxis(-D.sk.v*L[0],D.sa.v*L[1]):_.skewFromAxis(-D.sk.v*L,D.sa.v*L)),D.r.propType&&(L.length?_.rotateZ(-D.r.v*L[2]):_.rotateZ(-D.r.v*L)),D.ry.propType&&(L.length?_.rotateY(D.ry.v*L[1]):_.rotateY(D.ry.v*L)),D.rx.propType&&(L.length?_.rotateX(D.rx.v*L[0]):_.rotateX(D.rx.v*L)),D.o.propType&&(O+=L.length?(D.o.v*L[0]-O)*L[0]:(D.o.v*L-O)*L),t.strokeWidthAnim&&D.sw.propType&&(j+=L.length?D.sw.v*L[0]:D.sw.v*L),t.strokeColorAnim&&D.sc.propType)for(W=0;W<3;W+=1)L.length?H[W]=H[W]+(D.sc.v[W]-H[W])*L[0]:H[W]=H[W]+(D.sc.v[W]-H[W])*L;if(t.fillColorAnim&&t.fc){if(D.fc.propType)for(W=0;W<3;W+=1)L.length?q[W]=q[W]+(D.fc.v[W]-q[W])*L[0]:q[W]=q[W]+(D.fc.v[W]-q[W])*L;D.fh.propType&&(q=L.length?addHueToRGB(q,D.fh.v*L[0]):addHueToRGB(q,D.fh.v*L)),D.fs.propType&&(q=L.length?addSaturationToRGB(q,D.fs.v*L[0]):addSaturationToRGB(q,D.fs.v*L)),D.fb.propType&&(q=L.length?addBrightnessToRGB(q,D.fb.v*L[0]):addBrightnessToRGB(q,D.fb.v*L))}}for(F=0;F<I;F+=1)D=S[F].a,D.p.propType&&(w=S[F].s,L=w.getMult(T[s].anIndexes[F],P.a[F].s.totalChars),this._hasMaskedPath?L.length?_.translate(0,D.p.v[1]*L[0],-D.p.v[2]*L[1]):_.translate(0,D.p.v[1]*L,-D.p.v[2]*L):L.length?_.translate(D.p.v[0]*L[0],D.p.v[1]*L[1],-D.p.v[2]*L[2]):_.translate(D.p.v[0]*L,D.p.v[1]*L,-D.p.v[2]*L));if(t.strokeWidthAnim&&(Y=j<0?0:j),t.strokeColorAnim&&(X="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(K="rgb("+Math.round(255*q[0])+","+Math.round(255*q[1])+","+Math.round(255*q[2])+")"),this._hasMaskedPath){if(_.translate(0,-t.ls),_.translate(0,E[1]*R/100+r,0),P.p.p){b=(h.point[1]-c.point[1])/(h.point[0]-c.point[0]);var pt=180*Math.atan(b)/Math.PI;h.point[0]<c.point[0]&&(pt+=180),_.rotate(-pt*Math.PI/180)}_.translate(z,N,0),o-=E[0]*T[s].an/200,T[s+1]&&J!==T[s+1].ind&&(o+=T[s].an/2,o+=t.tr/1e3*t.finalSize)}else{switch(_.translate(i,r,0),t.ps&&_.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:_.translate(T[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[s].line]),0,0);break;case 2:_.translate(T[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[s].line])/2,0,0)}_.translate(0,-t.ls),_.translate(G,0,0),_.translate(E[0]*T[s].an/200,E[1]*R/100,0),i+=T[s].l+t.tr/1e3*t.finalSize}"html"===C?it=_.toCSS():"svg"===C?it=_.to2dCSS():rt=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],$=O}A<=s?(V=new LetterProps($,Y,X,K,it,rt),this.renderedLetters.push(V),A+=1,this.lettersChangedFlag=!0):(V=this.renderedLetters[s],this.lettersChangedFlag=V.update($,Y,X,K,it,rt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,i,r,s,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var n=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,n=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,n=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,n=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,n=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,n=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,n=!0),n},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){var e=this.currentData,i=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData,currentTextValue);this.lock=!0,this._mdf=!1;var r,s=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(r=0;r<s;r+=1)a=i!==this.keysIndex?this.effectsSequence[r](a,a.t):this.effectsSequence[r](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t,e=this.data.d.k,i=this.elem.comp.renderedFrame,r=0,s=e.length;r<=s-1&&(t=e[r].s,!(r===s-1||e[r+1].t>i));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=FontManager.getCombinedCharacterCodes(),i=[],r=0,s=t.length;r<s;)e.indexOf(t.charCodeAt(r))!==-1?i[i.length-1]+=t.charAt(r):i.push(t.charAt(r)),r+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,r,s,a,n,o,h=this.elem.globalData.fontManager,l=this.data,p=[],m=0,f=l.m.g,c=0,d=0,u=0,y=[],g=0,v=0,b=h.getFontByName(t.f),x=0,E=b.fStyle?b.fStyle.split(" "):[],S="normal",P="normal";i=E.length;var _;for(e=0;e<i;e+=1)switch(_=E[e].toLowerCase()){case"italic":P="italic";break;case"bold":S="700";break;case"black":S="900";break;case"medium":S="500";break;case"regular":case"normal":S="400";break;case"light":case"thin":S="200"}t.fWeight=b.fWeight||S,t.fStyle=P,i=t.t.length,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),t.finalLineHeight=t.lh;var C,A=t.tr/1e3*t.finalSize;if(t.sz)for(var T,k,M=!0,D=t.sz[0],w=t.sz[1];M;){k=this.buildFinalText(t.t),C=k[e].charCodeAt(0),T=0,g=0,i=k.length,A=t.tr/1e3*t.finalSize;var F=-1;for(e=0;e<i;e+=1)r=!1," "===k[e]?F=e:13!==C&&3!==C||(g=0,r=!0,T+=t.finalLineHeight||1.2*t.finalSize),h.chars?(o=h.getCharData(k[e],b.fStyle,b.fFamily),x=r?0:o.w*t.finalSize/100):x=h.measureText(k[e],t.f,t.finalSize),g+x>D&&" "!==k[e]?(F===-1?i+=1:e=F,T+=t.finalLineHeight||1.2*t.finalSize,k.splice(e,F===e?1:0,"\r"),F=-1,g=0):(g+=x,g+=A);T+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&w<T?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=k,i=t.finalText.length,M=!1)}g=-A,x=0;var I,V=0;for(e=0;e<i;e+=1)if(r=!1,I=t.finalText[e],C=I.charCodeAt(0)," "===I?s="\xa0":13===C||3===C?(V=0,y.push(g),v=g>v?g:v,g=-2*A,s="",r=!0,u+=1):s=t.finalText[e],h.chars?(o=h.getCharData(I,b.fStyle,h.getFontByName(t.f).fFamily),x=r?0:o.w*t.finalSize/100):x=h.measureText(s,t.f,t.finalSize)," "===I?V+=x+A:(g+=x+A+V,V=0),p.push({l:x,an:x,add:c,n:r,anIndexes:[],val:s,line:u,animatorJustifyOffset:0}),2==f){if(c+=x,""===s||"\xa0"===s||e===i-1){for(""!==s&&"\xa0"!==s||(c-=x);d<=e;)p[d].an=c,p[d].ind=m,p[d].extra=x,d+=1;m+=1,c=0}}else if(3==f){if(c+=x,""===s||e===i-1){for(""===s&&(c-=x);d<=e;)p[d].an=c,p[d].ind=m,p[d].extra=x,d+=1;c=0,m+=1}}else p[m].ind=m,p[m].extra=0,m+=1;if(t.l=p,v=g>v?g:v,y.push(g),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var R,B,L=l.a;n=L.length;var G,z,N=[];for(a=0;a<n;a+=1){for(R=L[a],R.a.sc&&(t.strokeColorAnim=!0),R.a.sw&&(t.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(t.fillColorAnim=!0),z=0,G=R.s.b,e=0;e<i;e+=1)B=p[e],B.anIndexes[a]=z,(1==G&&""!==B.val||2==G&&""!==B.val&&"\xa0"!==B.val||3==G&&(B.n||"\xa0"==B.val||e==i-1)||4==G&&(B.n||e==i-1))&&(1===R.s.rn&&N.push(z),z+=1);l.a[a].s.totalChars=z;var O,H=-1;if(1===R.s.rn)for(e=0;e<i;e+=1)B=p[e],H!=B.anIndexes[a]&&(H=B.anIndexes[a],O=N.splice(Math.floor(Math.random()*N.length),1)[0]),B.anIndexes[a]=O}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){function t(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),"e"in e?this.e=PropertyFactory.getProp(t,e.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function e(e,i,r){return new t(e,i,r)}var i=Math.max,r=Math.min,s=Math.floor;return t.prototype={getMult:function(t){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,a=0,n=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)a=o===n?t>=o?1:0:i(0,r(.5/(o-n)+(t-n)/(o-n),1)),a=e(a);else if(3==h)a=o===n?t>=o?0:1:1-i(0,r(.5/(o-n)+(t-n)/(o-n),1)),a=e(a);else if(4==h)o===n?a=0:(a=i(0,r(.5/(o-n)+(t-n)/(o-n),1)),a<.5?a*=2:a=1-2*(a-.5)),a=e(a);else if(5==h){if(o===n)a=0;else{var l=o-n;t=r(i(0,t+.5-n),o-n);var p=-l/2+t,m=l/2;a=Math.sqrt(1-p*p/(m*m))}a=e(a)}else 6==h?(o===n?a=0:(t=r(i(0,t+.5-n),o-n),a=(1+Math.cos(Math.PI+2*Math.PI*t/(o-n)))/2),a=e(a)):(t>=s(n)&&(a=t-n<0?1-(n-t):i(0,r(o-t,1))),a=e(a));return a*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,r=this.s.v/e+i,s=this.e.v/e+i;if(r>s){var a=r;r=s,s=a}this.finalS=r,this.finalE=s}},extendPrototype([DynamicPropertyContainer],t),{getTextSelectorProp:e}}(),pool_factory=function(){return function(t,e,i,r){function s(){var t;return n?(n-=1,t=h[n]):t=e(),t}function a(t){n===o&&(h=pooling["double"](h),o=2*o),i&&i(t),h[n]=t,n+=1}var n=0,o=t,h=createSizedArray(o),l={newElement:s,release:a};return l}}(),pooling=function(){function t(t){return t.concat(createSizedArray(t.length))}return{"double":t}}(),point_pool=function(){function t(){return createTypedArray("float32",2)}return pool_factory(8,t)}(),shape_pool=function(){function t(){return new ShapePath}function e(t){var e,i=t._length;for(e=0;e<i;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}function i(t){var e,i=r.newElement(),s=void 0===t._length?t.v.length:t._length;i.setLength(s),i.c=t.c;for(e=0;e<s;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i}var r=pool_factory(4,t,e);return r.clone=i,r}(),shapeCollection_pool=function(){function t(){var t;return r?(r-=1,t=a[r]):t=new ShapeCollection,t}function e(t){var e,i=t._length;for(e=0;e<i;e+=1)shape_pool.release(t.shapes[e]);t._length=0,r===s&&(a=pooling["double"](a),s=2*s),a[r]=t,r+=1}var i={newShapeCollection:t,release:e},r=0,s=4,a=createSizedArray(s);return i}(),segments_length_pool=function(){function t(){return{lengths:[],totalLength:0}}function e(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0}return pool_factory(8,t,e)}(),bezier_length_pool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}return pool_factory(8,t)}();BaseRenderer.prototype.checkLayers=function(t){var e,i,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e--)this.elements[e]||(i=this.layers[e],i.ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,r=t.length,s=this.layers.length;for(e=0;e<r;e+=1)for(i=0;i<s;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,s=this.layers,a=0,n=s.length;a<n;)s[a].ind==e&&(r[a]&&r[a]!==!0?(i.push(r[a]),r[a].setAsParent(),void 0!==s[a].parent?this.buildElementParenting(t,s[a].parent,i):t.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var s="animationMask_"+randomString(10);i.setAttribute("id",s),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+s+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);e[t]=i,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt&&(this.elements[t-1]&&this.elements[t-1]!==!0?i.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var r,s=0;s<e;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement()&&(r=this.elements[s].getBaseElement()),s+=1;r?this.layerElement.insertBefore(i,r):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-i.props[12]),this.viewData[e].invRect.setAttribute("y",-i.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var s=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),s.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var r,s,a=" M"+e.v[0][0]+","+e.v[0][1];for(s=e._length,r=1;r<s;r+=1)a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&s>1&&(a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==a){var n="";i.elem&&(e.c&&(n=t.inv?this.solidPath+a:a),i.elem.setAttribute("d",n)),i.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,r=this.dynamicProperties.length;for(i=0;i<r;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),11!==this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;var s,a,n=e.length;for(s=0;s<n;s+=1)a=e[s].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},function(){var t={initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var t=this.baseElement||this.layerElement;t.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var t=this.baseElement||this.layerElement;t.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)}(),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i="gr_"+randomString(10),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var s,a,n,o=[];for(n=4*e.g.p,a=0;a<n;a+=4)s=createNS("stop"),r.appendChild(s),o.push(s);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+i+")"),this.gf=r,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,r,s,a=createNS("mask"),n=createNS("path");a.appendChild(n);var o="op_"+randomString(10),h="mk_"+randomString(10);a.setAttribute("id",h);var l=createNS(1===t.t?"linearGradient":"radialGradient");l.setAttribute("id",o),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),s=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var p=this.stops;for(r=4*t.g.p;r<s;r+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(i),p.push(i);n.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+o+")"),this.of=l,this.ms=a,this.ost=p,this.maskId=h,e.msElem=n}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){function t(t){t.ty;switch(t.ty){case"fl":return r;case"gf":return a;case"gs":return s;case"st":return n;case"sh":case"el":case"rc":case"sr":return i;case"tr":return e}}function e(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(t,e,i){var r,s,a,n,l,p,m,f,c,d,u,y=e.styles.length,g=e.lvl;for(p=0;p<y;p+=1){if(n=e.sh._mdf||i,e.styles[p].lvl<g){for(f=h.reset(),d=g-e.styles[p].lvl,u=e.transformers.length-1;!n&&d>0;)n=e.transformers[u].mProps._mdf||n,d--,u--;if(n)for(d=g-e.styles[p].lvl,u=e.transformers.length-1;d>0;)c=e.transformers[u].mProps.v.props,f.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),d--,u--}else f=o;if(m=e.sh.paths,s=m._length,n){for(a="",r=0;r<s;r+=1)l=m.shapes[r],l&&l._length&&(a+=buildShapeString(l,l._length,l.c,f));e.caches[p]=a}else a=e.caches[p];e.styles[p].d+=t.hd===!0?"":a,e.styles[p]._mdf=n||e.styles[p]._mdf}}function r(t,e,i){var r=e.style;(e.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,i){a(t,e,i),n(t,e,i)}function a(t,e,i){var r=e.gf,s=e.g._hasOpacity,a=e.s.v,n=e.e.v;if(e.o._mdf||i){var o="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(o,e.o.v)}if(e.s._mdf||i){var h=1===t.t?"x1":"cx",l="x1"===h?"y1":"cy";r.setAttribute(h,a[0]),r.setAttribute(l,a[1]),s&&!e.g._collapsable&&(e.of.setAttribute(h,a[0]),e.of.setAttribute(l,a[1]))}var p,m,f,c;if(e.g._cmdf||i){p=e.cst;var d=e.g.c;for(f=p.length,m=0;m<f;m+=1)c=p[m],c.setAttribute("offset",d[4*m]+"%"),c.setAttribute("stop-color","rgb("+d[4*m+1]+","+d[4*m+2]+","+d[4*m+3]+")")}if(s&&(e.g._omdf||i)){var u=e.g.o;for(p=e.g._collapsable?e.cst:e.ost,f=p.length,m=0;m<f;m+=1)c=p[m],e.g._collapsable||c.setAttribute("offset",u[2*m]+"%"),c.setAttribute("stop-opacity",u[2*m+1])}if(1===t.t)(e.e._mdf||i)&&(r.setAttribute("x2",n[0]),r.setAttribute("y2",n[1]),s&&!e.g._collapsable&&(e.of.setAttribute("x2",n[0]),e.of.setAttribute("y2",n[1])));else{var y;if((e.s._mdf||e.e._mdf||i)&&(y=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)),r.setAttribute("r",y),s&&!e.g._collapsable&&e.of.setAttribute("r",y)),e.e._mdf||e.h._mdf||e.a._mdf||i){y||(y=Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)));var g=Math.atan2(n[1]-a[1],n[0]-a[0]),v=e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v,b=y*v,x=Math.cos(g+e.a.v)*b+a[0],E=Math.sin(g+e.a.v)*b+a[1];r.setAttribute("fx",x),r.setAttribute("fy",E),s&&!e.g._collapsable&&(e.of.setAttribute("fx",x),e.of.setAttribute("fy",E))}}}function n(t,e,i){var r=e.style,s=e.d;s&&(s._mdf||i)&&s.dashStr&&(r.pElem.setAttribute("stroke-dasharray",s.dashStr),r.pElem.setAttribute("stroke-dashoffset",s.dashoffset[0])),e.c&&(e.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}var o=new Matrix,h=new Matrix,l={createRenderFunction:t};return l}();ShapeTransformManager.prototype={addTransformSequence:function(t){var e,i=t.length,r="_";for(e=0;e<i;e+=1)r+=t[e].transform.key+"_";var s=this.sequences[r];return s||(s={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=s,this.sequenceList.push(s)),s},processSequence:function(t,e){for(var i=0,r=t.transforms.length,s=e;i<r&&!e;){if(t.transforms[i].transform.mProps._mdf){s=!0;break}i+=1}if(s){var a;for(t.finalTransform.reset(),i=r-1;i>=0;i-=1)a=t.transforms[i].transform.mProps.v.props,t.finalTransform.transform(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}t._mdf=s},processSequences:function(t){var e,i=this.sequenceList.length;for(e=0;e<i;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},blendModeEnums:{1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},getBlendMode:function(){return this.blendModeEnums[this.data.bm]||""},setBlendMode:function(){var t=this.getBlendMode(),e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId="ly_"+randomString(10),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),s.appendChild(this.layerElement),r=s,this.globalData.defs.appendChild(s),featureSupport.maskType||1!=this.data.td||(s.setAttribute("mask-type","luminance"),t=randomString(10),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),i.appendChild(this.layerElement),r=i,s.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var a=createNS("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var n=createNS("g");a.appendChild(n),t=randomString(10),e=filtersFactory.createFilter(t);var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),e.appendChild(o),this.globalData.defs.appendChild(e);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),n.setAttribute("filter","url("+locationHref+"#"+t+")"),n.appendChild(h),n.appendChild(this.layerElement),r=n,featureSupport.maskType||(a.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),n.appendChild(h),i.appendChild(this.layerElement),r=i,n.appendChild(i)),this.globalData.defs.appendChild(a)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var l=createNS("clipPath"),p=createNS("path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var m="cp_"+randomString(8);if(l.setAttribute("id",m),l.appendChild(p),this.globalData.defs.appendChild(l),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+m+")"),f.appendChild(this.layerElement),this.transformedElement=f,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+m+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=0,i=this.shapeModifiers.length;e<i;)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(e=this.shapeModifiers.length,t=e-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,r=e.length;i<r;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,r=i.length;r;)if(r-=1,i[r].elem===t)return void(i[r].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var i,r,s=e.length,a="";for(i=0;i<s;i+=1)r=e[i].ks.k,a+=buildShapeString(r,r.i.length,!0,t);return a},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,s){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(r,s,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],s="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(s),s=""):s+=t[e],e+=1;return r.push(s),r},SVGTextElement.prototype.buildNewText=function(){var t,e,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var s=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",s)}var n=i.l||[],o=!!this.globalData.fontManager.chars;e=n.length;var h,l,p=this.mHelper,m="",f=this.data.singleShape,c=0,d=0,u=!0,y=i.tr/1e3*i.finalSize;if(!f||o||i.sz){var g,v,b=this.textSpans.length;for(t=0;t<e;t+=1)o&&f&&0!==t||(h=b>t?this.textSpans[t]:createNS(o?"path":"text"),b<=t&&(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=h,this.layerElement.appendChild(h)),h.style.display="inherit"),p.reset(),p.scale(i.finalSize/100,i.finalSize/100),f&&(n[t].n&&(c=-y,d+=i.yOffset,d+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(i,p,n[t].line,c,d),c+=n[t].l||0,c+=y),o?(v=this.globalData.fontManager.getCharData(i.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),g=v&&v.data||{},l=g.shapes?g.shapes[0].it:[],f?m+=this.createPathShape(p,l):h.setAttribute("d",this.createPathShape(p,l))):(f&&h.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),h.textContent=n[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&h&&h.setAttribute("d",m)}else{var x=this.textContainer,E="start";switch(i.j){case 1:E="end";break;case 2:E="middle"}x.setAttribute("text-anchor",E),x.setAttribute("letter-spacing",y);var S=this.buildTextContents(i.finalText);for(e=S.length,d=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)h=this.textSpans[t]||createNS("tspan"),h.textContent=S[t],h.setAttribute("x",0),h.setAttribute("y",d),h.style.display="inherit",x.appendChild(h),this.textSpans[t]=h,d+=i.finalLineHeight;this.layerElement.appendChild(x)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,i=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;e=r.length;var s,a;for(t=0;t<e;t+=1)r[t].n||(s=i[t],a=this.textSpans[t],s._mdf.m&&a.setAttribute("transform",s.m),s._mdf.o&&a.setAttribute("opacity",s.o),s._mdf.sw&&a.setAttribute("stroke-width",s.sw),s._mdf.sc&&a.setAttribute("stroke",s.sc),s._mdf.fc&&a.setAttribute("fill",s.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,i,r,s=this.shapes.length,a=this.stylesList.length,n=[],o=!1;for(i=0;i<a;i+=1){for(r=this.stylesList[i],o=!1,n.length=0,t=0;t<s;t+=1)e=this.shapes[t],e.styles.indexOf(r)!==-1&&(n.push(e),o=e._isAnimated||o);n.length>1&&o&&this.setShapesAsAnimated(n)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,r=new SVGStyleData(t,e),s=r.pElem;if("st"===t.ty)i=new SVGStrokeStyleData(this,t,r);else if("fl"===t.ty)i=new SVGFillStyleData(this,t,r);else if("gf"===t.ty||"gs"===t.ty){var a="gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new a(this,t,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),s.setAttribute("mask","url(#"+i.maskId+")"))}return"st"!==t.ty&&"gs"!==t.ty||(s.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),s.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),s.setAttribute("fill-opacity","0"),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&s.setAttribute("fill-rule","evenodd"),t.ln&&s.setAttribute("id",t.ln),t.cl&&s.setAttribute("class",t.cl),this.stylesList.push(r),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var s=ShapePropertyFactory.getShapeProp(this,t,r,this),a=new SVGShapeData(e,i,s);return this.shapes.push(a),this.addShapeToModifiers(a),this.addToAnimatedContents(t,a),a},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,i=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,r,s,a,n){var o,h,l,p,m,f,c=[].concat(a),d=t.length-1,u=[],y=[];for(o=d;o>=0;o-=1){if(f=this.searchProcessedElement(t[o]),f?e[o]=i[f-1]:t[o]._render=n,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)f?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],s),t[o]._render&&r.appendChild(e[o].style.pElem),u.push(e[o].style);else if("gr"==t[o].ty){if(f)for(l=e[o].it.length,h=0;h<l;h+=1)e[o].prevViewData[h]=e[o].it[h];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,s+1,c,n),t[o]._render&&r.appendChild(e[o].gr)}else"tr"==t[o].ty?(f||(e[o]=this.createTransformElement(t[o],r)),p=e[o].transform,c.push(p)):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?(f||(e[o]=this.createShapeElement(t[o],c,s)),this.setElementStyles(e[o])):"tm"==t[o].ty||"rd"==t[o].ty||"ms"==t[o].ty?(f?(m=e[o],m.closed=!1):(m=ShapeModifiers.getModifier(t[o].ty),m.init(this,t[o]),e[o]=m,this.shapeModifiers.push(m)),y.push(m)):"rp"==t[o].ty&&(f?(m=e[o],m.closed=!0):(m=ShapeModifiers.getModifier(t[o].ty),e[o]=m,m.init(this,t,o,e),this.shapeModifiers.push(m),n=!1),y.push(m));this.addProcessedElement(t[o],o+1)}for(d=u.length,o=0;o<d;o+=1)u[o].closed=!0;for(d=y.length,o=0;o<d;o+=1)y[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,r,s=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,i=0):(i=this.filterManager.effectElements[0].p.v-1,r=i+1),e=createNS("g"),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1),i;i<r;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),n="stms_"+randomString(10);a.setAttribute("id",n),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=createNS("g");o.setAttribute("mask","url("+locationHref+"#"+n+")"),s[0]&&o.appendChild(s[0]),this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(s=this.elem.layerElement.children||this.elem.layerElement.childNodes;s.length;)this.elem.layerElement.removeChild(s[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i,r,s=this.paths.length;for(e=0;e<s;e+=1)if(this.paths[e].m!==-1&&(i=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&r.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var n=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=r.getTotalLength();a="0 0 0 "+h*n+" ";var l,p=h*(o-n),m=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(p/m);for(l=0;l<f;l+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*h+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var c=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*c[0])+","+bm_floor(255*c[1])+","+bm_floor(255*c[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,s=r[0]+" "+i[0]+" "+e[0],a=r[1]+" "+i[1]+" "+e[1],n=r[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",n)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=createNS(t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,r,s){for(var a,n,o=0,h=256,l=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:h}),f=0,c=s-r,d=e-t;o<=256;)a=o/256,n=a<=l?d<0?s:r:a>=p?d<0?r:s:r+c*Math.pow((a-t)/d,1/i),m[f++]=n,o+=256/(h-1);return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=i*Math.cos(r),a=i*Math.sin(r);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[],_svgMatteMaskCounter=0;SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r=i.children,s=0,a=r.length;s<a&&r[s]!==t.layerElement;)s+=1;var n;s<=a-2&&(n=r[s+1]);var o=createNS("use");o.setAttribute("href","#"+e),n?i.insertBefore(o,n):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i="matte_"+randomString(5)+"_"+_svgMatteMaskCounter++,r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var s=t.globalData.defs;s.appendChild(r);var a=createNS("symbol");a.setAttribute("id",i),this.replaceInParent(e,i),a.appendChild(e.layerElement),s.appendChild(a);var n=createNS("use");n.setAttribute("href","#"+i),r.appendChild(n),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=0,i=this.elem.comp.elements.length;e<i;)this.elem.comp.elements[e].data.ind===t&&this.setElementAsMask(this.elem,this.elem.comp.elements[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)};var animationManager=function(){function t(t){for(var e=0,i=t.target;e<C;)P[e].animation===i&&(P.splice(e,1),e-=1,C-=1,i.isPaused||s()),e+=1}function e(t,e){if(!t)return null;for(var i=0;i<C;){if(P[i].elem==t&&null!==P[i].elem)return P[i].animation;i+=1}var r=new AnimationItem;return a(r,t),r.setData(t,e),r}function i(){var t,e=P.length,i=[];for(t=0;t<e;t+=1)i.push(P[t].animation);return i}function r(){A+=1,b()}function s(){A-=1}function a(e,i){e.addEventListener("destroy",t),e.addEventListener("_active",r),e.addEventListener("_idle",s),P.push({elem:i,animation:e}),C+=1}function n(t){var e=new AnimationItem;return a(e,null),e.setParams(t),e}function o(t,e){var i;for(i=0;i<C;i+=1)P[i].animation.setSpeed(t,e)}function h(t,e){var i;for(i=0;i<C;i+=1)P[i].animation.setDirection(t,e)}function l(t){var e;for(e=0;e<C;e+=1)P[e].animation.play(t)}function p(t){var e,i=t-_;for(e=0;e<C;e+=1)P[e].animation.advanceTime(i);_=t,A&&!k?window.requestAnimationFrame(p):T=!0}function m(t){_=t,window.requestAnimationFrame(p)}function f(t){var e;for(e=0;e<C;e+=1)P[e].animation.pause(t)}function c(t,e,i){var r;for(r=0;r<C;r+=1)P[r].animation.goToAndStop(t,e,i)}function d(t){var e;for(e=0;e<C;e+=1)P[e].animation.stop(t)}function u(t){var e;for(e=0;e<C;e+=1)P[e].animation.togglePause(t)}function y(t){var e;for(e=C-1;e>=0;e-=1)P[e].animation.destroy(t)}function g(t,i,r){var s,a=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),n=a.length;for(s=0;s<n;s+=1)r&&a[s].setAttribute("data-bm-type",r),e(a[s],t);if(i&&0===n){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var h=createTag("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",r),o.appendChild(h),e(h,t)}}function v(){var t;for(t=0;t<C;t+=1)P[t].animation.resize()}function b(){!k&&A&&T&&(window.requestAnimationFrame(m),T=!1)}function x(){k=!0}function E(){k=!1,b()}var S={},P=[],_=0,C=0,A=0,T=!0,k=!1;return S.registerAnimation=e,S.loadAnimation=n,S.setSpeed=o,S.setDirection=h,S.play=l,S.pause=f,S.stop=d,S.togglePause=u,S.searchAnimations=g,S.resize=v,S.goToAndStop=c,S.destroy=y,S.freeze=x,S.unfreeze=E,S.getRegisteredAnimations=i,S}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||(t.loop===!1?this.loop=!1:t.loop===!0?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&("json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json"),t.path.lastIndexOf("\\")!=-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var s=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===s||("false"===s?i.loop=!1:"true"===s?i.loop=!0:i.loop=parseInt(s));var a=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;i.autoplay="false"!==a,i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var n=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";"false"===n&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,i,r=this.animationData.layers,s=r.length,a=t.layers,n=a.length;for(i=0;i<n;i+=1)for(e=0;e<s;){if(r[e].id==a[i].id){r[e]=a[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,e=0;e<s;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){this.renderer&&(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.renderer.searchExtraCompositions(t.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||this.isPaused===!0&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},AnimationItem.prototype.advanceTime=function(t){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var i,r=t.length;for(i=0;i<r;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}},CanvasRenderer.prototype.ctxOpacity=function(t){return this.renderConfig.clearCanvas?(this.contextData.cO*=t<0?0:t,void(this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO))):(this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO))},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?void this.contextData.reset():void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i,r=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)r[i]=e[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,i=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(e=0;e<16;e+=1)r[e]=i[e];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){this.reset();var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var i,r;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",n=s[0]||"xMidYMid",o=n.substr(0,4),h=n.substr(4);i=t/e,r=this.transformCanvas.w/this.transformCanvas.h,r>i&&"meet"===a||r<i&&"slice"===a?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),"xMid"===o&&(r<i&&"meet"===a||r>i&&"slice"===a)?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(r<i&&"meet"===a||r>i&&"slice"===a)?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,"YMid"===h&&(r>i&&"meet"===a||r<i&&"slice"===a)?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(r>i&&"meet"===a||r<i&&"slice"===a)?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip()},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&this.renderConfig.clearCanvas===!0||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas,this.globalData.projectInterface.currentFrame=t;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;e<i;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var s,a,n,o=0;o<e;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(a=this.elements[o],n=this.layers[o].ddd?this.getThreeDContainerByPos(o):a.getBaseElement(),s=n||s),o+=1;s?r.ddd&&this.supports3d||this.layerElement.insertBefore(i,s):r.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var i=createTag("div");styleDiv(i);var r=createTag("div");styleDiv(r),"3d"===e&&(i.style.width=this.globalData.compSize.w+"px",i.style.height=this.globalData.compSize.h+"px",i.style.transformOrigin=i.style.mozTransformOrigin=i.style.webkitTransformOrigin="50% 50%",r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),i.appendChild(r);var s={container:r,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(s),s},HybridRenderer.prototype.build3dContainers=function(){var t,e,i=this.layers.length,r="";for(t=0;t<i;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(i=this.threeDElements.length,t=i-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,r=this.threeDElements.length;i<r;){if(e<=this.threeDElements[i].endPos){for(var s,a=this.threeDElements[i].startPos;a<e;)this.elements[a]&&this.elements[a].getBaseElement&&(s=this.elements[a].getBaseElement()),a+=1;s?this.threeDElements[i].container.insertBefore(t,s):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),e.style.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var s=createNS("defs");r.appendChild(s),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,r,s=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,n=s/a,o=this.globalData.compSize.w/this.globalData.compSize.h;o>n?(t=s/this.globalData.compSize.w,e=s/this.globalData.compSize.w,i=0,r=(a-this.globalData.compSize.h*(s/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,e=a/this.globalData.compSize.h,i=(s-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,r=createTag("div");for(e=0;e<i;e+=1)if(t[e].xt){var s=this.createComp(t[e],r,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var i=0;for(i=this._length;i<t;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=this.getBlendMode();t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,r=t.getContext("2d"),s=this.img.width,a=this.img.height,n=s/a,o=this.assetData.w/this.assetData.h,h=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;n>o&&"xMidYMid slice"===h||n<o&&"xMidYMid slice"!==h?(i=a,e=i*o):(e=s,i=e/o),r.drawImage(this.img,(s-e)/2,(a-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.failed||this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,r,s=this.element.finalTransform.mat,a=this.element.canvasContext,n=this.masksProperties.length;for(a.beginPath(),t=0;t<n;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),r=this.viewData[t].v,e=s.applyToPointArray(r.v[0][0],r.v[0][1],0),a.moveTo(e[0],e[1]);var o,h=r._length;for(o=1;o<h;o++)i=s.applyToTriplePoints(r.o[o-1],r.i[o],r.v[o]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=s.applyToTriplePoints(r.o[o-1],r.i[0],r.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i=this.transformsManager.addTransformSequence(e),r={data:t,type:t.ty,preTransforms:i,transforms:[],elements:[],closed:t.hd===!0},s={};if("fl"==t.ty||"st"==t.ty?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(r.co="rgb("+bm_floor(s.c.v[0])+","+bm_floor(s.c.v[1])+","+bm_floor(s.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(r.wi=s.w.v),t.d){var a=new DashProperty(this,t.d,"canvas");s.d=a,s.d.k||(r.da=s.d.dashArray,r["do"]=s.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.closeStyles=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,r,s){var a,n,o,h,l,p,m=t.length-1,f=[],c=[],d=[].concat(s);for(a=m;a>=0;a-=1){if(h=this.searchProcessedElement(t[a]),h?e[a]=i[h-1]:t[a]._shouldRender=r,"fl"==t[a].ty||"st"==t[a].ty||"gf"==t[a].ty||"gs"==t[a].ty)h?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],d),f.push(e[a].style);else if("gr"==t[a].ty){if(h)for(o=e[a].it.length,n=0;n<o;n+=1)e[a].prevViewData[n]=e[a].it[n];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,r,d)}else"tr"==t[a].ty?h||(p=this.createTransformElement(t[a]),e[a]=p,d.push(p),this.addTransformToStyleList(p)):"sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty?h||(e[a]=this.createShapeElement(t[a])):"tm"==t[a].ty||"rd"==t[a].ty?(h?(l=e[a],l.closed=!1):(l=ShapeModifiers.getModifier(t[a].ty),l.init(this,t[a]),e[a]=l,this.shapeModifiers.push(l)),c.push(l)):"rp"==t[a].ty&&(h?(l=e[a],l.closed=!0):(l=ShapeModifiers.getModifier(t[a].ty),e[a]=l,l.init(this,t,a,e),this.shapeModifiers.push(l),r=!1),c.push(l));this.addProcessedElement(t[a],a+1)}for(this.closeStyles(f),m=c.length,a=0;a<m;a+=1)c[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,i,r,s,a,n,o,h,l=this.stylesList.length,p=this.globalData.renderer,m=this.globalData.canvasContext;for(t=0;t<l;t+=1)if(h=this.stylesList[t],o=h.type,("st"!==o&&"gs"!==o||0!==h.wi)&&h.data._shouldRender&&0!==h.coOp&&0!==this.globalData.currentGlobalAlpha){for(p.save(),a=h.elements,"st"===o||"gs"===o?(m.strokeStyle="st"===o?h.co:h.grd,m.lineWidth=h.wi,m.lineCap=h.lc,m.lineJoin=h.lj,m.miterLimit=h.ml||0):m.fillStyle="fl"===o?h.co:h.grd,p.ctxOpacity(h.coOp),"st"!==o&&"gs"!==o&&m.beginPath(),p.ctxTransform(h.preTransforms.finalTransform.props),i=a.length,e=0;e<i;e+=1){for("st"!==o&&"gs"!==o||(m.beginPath(),h.da&&(m.setLineDash(h.da),m.lineDashOffset=h["do"])),n=a[e].trNodes,s=n.length,r=0;r<s;r+=1)"m"==n[r].t?m.moveTo(n[r].p[0],n[r].p[1]):"c"==n[r].t?m.bezierCurveTo(n[r].pts[0],n[r].pts[1],n[r].pts[2],n[r].pts[3],n[r].pts[4],n[r].pts[5]):m.closePath();"st"!==o&&"gs"!==o||(m.stroke(),h.da&&m.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&m.fill(h.r),p.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,r){var s,a,n=e.length-1;for(a=t,s=n;s>=0;s-=1)"tr"==e[s].ty?(a=i[s].transform,this.renderShapeTransform(t,a)):"sh"==e[s].ty||"el"==e[s].ty||"rc"==e[s].ty||"sr"==e[s].ty?this.renderPath(e[s],i[s],a):"fl"==e[s].ty?this.renderFill(e[s],i[s],a):"st"==e[s].ty?this.renderStroke(e[s],i[s],a):"gf"==e[s].ty||"gs"==e[s].ty?this.renderGradientFill(e[s],i[s],a):"gr"==e[s].ty?this.renderShape(a,e[s].it,i[s].it):"tm"==e[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,r,s,a=t.trNodes,n=e.paths,o=n._length;a.length=0;var h=t.transforms.finalTransform;for(s=0;s<o;s+=1){var l=n.shapes[s];if(l&&l.v){for(r=l._length,i=1;i<r;i+=1)1===i&&a.push({t:"m",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),a.push({t:"c",pts:h.applyToTriplePoints(l.o[i-1],l.i[i],l.v[i])});1===r&&a.push({t:"m",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&r&&(a.push({t:"c",pts:h.applyToTriplePoints(l.o[i-1],l.i[0],l.v[0])}),a.push({t:"z"}))}}t.trNodes=a}},CVShapeElement.prototype.renderPath=function(t,e,i){if(t.hd!==!0&&t._shouldRender){var r,s=e.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,i){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var s,a=this.globalData.canvasContext,n=e.s.v,o=e.e.v;if(1===t.t)s=a.createLinearGradient(n[0],n[1],o[0],o[1]);else var h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)),l=Math.atan2(o[1]-n[1],o[0]-n[0]),p=e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v,m=h*p,f=Math.cos(l+e.a.v)*m+n[0],c=Math.sin(l+e.a.v)*m+n[1],s=a.createRadialGradient(f,c,0,n[0],n[1],h);var d,u=t.g.p,y=e.g.c,g=1;for(d=0;d<u;d+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*d+1]),s.addColorStop(y[4*d]/100,"rgba("+y[4*d+1]+","+y[4*d+2]+","+y[4*d+3]+","+g+")");r.grd=s}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var r=e.style,s=e.d;s&&(s._mdf||this._isFirstFrame)&&(r.da=s.dashArray,r["do"]=s.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,s,a=this.globalData.fontManager.getFontByName(t.f),n=t.l,o=this.mHelper;this.stroke=i,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,s=t.finalText.length;var h,l,p,m,f,c,d,u,y,g,v=this.data.singleShape,b=t.tr/1e3*t.finalSize,x=0,E=0,S=!0,P=0;for(r=0;r<s;r+=1){for(h=this.globalData.fontManager.getCharData(t.finalText[r],a.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),l=h&&h.data||{},o.reset(),v&&n[r].n&&(x=-b,E+=t.yOffset,E+=S?1:0,S=!1),f=l.shapes?l.shapes[0].it:[],d=f.length,o.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,o,n[r].line,x,E),y=createSizedArray(d),c=0;c<d;c+=1){for(m=f[c].ks.k.i.length,u=f[c].ks.k,g=[],p=1;p<m;p+=1)1==p&&g.push(o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[p][0],u.i[p][1],0),o.applyToY(u.i[p][0],u.i[p][1],0),o.applyToX(u.v[p][0],u.v[p][1],0),o.applyToY(u.v[p][0],u.v[p][1],0));g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[0][0],u.i[0][1],0),o.applyToY(u.i[0][0],u.i[0][1],0),o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),y[c]=g}v&&(x+=n[r].l,x+=b),this.textSpans[P]?this.textSpans[P].elem=y:this.textSpans[P]={elem:y},P+=1}},CVTextElement.prototype.renderInnerContent=function(){var t=this.canvasContext;this.finalTransform.mat.props;t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,i,r,s,a,n,o=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;i=h.length;var l,p,m,f=null,c=null,d=null;for(e=0;e<i;e+=1)if(!h[e].n){if(l=o[e],l&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(l.p),this.globalData.renderer.ctxOpacity(l.o)),this.fill){for(l&&l.fc?f!==l.fc&&(f=l.fc,t.fillStyle=l.fc):f!==this.values.fill&&(f=this.values.fill,t.fillStyle=this.values.fill),p=this.textSpans[e].elem,s=p.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(m=p[r],n=m.length,this.globalData.canvasContext.moveTo(m[0],m[1]),a=2;a<n;a+=6)this.globalData.canvasContext.bezierCurveTo(m[a],m[a+1],m[a+2],m[a+3],m[a+4],m[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(l&&l.sw?d!==l.sw&&(d=l.sw,t.lineWidth=l.sw):d!==this.values.sWidth&&(d=this.values.sWidth,t.lineWidth=this.values.sWidth),l&&l.sc?c!==l.sc&&(c=l.sc,t.strokeStyle=l.sc):c!==this.values.stroke&&(c=this.values.stroke,t.strokeStyle=this.values.stroke),p=this.textSpans[e].elem,s=p.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(m=p[r],n=m.length,this.globalData.canvasContext.moveTo(m[0],m[1]),a=2;a<n;a+=6)this.globalData.canvasContext.bezierCurveTo(m[a],m[a+1],m[a+2],m[a+3],m[a+4],m[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}l&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e=t[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,r,s,a,n,o=t.sh.v,h=t.transformers,l=o._length;if(!(l<=1)){for(i=0;i<l-1;i+=1)r=this.getTransformedPoint(h,o.v[i]),s=this.getTransformedPoint(h,o.o[i]),a=this.getTransformedPoint(h,o.i[i+1]),n=this.getTransformedPoint(h,o.v[i+1]),this.checkBounds(r,s,a,n,e);o.c&&(r=this.getTransformedPoint(h,o.v[i]),s=this.getTransformedPoint(h,o.o[i]),a=this.getTransformedPoint(h,o.i[0]),n=this.getTransformedPoint(h,o.v[0]),this.checkBounds(r,s,a,n,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,r,s){this.getBoundsOfCurve(t,e,i,r);var a=this.shapeBoundingBox;s.x=bm_min(a.left,s.x),s.xMax=bm_max(a.right,s.xMax),s.y=bm_min(a.top,s.y),s.yMax=bm_max(a.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,r){for(var s,a,n,o,h,l,p,m=[[t[0],r[0]],[t[1],r[1]]],f=0;f<2;++f)if(a=6*t[f]-12*e[f]+6*i[f],s=-3*t[f]+9*e[f]-9*i[f]+3*r[f],n=3*e[f]-3*t[f],a=0|a,s=0|s,n=0|n,0!==s)h=a*a-4*n*s,h<0||(l=(-a+bm_sqrt(h))/(2*s),0<l&&l<1&&m[f].push(this.calculateF(l,t,e,i,r,f)),p=(-a-bm_sqrt(h))/(2*s),0<p&&p<1&&m[f].push(this.calculateF(p,t,e,i,r,f)));else{if(0===a)continue;o=-n/a,0<o&&o<1&&m[f].push(this.calculateF(o,t,e,i,r,f))}this.shapeBoundingBox.left=bm_min.apply(null,m[0]),this.shapeBoundingBox.top=bm_min.apply(null,m[1]),this.shapeBoundingBox.right=bm_max.apply(null,m[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,m[1])},HShapeElement.prototype.calculateF=function(t,e,i,r,s,a){return bm_pow(1-t,3)*e[a]+3*bm_pow(1-t,2)*t*i[a]+3*(1-t)*bm_pow(t,2)*r[a]+bm_pow(t,3)*s[a]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]&&t[i].sh?this.calculateShapeBoundingBox(t[i],e):t[i]&&t[i].it&&this.calculateBoundingBox(t[i].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var i=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),i=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),i=!0),(i||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var r=t.fWeight,s=t.fStyle;e.fontStyle=s,e.fontWeight=r}var a,n,o=t.l;n=o.length;var h,l,p,m,f=this.mHelper,c="",d=0;for(a=0;a<n;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[d]?h=this.textPaths[d]:(h=createNS("path"),h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?(l=this.textSpans[d],p=l.children[0]):(l=createTag("div"),p=createNS("svg"),p.appendChild(h),styleDiv(l)))):this.isMasked?h=this.textPaths[d]?this.textPaths[d]:createNS("text"):this.textSpans[d]?(l=this.textSpans[d],h=this.textPaths[d]):(l=createTag("span"),styleDiv(l),h=createTag("span"),styleDiv(h),l.appendChild(h)),this.globalData.fontManager.chars){var u,y=this.globalData.fontManager.getCharData(t.finalText[a],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(u=y?y.data:null,f.reset(),u&&u.shapes&&(m=u.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),c=this.createPathShape(f,m),h.setAttribute("d",c)),this.isMasked)this.innerElem.appendChild(h);else{if(this.innerElem.appendChild(l),u&&u.shapes){document.body.appendChild(p);var g=p.getBBox();p.setAttribute("width",g.width+2),p.setAttribute("height",g.height+2),p.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),p.style.transform=p.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",o[a].yOffset=g.y-1}else p.setAttribute("width",1),p.setAttribute("height",1);l.appendChild(p)}}else h.textContent=o[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(l),h.style.transform=h.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[d]=h:this.textSpans[d]=l,this.textSpans[d].style.display="block",this.textPaths[d]=h,d+=1}for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,i=0,r=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;e=s.length;var a,n,o;for(t=0;t<e;t+=1)s[t].n?i+=1:(n=this.textSpans[t],o=this.textPaths[t],a=r[i],i+=1,a._mdf.m&&(this.isMasked?n.setAttribute("transform",a.m):n.style.transform=n.style.webkitTransform=a.m),n.style.opacity=a.o,a.sw&&a._mdf.sw&&o.setAttribute("stroke-width",a.sw),a.sc&&a._mdf.sc&&o.setAttribute("stroke",a.sc),a.fc&&a._mdf.fc&&(o.setAttribute("fill",a.fc),o.style.color=a.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height));var l=1;this.currentBBox.w===h.width+2*l&&this.currentBBox.h===h.height+2*l&&this.currentBBox.x===h.x-l&&this.currentBBox.y===h.y-l||(this.currentBBox.w=h.width+2*l,this.currentBBox.h=h.height+2*l,this.currentBBox.x=h.x-l,this.currentBBox.y=h.y-l,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)e=this.comp.threeDElements[t],"3d"===e.type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=this.hierarchy[t].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy){for(e=this.hierarchy.length-1,t=e;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],a=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),n=[s[0]/a,s[1]/a,s[2]/a],o=Math.sqrt(n[2]*n[2]+n[0]*n[0]),h=Math.atan2(n[1],o),l=Math.atan2(n[0],-n[2]);this.mat.rotateY(l).rotateX(-h)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var p=!this._prevMat.equals(this.mat);if((p||this.pe._mdf)&&this.comp.threeDElements){e=this.comp.threeDElements.length;var m;for(t=0;t<e;t+=1)m=this.comp.threeDElements[t],"3d"===m.type&&(p&&(m.container.style.transform=m.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(m.perspectiveElem.style.perspective=m.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.initExpressions=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var Expressions=function(){function t(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)}var e={};return e.initExpressions=t,e}();expressionsPlugin=Expressions;var ExpressionManager=function(){function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var i,r=t.length,s=[];for(i=0;i<r;i+=1)s[i]=-t[i];return s}}function sum(t,e){var i=typeof t,r=typeof e;if("string"===i||"string"===r)return t+e;if(isNumerable(i,t)&&isNumerable(r,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]=t[0]+e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,a=t.length,n=e.length,o=[];s<a||s<n;)("number"==typeof t[s]||t[s]instanceof Number)&&("number"==typeof e[s]||e[s]instanceof Number)?o[s]=t[s]+e[s]:o[s]=void 0===e[s]?t[s]:t[s]||e[s],s+=1;return o}return 0}function sub(t,e){var i=typeof t,r=typeof e;if(isNumerable(i,t)&&isNumerable(r,e))return"string"===i&&(t=parseInt(t)),"string"===r&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]=t[0]-e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,a=t.length,n=e.length,o=[];s<a||s<n;)("number"==typeof t[s]||t[s]instanceof Number)&&("number"==typeof e[s]||e[s]instanceof Number)?o[s]=t[s]-e[s]:o[s]=void 0===e[s]?t[s]:t[s]||e[s],s+=1;return o}return 0}function mul(t,e){var i,r=typeof t,s=typeof e;if(isNumerable(r,t)&&isNumerable(s,e))return t*e;var a,n;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(n=t.length,i=createTypedArray("float32",n),a=0;a<n;a+=1)i[a]=t[a]*e;return i}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),a=0;a<n;a+=1)i[a]=t*e[a];return i}return 0}function div(t,e){var i,r=typeof t,s=typeof e;if(isNumerable(r,t)&&isNumerable(s,e))return t/e;var a,n;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(n=t.length,i=createTypedArray("float32",n),a=0;a<n;a+=1)i[a]=t[a]/e;return i}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),a=0;a<n;a+=1)i[a]=t/e[a];return i}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}function clamp(t,e,i){if(e>i){var r=i;i=e,e=r}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}function degreesToRadians(t){return t*degToRads}function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var i,r=Math.min(t.length,e.length),s=0;for(i=0;i<r;i+=1)s+=Math.pow(e[i]-t[i],2);return Math.sqrt(s)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,i,r=t[0],s=t[1],a=t[2],n=Math.max(r,s,a),o=Math.min(r,s,a),h=(n+o)/2;if(n==o)e=i=0;else{var l=n-o;switch(i=h>.5?l/(2-n-o):l/(n+o),n){case r:e=(s-a)/l+(s<a?6:0);break;case s:e=(a-r)/l+2;break;case a:e=(r-s)/l+4}e/=6}return[e,i,h,t[3]]}function hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e,i,r,s=t[0],a=t[1],n=t[2];if(0===a)e=i=r=n;else{var o=n<.5?n*(1+a):n+a-n*a,h=2*n-o;e=hue2rgb(h,o,s+1/3),i=hue2rgb(h,o,s),r=hue2rgb(h,o,s-1/3)}return[e,i,r,t[3]]}function linear(t,e,i,r,s){if(void 0!==r&&void 0!==s||(r=e,s=i,e=0,i=1),i<e){var a=i;i=e,e=a}if(t<=e)return r;if(t>=i)return s;var n=i===e?0:(t-e)/(i-e);if(!r.length)return r+(s-r)*n;var o,h=r.length,l=createTypedArray("float32",h);for(o=0;o<h;o+=1)l[o]=r[o]+(s[o]-r[o])*n;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,r=e.length;t||(t=createTypedArray("float32",r));var s=createTypedArray("float32",r),a=BMMath.random();for(i=0;i<r;i+=1)s[i]=t[i]+a*(e[i]-t[i]);return s}void 0===t&&(t=0);var n=BMMath.random();return t+n*(e-t)}function createPath(t,e,i,r){var s,a=t.length,n=shape_pool.newElement();n.setPathData(!!r,a);var o,h,l=[0,0];for(s=0;s<a;s+=1)o=e&&e[s]?e[s]:l,h=i&&i[s]?i[s]:l,n.setTripleAt(t[s][0],t[s][1],h[0]+t[s][0],h[1]+t[s][1],o[0]+t[s][0],o[1]+t[s][1],s,!0);return n}function initiateExpression(elem,data,property){function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,s=-Math.atan2(i[1],i[2])/degToRads;return[s,r,0]}function easeOut(t,e,i,r,s){return void 0===r?(r=e,s=i):t=(t-e)/(i-e),-(s-r)*t*(t-2)+r}function easeIn(t,e,i,r,s){return void 0===r?(r=e,s=i):t=(t-e)/(i-e),(s-r)*t*t+r}function nearestKey(t){var e,i,r,s=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)i=1,r=data.k[0].t;else{for(e=0;e<s-1;e+=1){if(t===data.k[e].t){i=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,r=data.k[e+1].t):(i=e+1,r=data.k[e].t);break}}i===-1&&(i=e+1,r=data.k[e].t)}else i=0,r=0;var a={};return a.index=i,a.time=r/elem.comp.globalData.frameRate,a}function key(t){var e,i,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate};var s;for(s=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t-1].e,r=s.length,i=0;i<r;i+=1)e[i]=s[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=shape_pool.clone(scoped_bm_rt.v)),scoped_bm_rt)}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[];if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function(t,e){var i,r,s=this.pv.length?this.pv.length:1,a=createTypedArray("float32",s);t=5;var n=Math.floor(time*t);for(i=0,r=0;i<n;){for(r=0;r<s;r+=1)a[r]+=-e+2*e*BMMath.random();i+=1}var o=time*t,h=o-Math.floor(o),l=createTypedArray("float32",s);if(s>1){for(r=0;r<s;r+=1)l[r]=this.pv[r]+a[r]+(-e+2*e*BMMath.random())*h;return l}return this.pv+a[0]+(-e+2*e*BMMath.random())*h}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());return executeExpression}var ob={},Math=BMMath,window=null,document=null,add=sum,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}();!function(){function t(){return this.pv}function e(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r=this.comp.renderedFrame,s=this.keyframes,a=s[s.length-1].t;if(r<=a)return this.pv;var n,o;i?(n=e?Math.abs(a-elem.comp.globalData.frameRate*e):Math.max(0,a-this.elem.data.ip),o=a-n):((!e||e>s.length-1)&&(e=s.length-1),o=s[s.length-1-e].t,n=a-o);var h,l,p;if("pingpong"===t){var m=Math.floor((r-o)/n);if(m%2!==0)return this.getValueAtTime((n-(r-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var f=this.getValueAtTime(o/this.comp.globalData.frameRate,0),c=this.getValueAtTime(a/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((r-o)%n+o)/this.comp.globalData.frameRate,0),u=Math.floor((r-o)/n);if(this.pv.length){for(p=new Array(f.length),l=p.length,h=0;h<l;h+=1)p[h]=(c[h]-f[h])*u+d[h];return p}return(c-f)*u+d}if("continue"===t){var y=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(p=new Array(y.length),l=p.length,h=0;h<l;h+=1)p[h]=y[h]+(y[h]-g[h])*((r-a)/this.comp.globalData.frameRate)/5e-4;return p}return y+(y-g)*((r-a)/.001)}}return this.getValueAtTime(((r-o)%n+o)/this.comp.globalData.frameRate,0)}function i(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r=this.comp.renderedFrame,s=this.keyframes,a=s[0].t;if(r>=a)return this.pv;var n,o;i?(n=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-a),o=a+n):((!e||e>s.length-1)&&(e=s.length-1),o=s[e].t,n=o-a);var h,l,p;if("pingpong"===t){var m=Math.floor((a-r)/n);if(m%2===0)return this.getValueAtTime(((a-r)%n+a)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var f=this.getValueAtTime(a/this.comp.globalData.frameRate,0),c=this.getValueAtTime(o/this.comp.globalData.frameRate,0),d=this.getValueAtTime((n-(a-r)%n+a)/this.comp.globalData.frameRate,0),u=Math.floor((a-r)/n)+1;if(this.pv.length){for(p=new Array(f.length),l=p.length,h=0;h<l;h+=1)p[h]=d[h]-(c[h]-f[h])*u;return p}return d-(c-f)*u}if("continue"===t){var y=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(p=new Array(y.length),l=p.length,h=0;h<l;h+=1)p[h]=y[h]+(y[h]-g[h])*(a-r)/.001;return p}return y+(y-g)*(a-r)/.001}}return this.getValueAtTime((n-(a-r)%n+a)/this.comp.globalData.frameRate,0)}function r(t){return t!==this._cachingAtTime.lastFrame&&(t*=this.elem.globalData.frameRate,t-=this.offsetTime,this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value}function s(t){var e=-.01,i=this.getValueAtTime(t),r=this.getValueAtTime(t+e),s=0;if(i.length){var a;for(a=0;a<i.length;a+=1)s+=Math.pow(r[a]-i[a],2);s=100*Math.sqrt(s);}else s=0;return s}function a(t){if(void 0!==this.vel)return this.vel;var e,i=-.001,r=this.getValueAtTime(t),s=this.getValueAtTime(t+i);if(r.length){e=createTypedArray("float32",r.length);var a;for(a=0;a<r.length;a+=1)e[a]=(s[a]-r[a])/i}else e=(s-r)/i;return e}function n(t){this.propertyGroup=t}function o(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))}function h(t){console.warn("Transform at time not supported")}function l(t){}function p(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,t*=this.elem.globalData.frameRate,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}function m(){}var f=function(){function e(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(i,s){this.pv=1,this.comp=i.comp,this.elem=i,this.mult=.01,this.propType="textSelector",this.textTotal=s.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],o.bind(this)(i,s,this),this.getMult=e,this.getVelocityAtTime=a,this.kf?this.getValueAtTime=r.bind(this):this.getValueAtTime=t.bind(this),this.setGroupProperty=n}}(),c=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){var r=c(t,e,i);return r.dynamicProperties.length?r.getValueAtTime=h.bind(r):r.getValueAtTime=l.bind(r),r.setGroupProperty=n,r};var d=PropertyFactory.getProp;PropertyFactory.getProp=function(h,l,p,m,f){var c=d(h,l,p,m,f);c.kf?c.getValueAtTime=r.bind(c):c.getValueAtTime=t.bind(c),c.setGroupProperty=n,c.loopOut=e,c.loopIn=i,c.getVelocityAtTime=a.bind(c),c.getSpeedAtTime=s.bind(c),c.numKeys=1===l.a?l.k.length:0,c.propertyIndex=l.ix;var u=0;return 0!==p&&(u=createTypedArray("float32",1===l.a?l.k[0].s.length:l.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},o(h,l,c),c.k&&f.addDynamicProperty(c),c};var u=ShapePropertyFactory.getConstructorFunction(),y=ShapePropertyFactory.getKeyframedConstructorFunction();m.prototype={vertices:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0));var r,s=i._length,a=i[t],n=i.v,o=createSizedArray(s);for(r=0;r<s;r+=1)"i"===t||"o"===t?o[r]=[a[r][0]-n[r][0],a[r][1]-n[r][1]]:o[r]=[a[r][0],a[r][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var r,s=this._segmentsLength,a=s.lengths,n=s.totalLength*t,o=0,h=a.length,l=0;o<h;){if(l+a[o].addedLength>n){var p=o,m=i.c&&o===h-1?0:o+1,f=(n-l)/a[o].addedLength;r=bez.getPointInSegment(i.v[p],i.v[m],i.o[p],i.i[m],f,a[o]);break}l+=a[o].addedLength,o+=1}return r||(r=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),r},vectorOnPath:function(t,e,i){t=1==t?this.v.c?0:.999:t;var r=this.pointOnPath(t,e),s=this.pointOnPath(t+.001,e),a=s[0]-r[0],n=s[1]-r[1],o=Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),h="tangent"===i?[a/o,n/o]:[-n/o,a/o];return h},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:n,getValueAtTime:t},extendPrototype([m],u),extendPrototype([m],y),y.prototype.getValueAtTime=p,y.prototype.initiateExpression=ExpressionManager.initiateExpression;var g=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,r,s){var a=g(t,e,i,r,s);return a.propertyIndex=e.ix,a.lock=!1,3===i?o(t,e.pt,a):4===i&&o(t,e.ks,a),a.k&&t.addDynamicProperty(a),a};var v=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(t,e,i){return 1===e.t?new f(t,e,i):v(t,e,i)}}(),function(){function t(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0}TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t!==i){var r={};return this.copyData(r,t),r.t=i.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=t}();var ShapeExpressionInterface=function(){function t(t,e,n){var c,d=[],u=t?t.length:0;for(c=0;c<u;c+=1)"gr"==t[c].ty?d.push(i(t[c],e[c],n)):"fl"==t[c].ty?d.push(r(t[c],e[c],n)):"st"==t[c].ty?d.push(s(t[c],e[c],n)):"tm"==t[c].ty?d.push(a(t[c],e[c],n)):"tr"==t[c].ty||("el"==t[c].ty?d.push(o(t[c],e[c],n)):"sr"==t[c].ty?d.push(h(t[c],e[c],n)):"sh"==t[c].ty?d.push(f(t[c],e[c],n)):"rc"==t[c].ty?d.push(l(t[c],e[c],n)):"rd"==t[c].ty?d.push(p(t[c],e[c],n)):"rp"==t[c].ty&&d.push(m(t[c],e[c],n)));return d}function e(e,i,r){var s,a=function(t){for(var e=0,i=s.length;e<i;){if(s[e]._name===t||s[e].mn===t||s[e].propertyIndex===t||s[e].ix===t||s[e].ind===t)return s[e];e+=1}if("number"==typeof t)return s[t-1]};return a.propertyGroup=function(t){return 1===t?a:r(t-1)},s=t(e.it,i.it,a.propertyGroup),a.numProperties=s.length,a.propertyIndex=e.cix,a._name=e.nm,a}function i(t,i,r){var s=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return s.content;default:return s.transform}};s.propertyGroup=function(t){return 1===t?s:r(t-1)};var a=e(t,i,s.propertyGroup),o=n(t.it[t.it.length-1],i.it[i.it.length-1],s.propertyGroup);return s.content=a,s.transform=o,Object.defineProperty(s,"_name",{get:function(){return t.nm}}),s.numProperties=t.np,s.propertyIndex=t.ix,s.nm=t.nm,s.mn=t.mn,s}function r(t,e,i){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:void 0}return Object.defineProperties(r,{color:{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}},opacity:{get:function(){return ExpressionValue(e.o,100)}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(i),e.o.setGroupProperty(i),r}function s(t,e,i){function r(t){return 1===t?ob:i(t-1)}function s(t){return 1===t?l:r(t-1)}function a(i){Object.defineProperty(l,t.d[i].nm,{get:function(){return ExpressionValue(e.d.dataProps[i].p)}})}function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:"Stroke Width"===t||"stroke width"===t?n.strokeWidth:void 0}var o,h=t.d?t.d.length:0,l={};for(o=0;o<h;o+=1)a(o),e.d.dataProps[o].p.setGroupProperty(s);return Object.defineProperties(n,{color:{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}},opacity:{get:function(){return ExpressionValue(e.o,100)}},strokeWidth:{get:function(){return ExpressionValue(e.w)}},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),e.w.setGroupProperty(r),n}function a(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return e===t.e.ix||"End"===e||"end"===e?s.end:e===t.s.ix?s.start:e===t.o.ix?s.offset:void 0}return s.propertyIndex=t.ix,e.s.setGroupProperty(r),e.e.setGroupProperty(r),e.o.setGroupProperty(r),s.propertyIndex=t.ix,Object.defineProperties(s,{start:{get:function(){return ExpressionValue(e.s,1/e.s.mult)}},end:{get:function(){return ExpressionValue(e.e,1/e.e.mult)}},offset:{get:function(){return ExpressionValue(e.o)}},_name:{value:t.nm}}),s.mn=t.mn,s}function n(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return t.a.ix===e||"Anchor Point"===e?s.anchorPoint:t.o.ix===e||"Opacity"===e?s.opacity:t.p.ix===e||"Position"===e?s.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?s.rotation:t.s.ix===e||"Scale"===e?s.scale:t.sk&&t.sk.ix===e||"Skew"===e?s.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?s.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(r),e.transform.mProps.p.setGroupProperty(r),e.transform.mProps.a.setGroupProperty(r),e.transform.mProps.s.setGroupProperty(r),e.transform.mProps.r.setGroupProperty(r),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(r),e.transform.mProps.sa.setGroupProperty(r)),e.transform.op.setGroupProperty(r),Object.defineProperties(s,{opacity:{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}},position:{get:function(){return ExpressionValue(e.transform.mProps.p)}},anchorPoint:{get:function(){return ExpressionValue(e.transform.mProps.a)}},scale:{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}},rotation:{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}},skew:{get:function(){return ExpressionValue(e.transform.mProps.sk)}},skewAxis:{get:function(){return ExpressionValue(e.transform.mProps.sa)}},_name:{value:t.nm}}),s.ty="tr",s.mn=t.mn,s}function o(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:void 0}s.propertyIndex=t.ix;var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.s.setGroupProperty(r),a.p.setGroupProperty(r),Object.defineProperties(s,{size:{get:function(){return ExpressionValue(a.s)}},position:{get:function(){return ExpressionValue(a.p)}},_name:{value:t.nm}}),s.mn=t.mn,s}function h(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:void 0:s.innerRadius}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return s.propertyIndex=t.ix,a.or.setGroupProperty(r),a.os.setGroupProperty(r),a.pt.setGroupProperty(r),a.p.setGroupProperty(r),a.r.setGroupProperty(r),t.ir&&(a.ir.setGroupProperty(r),a.is.setGroupProperty(r)),Object.defineProperties(s,{position:{get:function(){return ExpressionValue(a.p)}},rotation:{get:function(){return ExpressionValue(a.r,1/a.r.mult)}},points:{get:function(){return ExpressionValue(a.pt)}},outerRadius:{get:function(){return ExpressionValue(a.or)}},outerRoundness:{get:function(){return ExpressionValue(a.os)}},innerRadius:{get:function(){return a.ir?ExpressionValue(a.ir):0}},innerRoundness:{get:function(){return a.is?ExpressionValue(a.is,1/a.is.mult):0}},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:void 0}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return s.propertyIndex=t.ix,a.p.setGroupProperty(r),a.s.setGroupProperty(r),a.r.setGroupProperty(r),Object.defineProperties(s,{position:{get:function(){return ExpressionValue(a.p)}},roundness:{get:function(){return ExpressionValue(a.r)}},size:{get:function(){return ExpressionValue(a.s)}},_name:{value:t.nm}}),s.mn=t.mn,s}function p(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){if(t.r.ix===e||"Round Corners 1"===e)return s.radius}var a=e;return s.propertyIndex=t.ix,a.rd.setGroupProperty(r),Object.defineProperties(s,{radius:{get:function(){return ExpressionValue(a.rd)}},_name:{value:t.nm}}),s.mn=t.mn,s}function m(t,e,i){function r(t){return 1==t?s:i(--t)}function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:void 0}var a=e;return s.propertyIndex=t.ix,a.c.setGroupProperty(r),a.o.setGroupProperty(r),Object.defineProperties(s,{copies:{get:function(){return ExpressionValue(a.c)}},offset:{get:function(){return ExpressionValue(a.o)}},_name:{value:t.nm}}),s.mn=t.mn,s}function f(t,e,i){function r(t){return 1==t?s:i(--t)}function s(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return s.path}var a=e.sh;return a.setGroupProperty(r),Object.defineProperties(s,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:t.nm},ix:{value:t.ix},mn:{value:t.mn}}),s}return function(e,i,r){function s(t){if("number"==typeof t)return a[t-1];for(var e=0,i=a.length;e<i;){if(a[e]._name===t)return a[e];e+=1}}var a;return s.propertyGroup=r,a=t(e,i,s),s}}(),TextExpressionInterface=function(){return function(t){function e(){}var i,r;return Object.defineProperty(e,"sourceText",{get:function(){var e=t.textProperty.currentData.t;return e!==i&&(t.textProperty.currentData.t=i,r=new String(e),r.value=e?e:new String(e)),r}}),e}}(),LayerExpressionInterface=function(){function t(t,e){var i=new Matrix;i.reset();var r;if(r=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,r.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var s,a=this._elem.hierarchy.length;for(s=0;s<a;s+=1)this._elem.hierarchy[s].finalTransform.mProp.applyToMatrix(i);return i.applyToPointArray(t[0],t[1],t[2]||0)}return i.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var i=new Matrix;i.reset();var r;if(r=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,r.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var s,a=this._elem.hierarchy.length;for(s=0;s<a;s+=1)this._elem.hierarchy[s].finalTransform.mProp.applyToMatrix(i);return i.inversePoint(t)}return i.inversePoint(t)}function i(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function r(){return[1,1,1,1]}return function(s){function a(t){o.mask=new MaskManagerInterface(t,s)}function n(t){o.effect=t}function o(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":return o.effect}}var h;o.toWorld=t,o.fromWorld=e,o.toComp=t,o.fromComp=i,o.sampleImage=r,o.sourceRectAtTime=s.sourceRectAtTime.bind(s),o._elem=s,h=TransformExpressionInterface(s.finalTransform.mProp);var l=getDescriptor(h,"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return s.hierarchy.length}},parent:{get:function(){return s.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:l,anchor_point:l,transform:{get:function(){return h}},active:{get:function(){return s.isInRange}}}),o.startTime=s.data.st,o.index=s.data.ind,o.source=s.data.refId,o.height=0===s.data.ty?s.data.h:100,o.width=0===s.data.ty?s.data.w:100,o.inPoint=s.data.ip/s.comp.globalData.frameRate,o.outPoint=s.data.op/s.comp.globalData.frameRate,o._name=s.data.nm,o.registerMaskInterface=a,o.registerEffectsInterface=n,o}}(),CompExpressionInterface=function(){return function(t){function e(e){for(var i=0,r=t.layers.length;i<r;){if(t.layers[i].nm===e||t.layers[i].ind===e)return t.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.numLayers=t.layers.length,e}}(),TransformExpressionInterface=function(){return function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}return Object.defineProperty(e,"rotation",{get:function(){return t.r?ExpressionValue(t.r,1/degToRads):ExpressionValue(t.rz,1/degToRads)}}),Object.defineProperty(e,"xRotation",{get:function(){return ExpressionValue(t.rx,1/degToRads)}}),Object.defineProperty(e,"yRotation",{get:function(){return ExpressionValue(t.ry,1/degToRads)}}),Object.defineProperty(e,"scale",{get:function(){return ExpressionValue(t.s,100)}}),Object.defineProperty(e,"position",{get:function(){return t.p?ExpressionValue(t.p):[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:function(){return ExpressionValue(t.px)}}),Object.defineProperty(e,"yPosition",{get:function(){return ExpressionValue(t.py)}}),Object.defineProperty(e,"zPosition",{get:function(){return ExpressionValue(t.pz)}}),Object.defineProperty(e,"anchorPoint",{get:function(){return ExpressionValue(t.a)}}),Object.defineProperty(e,"opacity",{get:function(){return ExpressionValue(t.o,100)}}),Object.defineProperty(e,"skew",{get:function(){return ExpressionValue(t.sk)}}),Object.defineProperty(e,"skewAxis",{get:function(){return ExpressionValue(t.sa)}}),Object.defineProperty(e,"orientation",{get:function(){return ExpressionValue(t.or)}}),e}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(t,i){if(t.effectsManager){var r,s=[],a=t.data.ef,n=t.effectsManager.effectElements.length;for(r=0;r<n;r+=1)s.push(e(a[r],t.effectsManager.effectElements[r],i,t));return function(e){for(var i=t.data.ef||[],r=0,a=i.length;r<a;){if(e===i[r].nm||e===i[r].mn||e===i[r].ix)return s[r];r+=1}}}}function e(t,r,s,a){function n(t){return 1===t?p:s(t-1)}var o,h=[],l=t.ef.length;for(o=0;o<l;o+=1)5===t.ef[o].ty?h.push(e(t.ef[o],r.effectElements[o],r.effectElements[o].propertyGroup,a)):h.push(i(r.effectElements[o],t.ef[o].ty,a,n));var p=function(e){for(var i=t.ef,r=0,s=i.length;r<s;){if(e===i[r].nm||e===i[r].mn||e===i[r].ix)return 5===i[r].ty?h[r]:h[r]();r+=1}return h[0]()};return p.propertyGroup=n,"ADBE Color Control"===t.mn&&Object.defineProperty(p,"color",{get:function(){return h[0]()}}),Object.defineProperty(p,"numProperties",{get:function(){return t.np}}),p.active=0!==t.en,p}function i(t,e,i,r){function s(){return 10===e?i.comp.compInterface(t.p.v):ExpressionValue(t.p)}return t.p.setGroupProperty&&t.p.setGroupProperty(r),s}var r={createEffectsInterface:t};return r}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});var e=function(e,i){var r,s=createSizedArray(e.viewData.length),a=e.viewData.length;for(r=0;r<a;r+=1)s[r]=new t(e.viewData[r],e.masksProperties[r]);var n=function(t){for(r=0;r<a;){if(e.masksProperties[r].nm===t)return s[r];r+=1}};return n};return e}(),ExpressionValue=function(){return function(t,e,i){e=e||1;var r;t.k&&t.getValue();var s,a,n,o;if(i){if("color"===i){for(a=4,r=createTypedArray("float32",a),n=createTypedArray("float32",a),s=0;s<a;s+=1)r[s]=n[s]=s<3?t.v[s]*e:1;r.value=n}}else if("unidimensional"===t.propType)o=t.v*e,r=new Number(o),r.value=o;else{for(a=t.pv.length,r=createTypedArray("float32",a),n=createTypedArray("float32",a),s=0;s<a;s+=1)r[s]=n[s]=t.v[s]*e;r.value=n}return r.numKeys=t.keyframes?t.keyframes.length:0,r.key=function(e){return r.numKeys?t.keyframes[e-1].t:0},r.valueAtTime=t.getValueAtTime,r.speedAtTime=t.getSpeedAtTime,r.velocityAtTime=t.getVelocityAtTime,r.propertyGroup=t.propertyGroup,r}}();extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,r,s=this.data.ef.length,a=this.data.ef;for(i=0;i<s;i+=1){switch(r=null,a[i].ty){case 0:r=new SliderEffect(a[i],e,this);break;case 1:r=new AngleEffect(a[i],e,this);break;case 2:r=new ColorEffect(a[i],e,this);break;case 3:r=new PointEffect(a[i],e,this);break;case 4:case 7:r=new CheckboxEffect(a[i],e,this);break;case 10:r=new LayerIndexEffect(a[i],e,this);break;case 11:r=new MaskIndexEffect(a[i],e,this);break;case 5:r=new EffectsManager(a[i],e,this);break;default:r=new NoValueEffect(a[i],e,this)}r&&this.effectElements.push(r)}};var lottiejs={},_isFrozen=!1;lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.3.4";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IMask=e()}(this,function(){"use strict";var t=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},e={}.hasOwnProperty,n=function(t,n){return e.call(t,n)},u={}.toString,i=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return u.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},r=function(e){return i(t(e))},a=Math.ceil,s=Math.floor,o=function(t){return isNaN(t=+t)?0:(t>0?s:a)(t)},l=Math.min,h=function(t){return t>0?l(o(t),9007199254740991):0},c=Math.max,f=Math.min;function p(t,e){return t(e={exports:{}},e.exports),e.exports}var d,v,k=p(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=k["__core-js_shared__"]||(k["__core-js_shared__"]={}),y=0,_=Math.random(),m=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++y+_).toString(36))},A=g[d="keys"]||(g[d]={}),C=(v=!1,function(t,e,n){var u,i=r(t),a=h(i.length),s=function(t,e){return(t=o(t))<0?c(t+e,0):f(t,e)}(n,a);if(v&&e!=e){for(;a>s;)if((u=i[s++])!=u)return!0}else for(;a>s;s++)if((v||s in i)&&i[s]===e)return v||s||0;return!v&&-1}),E=function(t){return A[t]||(A[t]=m(t))}("IE_PROTO"),F="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),b=Object.keys||function(t){return function(t,e){var u,i=r(t),a=0,s=[];for(u in i)u!=E&&n(i,u)&&s.push(u);for(;e.length>a;)n(i,u=e[a++])&&(~C(s,u)||s.push(u));return s}(t,F)},B=p(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),D=(B.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),S=function(t){if(!D(t))throw TypeError(t+" is not an object!");return t},T=function(t){try{return!!t()}catch(t){return!0}},w=!T(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),x=k.document,P=D(x)&&D(x.createElement),M=!w&&!T(function(){return 7!=Object.defineProperty((t="div",P?x.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),O=Object.defineProperty,I={f:w?Object.defineProperty:function(t,e,n){if(S(t),e=function(t,e){if(!D(t))return t;var n,u;if(e&&"function"==typeof(n=t.toString)&&!D(u=n.call(t)))return u;if("function"==typeof(n=t.valueOf)&&!D(u=n.call(t)))return u;if(!e&&"function"==typeof(n=t.toString)&&!D(u=n.call(t)))return u;throw TypeError("Can't convert object to primitive value")}(e,!0),S(n),M)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},R=w?function(t,e,n){return I.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},V=p(function(t){var e=m("src"),u=Function.toString,i=(""+u).split("toString");B.inspectSource=function(t){return u.call(t)},(t.exports=function(t,u,r,a){var s="function"==typeof r;s&&(n(r,"name")||R(r,"name",u)),t[u]!==r&&(s&&(n(r,e)||R(r,e,t[u]?""+t[u]:i.join(String(u)))),t===k?t[u]=r:a?t[u]?t[u]=r:R(t,u,r):(delete t[u],R(t,u,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||u.call(this)})}),j=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,u){return t.call(e,n,u)};case 3:return function(n,u,i){return t.call(e,n,u,i)}}return function(){return t.apply(e,arguments)}},N=function(t,e,n){var u,i,r,a,s=t&N.F,o=t&N.G,l=t&N.S,h=t&N.P,c=t&N.B,f=o?k:l?k[e]||(k[e]={}):(k[e]||{}).prototype,p=o?B:B[e]||(B[e]={}),d=p.prototype||(p.prototype={});for(u in o&&(n=e),n)r=((i=!s&&f&&void 0!==f[u])?f:n)[u],a=c&&i?j(r,k):h&&"function"==typeof r?j(Function.call,r):r,f&&V(f,u,r,t&N.U),p[u]!=r&&R(p,u,a),h&&d[u]!=r&&(d[u]=r)};k.core=B,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128;var L,H,G,U,z=N;L="keys",H=function(){return function(e){return b(function(e){return Object(t(e))}(e))}},G=(B.Object||{})[L]||Object[L],(U={})[L]=H(G),z(z.S+z.F*T(function(){G(1)}),"Object",U);B.Object.keys;var Y=function(e){var n=String(t(this)),u="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(u+=n);return u};z(z.P,"String",{repeat:Y});B.String.repeat;var Z=function(e,n,u,i){var r=String(t(e)),a=r.length,s=void 0===u?" ":String(u),o=h(n);if(o<=a||""==s)return r;var l=o-a,c=Y.call(s,Math.ceil(l/s.length));return c.length>l&&(c=c.slice(0,l)),i?c+r:r+c},$=k.navigator,K=$&&$.userAgent||"";z(z.P+z.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(K),"String",{padStart:function(t){return Z(this,t,arguments.length>1?arguments[1]:void 0,!0)}});B.String.padStart;z(z.P+z.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(K),"String",{padEnd:function(t){return Z(this,t,arguments.length>1?arguments[1]:void 0,!1)}});B.String.padEnd;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Q(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(){return(tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t}).apply(this,arguments)}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},u=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),u.forEach(function(e){X(t,e,n[e])})}return t}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t,e){if(null==t)return{};var n,u,i=function(t,e){if(null==t)return{};var n,u,i={},r=Object.keys(t);for(u=0;u<r.length;u++)n=r[u],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(u=0;u<r.length;u++)n=r[u],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function at(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}function ot(t,e,n){return(ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=st(t,e);if(u){var i=Object.getOwnPropertyDescriptor(u,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function lt(t,e,n,u){return(lt="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,u){var i,r=st(t,e);if(r){if((i=Object.getOwnPropertyDescriptor(r,e)).set)return i.set.call(u,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(u,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(u,e,i)}else X(u,e,n);return!0})(t,e,n,u)}function ht(t,e,n,u,i){if(!lt(t,e,n,u||t)&&i)throw new Error("failed to set property");return n}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],u=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(u=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);u=!0);}catch(t){i=!0,r=t}finally{try{u||null==s.return||s.return()}finally{if(i)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function pt(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var dt="undefined"!=typeof window&&window||"undefined"!=typeof global&&global.global===global&&global||"undefined"!=typeof self&&self.self===self&&self||{},vt=function(){function t(e,n,u,i){for(q(this,t),this.value=e,this.cursorPos=n,this.oldValue=u,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Q(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?ft.NONE:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?ft.RIGHT:ft.LEFT}}]),t}(),kt=function(){function t(e){q(this,t),tt(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return Q(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}(),gt=function(){function t(e){q(this,t),this._value="",this._update(e),this.isInitialized=!0}return Q(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){tt(this,t)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},{value:""}),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(t,e){return t}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e)}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return{value:this.extractInput(t,e)}}},{key:"_storeBeforeTailState",value:function(){this._beforeTailState=this.state}},{key:"_restoreBeforeTailState",value:function(){this.state=this._beforeTailState}},{key:"_resetBeforeTailState",value:function(){this._beforeTailState=null}},{key:"appendTail",value:function(t){return this.append(t?t.value:"",{tail:!0})}},{key:"_appendCharRaw",value:function(t){return this._value+=t,new kt({inserted:t,rawInserted:t})}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!(t=this.doPrepare(t,e)))return new kt;var u=this.state,i=this._appendCharRaw(t,e);if(i.inserted){var r=!1!==this.doValidate(e);if(r&&null!=n){this._storeBeforeTailState();var a=this.appendTail(n);(r=a.rawInserted===n.value)&&a.inserted&&this._restoreBeforeTailState()}r||(i.rawInserted=i.inserted="",this.state=u)}return i}},{key:"append",value:function(t,e,n){this.value.length;for(var u=new kt,i=0;i<t.length;++i)u.aggregate(this._appendChar(t[i],e,n));return null!=n&&(this._storeBeforeTailState(),u.tailShift+=this.appendTail(n).tailShift),u}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new kt}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.unmaskedValue,n=this.value,u=t();return this.resolve(n)!==n&&(this.unmaskedValue=e),delete this._refreshing,u}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"splice",value:function(t,e,n,u){var i=t+e,r=this.extractTail(i),a=this.nearestInputPos(t,u);return new kt({tailShift:a-t}).aggregate(this.remove(a)).aggregate(this.append(n,{input:!0},r))}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},{value:""}),this.doCommit()}},{key:"typedValue",get:function(){return this.unmaskedValue},set:function(t){this.unmaskedValue=t}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},{value:""}),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),t}();function yt(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?dt.IMask.MaskedRegExp:"string"==typeof(e=t)||e instanceof String?dt.IMask.MaskedPattern:t instanceof Date||t===Date?dt.IMask.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?dt.IMask.MaskedNumber:Array.isArray(t)||t===Array?dt.IMask.MaskedDynamic:t.prototype instanceof dt.IMask.Masked?t:t instanceof Function?dt.IMask.MaskedFunction:(console.warn("Mask not found for mask",t),dt.IMask.Masked);var e}function _t(t){var e=(t=et({},t)).mask;return e instanceof dt.IMask.Masked?e:new(yt(e))(t)}var mt={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},At=function(){function t(e){q(this,t);var n=e.mask,u=rt(e,["mask"]);this.masked=_t({mask:n}),tt(this,u)}return Q(t,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this._isFilled=!1,this.masked.remove(t,e)):new kt}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new kt;var n=this.masked.state,u=this.masked._appendChar(t,e);return u.inserted&&!1===this.doValidate(e)&&(u.inserted=u.rawInserted="",this.masked.state=n),u.inserted||this.isOptional||this.lazy||e.input||(u.inserted=this.placeholderChar),u.skip=!u.inserted&&!this.isOptional,this._isFilled=Boolean(u.inserted),u}},{key:"_appendPlaceholder",value:function(){var t=new kt;return this._isFilled||this.isOptional?t:(this._isFilled=!0,t.inserted=this.placeholderChar,t)}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,n)}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.NONE,n=this.value.length,u=Math.min(Math.max(t,0),n);switch(e){case ft.LEFT:case ft.FORCE_LEFT:return this.isComplete?u:0;case ft.RIGHT:case ft.FORCE_RIGHT:return this.isComplete?u:n;case ft.NONE:default:return u}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),t}(),Ct=function(){function t(e){q(this,t),tt(this,e),this._value=""}return Q(t,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new kt}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.NONE,n=this._value.length;switch(e){case ft.LEFT:case ft.FORCE_LEFT:return 0;case ft.NONE:case ft.RIGHT:case ft.FORCE_RIGHT:default:return n}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(t,e)||""}},{key:"_appendChar",value:function(t,e){var n=new kt;if(this._value)return n;var u=this.char===t[0]&&(this.isUnmasking||e.input||e.raw)&&!e.tail;return u&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=u&&(e.raw||e.input),n}},{key:"_appendPlaceholder",value:function(){var t=new kt;return this._value?t:(this._value=t.inserted=this.char,t)}},{key:"extractTail",value:function(){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return{value:""}}},{key:"appendTail",value:function(t){return this._appendChar(t?t.value:"",{tail:!0})}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){tt(this,t)}}]),t}(),Et=function(){function t(e){q(this,t),this.chunks=e}return Q(t,[{key:"value",get:function(){return this.chunks.map(function(t){return t.value}).join("")}}]),t}(),Ft=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return q(this,e),t.definitions=tt({},mt,t.definitions),at(this,ut(e).call(this,et({},e.DEFAULTS,t)))}return nt(e,gt),Q(e,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=tt({},this.definitions,t.definitions),ot(ut(e.prototype),"_update",this).call(this,t),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var t=this,n=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var u=this.mask;if(u&&n)for(var i=!1,r=!1,a=0;a<u.length;++a){if(this.blocks)if("continue"===function(){var e=u.slice(a),n=Object.keys(t.blocks).filter(function(t){return 0===e.indexOf(t)});n.sort(function(t,e){return e.length-t.length});var i=n[0];if(i){var r=_t(et({parent:t,lazy:t.lazy,placeholderChar:t.placeholderChar},t.blocks[i]));return r&&(t._blocks.push(r),t._maskedBlocks[i]||(t._maskedBlocks[i]=[]),t._maskedBlocks[i].push(t._blocks.length-1)),a+=i.length-1,"continue"}}())continue;var s=u[a],o=s in n;if(s!==e.STOP_CHAR)if("{"!==s&&"}"!==s)if("["!==s&&"]"!==s){if(s===e.ESCAPE_CHAR){if(!(s=u[++a]))break;o=!1}var l=void 0;l=o?new At({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:n[s],isOptional:r}):new Ct({char:s,isUnmasking:i}),this._blocks.push(l)}else r=!r;else i=!i;else this._stops.push(this._blocks.length)}}},{key:"_storeBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._storeBeforeTailState&&t._storeBeforeTailState()}),ot(ut(e.prototype),"_storeBeforeTailState",this).call(this)}},{key:"_restoreBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._restoreBeforeTailState&&t._restoreBeforeTailState()}),ot(ut(e.prototype),"_restoreBeforeTailState",this).call(this)}},{key:"_resetBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._resetBeforeTailState&&t._resetBeforeTailState()}),ot(ut(e.prototype),"_resetBeforeTailState",this).call(this)}},{key:"reset",value:function(){ot(ut(e.prototype),"reset",this).call(this),this._blocks.forEach(function(t){return t.reset()})}},{key:"doCommit",value:function(){this._blocks.forEach(function(t){return t.doCommit()}),ot(ut(e.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(t){var n=new kt;return t&&n.aggregate(t instanceof Et?this._appendTailChunks(t.chunks):ot(ut(e.prototype),"appendTail",this).call(this,t)),n.aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._mapPosToBlock(this.value.length),u=new kt;if(!n)return u;for(var i=n.index;;++i){var r=this._blocks[i];if(!r)break;var a=r._appendChar(t,e),s=a.skip;if(u.aggregate(a),s||a.rawInserted)break}return u}},{key:"_appendTailChunks",value:function(t){for(var e=new kt,n=0;n<t.length&&!e.skip;++n){var u=t[n],i=this._mapPosToBlock(this.value.length),r=u instanceof Et&&null!=u.index&&(!i||i.index<=u.index)&&this._blocks[u.index];if(r){e.aggregate(this._appendPlaceholder(u.index));var a=r.appendTail(u);a.skip=!1,e.aggregate(a),this._value+=a.inserted;var s=u.value.slice(a.rawInserted.length);s&&e.aggregate(this.append(s,{tail:!0}))}else{var o=u,l=o.stop,h=o.value;null!=l&&this._stops.indexOf(l)>=0&&e.aggregate(this._appendPlaceholder(l)),e.aggregate(this.append(h,{tail:!0}))}}return e}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new Et(this._extractTailChunks(t,e))}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return"";var u="";return this._forEachBlocksInRange(t,e,function(t,e,i,r){u+=t.extractInput(i,r,n)}),u}},{key:"_extractTailChunks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;if(e===n)return[];var u,i=[];return this._forEachBlocksInRange(e,n,function(e,n,r,a){for(var s,o=e.extractTail(r,a),l=0;l<t._stops.length;++l){var h=t._stops[l];if(!(h<=n))break;s=h}if(o instanceof Et){if(null==s){for(var c=o.chunks.length,f=0;f<o.chunks.length;++f)if(null!=o.chunks[f].stop){c=f;break}o.chunks.splice(0,c).filter(function(t){return t.value}).forEach(function(t){u?u.value+=t.value:u={value:t.value}})}o.chunks.length&&(u&&i.push(u),o.index=s,i.push(o),u=null)}else{if(null!=s)u&&i.push(u),o.stop=s;else if(u)return void(u.value+=o.value);u=o}}),u&&u.value&&i.push(u),i}},{key:"_appendPlaceholder",value:function(t){var e=this,n=new kt;if(this.lazy&&null==t)return n;var u=this._mapPosToBlock(this.value.length);if(!u)return n;var i=u.index,r=null!=t?t:this._blocks.length;return this._blocks.slice(i,r).forEach(function(t){if("function"==typeof t._appendPlaceholder){var u=null!=t._blocks?[t._blocks.length]:[],i=t._appendPlaceholder.apply(t,u);e._value+=i.inserted,n.aggregate(i)}}),n}},{key:"_mapPosToBlock",value:function(t){for(var e="",n=0;n<this._blocks.length;++n){var u=this._blocks[n],i=e.length;if(t<=(e+=u.value).length)return{index:n,offset:t-i}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce(function(t,e){return t+e.value.length},0)}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,u=this._mapPosToBlock(t);if(u){var i=this._mapPosToBlock(e),r=i&&u.index===i.index,a=u.offset,s=i&&r?i.offset:void 0;if(n(this._blocks[u.index],u.index,a,s),i&&!r){for(var o=u.index+1;o<i.index;++o)n(this._blocks[o],o);n(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,u=ot(ut(e.prototype),"remove",this).call(this,t,n);return this._forEachBlocksInRange(t,n,function(t,e,n,i){u.aggregate(t.remove(n,i))}),u}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.NONE,n=this._mapPosToBlock(t)||{index:0,offset:0},u=n.offset,i=n.index,r=this._blocks[i];if(!r)return t;var a=u;0!==a&&a<r.value.length&&(a=r.nearestInputPos(u,function(t){switch(t){case ft.LEFT:return ft.FORCE_LEFT;case ft.RIGHT:return ft.FORCE_RIGHT;default:return t}}(e)));var s=a===r.value.length;if(!(0===a)&&!s)return this._blockStartPos(i)+a;var o=s?i+1:i;if(e===ft.NONE){if(o>0){var l=o-1,h=this._blocks[l],c=h.nearestInputPos(0,ft.NONE);if(!h.value.length||c!==h.value.length)return this._blockStartPos(o)}for(var f=o;f<this._blocks.length;++f){var p=this._blocks[f],d=p.nearestInputPos(0,ft.NONE);if(d!==p.value.length)return this._blockStartPos(f)+d}return this.value.length}if(e===ft.LEFT||e===ft.FORCE_LEFT){for(var v,k=o;k<this._blocks.length;++k)if(this._blocks[k].value){v=k;break}if(null!=v){var g=this._blocks[v],y=g.nearestInputPos(0,ft.RIGHT);if(0===y&&g.unmaskedValue.length)return this._blockStartPos(v)+y}for(var _,m=-1,A=o-1;A>=0;--A){var C=this._blocks[A],E=C.nearestInputPos(C.value.length,ft.FORCE_LEFT);if(null!=_||C.value&&0===E||(_=A),0!==E){if(E!==C.value.length)return this._blockStartPos(A)+E;m=A;break}}if(e===ft.LEFT)for(var F=m+1;F<=Math.min(o,this._blocks.length-1);++F){var b=this._blocks[F],B=b.nearestInputPos(0,ft.NONE),D=this._blockStartPos(F)+B;if((!b.value.length&&D===this.value.length||B!==b.value.length)&&D<=t)return D}if(m>=0)return this._blockStartPos(m)+this._blocks[m].value.length;if(e===ft.FORCE_LEFT||this.lazy&&!this.extractInput()&&!function(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,ft.NONE)!==e.length}(this._blocks[o]))return 0;if(null!=_)return this._blockStartPos(_);for(var S=o;S<this._blocks.length;++S){var T=this._blocks[S],w=T.nearestInputPos(0,ft.NONE);if(!T.value.length||w!==T.value.length)return this._blockStartPos(S)+w}return 0}if(e===ft.RIGHT||e===ft.FORCE_RIGHT){for(var x,P,M=o;M<this._blocks.length;++M){var O=this._blocks[M],I=O.nearestInputPos(0,ft.NONE);if(I!==O.value.length){P=this._blockStartPos(M)+I,x=M;break}}if(null!=x&&null!=P){for(var R=x;R<this._blocks.length;++R){var V=this._blocks[R],j=V.nearestInputPos(0,ft.FORCE_RIGHT);if(j!==V.value.length)return this._blockStartPos(R)+j}return e===ft.FORCE_RIGHT?this.value.length:P}for(var N=Math.min(o,this._blocks.length-1);N>=0;--N){var L=this._blocks[N],H=L.nearestInputPos(L.value.length,ft.LEFT);if(0!==H){var G=this._blockStartPos(N)+H;if(G>=t)return G;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,n=this._maskedBlocks[t];return n?n.map(function(t){return e._blocks[t]}):[]}},{key:"state",get:function(){return et({},ot(ut(e.prototype),"state",this),{_blocks:this._blocks.map(function(t){return t.state})})},set:function(t){var n=t._blocks,u=rt(t,["_blocks"]);this._blocks.forEach(function(t,e){return t.state=n[e]}),ht(ut(e.prototype),"state",u,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every(function(t){return t.isComplete})}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(t,e){return t+e.unmaskedValue},"")},set:function(t){ht(ut(e.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(t,e){return t+e.value},"")},set:function(t){ht(ut(e.prototype),"value",t,this,!0)}}]),e}();Ft.DEFAULTS={lazy:!0,placeholderChar:"_"},Ft.STOP_CHAR="`",Ft.ESCAPE_CHAR="\\",Ft.InputDefinition=At,Ft.FixedDefinition=Ct;var bt=function(t){function e(){return q(this,e),at(this,ut(e).apply(this,arguments))}return nt(e,Ft),Q(e,[{key:"_update",value:function(t){t=et({to:this.to||0,from:this.from||0},t);var n=String(t.to).length;null!=t.maxLength&&(n=Math.max(n,t.maxLength)),t.maxLength=n;for(var u=String(t.to).padStart(n,"0"),i=String(t.from).padStart(n,"0"),r=0;r<u.length&&u[r]===i[r];)++r;t.mask=u.slice(0,r).replace(/0/g,"\\0")+"0".repeat(n-r),ot(ut(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){var t,n=this.value,u="",i="",r=ct(n.match(/^(\D*)(\d*)(\D*)/)||[],3),a=r[1],s=r[2];if(s&&(u="0".repeat(a.length)+s,i="9".repeat(a.length)+s),-1===n.search(/[^0]/)&&n.length<=this._matchFrom)return!0;u=u.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9");for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return this.from<=Number(i)&&Number(u)<=this.to&&(t=ot(ut(e.prototype),"doValidate",this)).call.apply(t,[this].concat(l))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return ot(ut(e.prototype),"isComplete",this)&&Boolean(this.value)}}]),e}(),Bt=function(t){function e(t){return q(this,e),at(this,ut(e).call(this,et({},e.DEFAULTS,t)))}return nt(e,Ft),Q(e,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern,delete t.pattern);var n=t.blocks;t.blocks=tt({},e.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),tt(t.blocks,n),ot(ut(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,n=this.date,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return(t=ot(ut(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.isComplete||this.isDateExist(this.value)&&null!=n&&(null==this.min||this.min<=n)&&(null==this.max||n<=this.max))}},{key:"isDateExist",value:function(t){return this.format(this.parse(t))===t}},{key:"date",get:function(){return this.isComplete?this.parse(this.value):null},set:function(t){this.value=this.format(t)}},{key:"typedValue",get:function(){return this.date},set:function(t){this.date=t}}]),e}();Bt.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=ct(t.split("."),3),n=e[0],u=e[1],i=e[2];return new Date(i,u-1,n)}},Bt.GET_DEFAULT_BLOCKS=function(){return{d:{mask:bt,from:1,to:31,maxLength:2},m:{mask:bt,from:1,to:12,maxLength:2},Y:{mask:bt,from:1900,to:9999}}};var Dt=function(){function t(){q(this,t)}return Q(t,[{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(t){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(t){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(t){}return null!=t?t:this.value.length}},{key:"isActive",get:function(){return!1}}]),t}(),St=function(t){function e(t){var n;return q(this,e),(n=at(this,ut(e).call(this))).input=t,n._handlers={},n}return nt(e,Dt),Q(e,[{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"bindEvents",value:function(t){var n=this;Object.keys(t).forEach(function(u){return n._toggleEventHandler(e.EVENTS_MAP[u],t[u])})}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach(function(e){return t._toggleEventHandler(e)})}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}},{key:"isActive",get:function(){return this.input===document.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}]),e}();St.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"change"};var Tt=function(){function t(e,n){q(this,t),this.el=e instanceof Dt?e:new St(e),this.masked=_t(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Q(t,[{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this.alignCursorFriendly,focus:this.alignCursorFriendly,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){var e=this._listeners[t];e&&e.forEach(function(t){return t()})}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,n=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){if(!function t(e,n){if(n===e)return!0;var u,i=Array.isArray(n),r=Array.isArray(e);if(i&&r){if(n.length!=e.length)return!1;for(u=0;u<n.length;u++)if(!t(n[u],e[u]))return!1;return!0}if(i!=r)return!1;if(n&&e&&"object"===W(n)&&"object"===W(e)){var a=n instanceof Date,s=e instanceof Date;if(a&&s)return n.getTime()==e.getTime();if(a!=s)return!1;var o=n instanceof RegExp,l=e instanceof RegExp;if(o&&l)return n.toString()==e.toString();if(o!=l)return!1;var h=Object.keys(n);for(u=0;u<h.length;u++)if(!Object.prototype.hasOwnProperty.call(e,h[u]))return!1;for(u=0;u<h.length;u++)if(!t(e[h[u]],n[h[u]]))return!1;return!0}return!1}(this.masked,t)){var e=t.mask,n=rt(t,["mask"]);this.mask=e,this.masked.updateOptions(n),this.updateControl()}}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept"),this.masked.isComplete&&this._fireEvent("complete")}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,ft.LEFT)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(this._listeners[t]){if(e){var n=this._listeners[t].indexOf(e);return n>=0&&this._listeners[t].splice(n,1),this}delete this._listeners[t]}}},{key:"_onInput",value:function(){if(this._abortUpdateCursor(),!this._selection)return this.updateValue();var t=new vt(this.el.value,this.cursorPos,this.value,this._selection),e=this.masked.rawInputValue,n=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection).offset,u=e===this.masked.rawInputValue?t.removeDirection:ft.NONE,i=this.masked.nearestInputPos(t.startChangePos+n,u);this.updateControl(),this.updateCursor(i)}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(t){if(!(null==t||t===this.masked.mask||t===Date&&this.masked instanceof Bt))if(this.masked.constructor!==yt(t)){var e=_t({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}else this.masked.updateOptions({mask:t})}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el.isActive&&(this.el.select(t,t),this._saveSelection())}}]),t}(),wt=function(t){function e(){return q(this,e),at(this,ut(e).apply(this,arguments))}return nt(e,Ft),Q(e,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),ot(ut(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,n=this,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.enum.some(function(t){return t.indexOf(n.unmaskedValue)>=0})&&(t=ot(ut(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))}}]),e}(),xt=function(t){function e(t){return q(this,e),at(this,ut(e).call(this,et({},e.DEFAULTS,t)))}return nt(e,gt),Q(e,[{key:"_update",value:function(t){ot(ut(e.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="",e="";this.allowNegative?(t+="([+|\\-]?|([+|\\-]?(0|([1-9]+\\d*))))",e+="[+|\\-]?"):t+="(0|([1-9]+\\d*))",e+="\\d*";var n=(this.scale?"("+pt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp("^"+t+n),this._numberRegExp=new RegExp("^"+e+n),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(pt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(pt(this.thousandsSeparator),"g")}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,u=ot(ut(e.prototype),"extractTail",this).call(this,t,n);return et({},u,{value:this._removeThousandsSeparators(u.value)})}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var n,u=arguments.length,i=new Array(u>1?u-1:0),r=1;r<u;r++)i[r-1]=arguments[r];return(n=ot(ut(e.prototype),"doPrepare",this)).call.apply(n,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(i))}},{key:"_separatorsCount",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value,e=this._removeThousandsSeparators(t).length,n=e,u=0;u<=n;++u)this._value[u]===this.thousandsSeparator&&++n;return n-e}},{key:"extractInput",value:function(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return this._removeThousandsSeparators((t=ot(ut(e.prototype),"extractInput",this)).call.apply(t,[this].concat(u)))}},{key:"_appendCharRaw",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return ot(ut(e.prototype),"_appendCharRaw",this).call(this,t,n);var u=this._separatorsCount(n.tail&&this._beforeTailState?this._beforeTailState._value:this._value);this._value=this._removeThousandsSeparators(this.value);var i=ot(ut(e.prototype),"_appendCharRaw",this).call(this,t,n);this._value=this._insertThousandsSeparators(this._value);var r=this._separatorsCount(n.tail&&this._beforeTailState?this._beforeTailState._value:this._value);return i.tailShift+=r-u,i}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this.value.slice(0,t),u=this.value.slice(e),i=this._separatorsCount(n);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+u));var r=this._separatorsCount(n);return new kt({tailShift:r-i})}},{key:"nearestInputPos",value:function(t,e){if(!e||e===ft.LEFT)return t;var n=function(t,e){return e===ft.LEFT&&--t,t}(t,e);return this.value[n]===this.thousandsSeparator&&(t=function(t,e){switch(e){case ft.LEFT:case ft.FORCE_LEFT:return--t;case ft.RIGHT:case ft.FORCE_RIGHT:return++t;default:return t}}(t,e)),t}},{key:"doValidate",value:function(t){var n=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(n){var u=this.number;n=n&&!isNaN(u)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return n&&ot(ut(e.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){var t=this.number,n=t;null!=this.min&&(n=Math.max(n,this.min)),null!=this.max&&(n=Math.min(n,this.max)),n!==t&&(this.unmaskedValue=String(n));var u=this.value;this.normalizeZeros&&(u=this._normalizeZeros(u)),this.padFractionalZeros&&(u=this._padFractionalZeros(u)),this._value=this._insertThousandsSeparators(u),ot(ut(e.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,function(t,e,n,u){return e+u}),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){ht(ut(e.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"number",get:function(){return Number(this.unmaskedValue)},set:function(t){this.unmaskedValue=String(t)}},{key:"typedValue",get:function(){return this.number},set:function(t){this.number=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),e}();xt.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};var Pt=function(t){function e(){return q(this,e),at(this,ut(e).apply(this,arguments))}return nt(e,gt),Q(e,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0}),ot(ut(e.prototype),"_update",this).call(this,t)}}]),e}(),Mt=function(t){function e(){return q(this,e),at(this,ut(e).apply(this,arguments))}return nt(e,gt),Q(e,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),ot(ut(e.prototype),"_update",this).call(this,t)}}]),e}(),Ot=function(t){function e(t){var n;return q(this,e),(n=at(this,ut(e).call(this,et({},e.DEFAULTS,t)))).currentMask=null,n}return nt(e,gt),Q(e,[{key:"_update",value:function(t){ot(ut(e.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map(function(t){return _t(t)}):[])}},{key:"_appendCharRaw",value:function(){var t,e=this._applyDispatch.apply(this,arguments);this.currentMask&&e.aggregate((t=this.currentMask)._appendChar.apply(t,arguments));return e}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.tail&&this._beforeTailState?this._beforeTailState._value:this.value,u=this.rawInputValue,i=e.tail&&this._beforeTailState?this._beforeTailState._rawInputValue:u,r=u.slice(i.length),a=this.currentMask,s=new kt,o=a&&a.state,l=a&&a._beforeTailState;if(this.currentMask=this.doDispatch(t,e),this.currentMask)if(this.currentMask!==a){this.currentMask.reset();var h=this.currentMask.append(i,{raw:!0});s.tailShift=h.inserted.length-n.length,r&&(s.tailShift+=this.currentMask.append(r,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=o,this.currentMask._beforeTailState=l;return s}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e)}},{key:"doValidate",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return(t=ot(ut(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.currentMask||(n=this.currentMask).doValidate.apply(n,i))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach(function(t){return t.reset()})}},{key:"remove",value:function(){var t,e=new kt;this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch());return e}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.currentMask?(t=this.currentMask).extractTail.apply(t,i):(n=ot(ut(e.prototype),"extractTail",this)).call.apply(n,[this].concat(i))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),ot(ut(e.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,i):(n=ot(ut(e.prototype),"nearestInputPos",this)).call.apply(n,[this].concat(i))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){ht(ut(e.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){ht(ut(e.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return et({},ot(ut(e.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(t){return t.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var n=t.compiledMasks,u=t.currentMaskRef,i=t.currentMask,r=rt(t,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach(function(t,e){return t.state=n[e]}),null!=u&&(this.currentMask=u,this.currentMask.state=i),ht(ut(e.prototype),"state",r,this,!0)}}]),e}();function It(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Tt(t,e)}return Ot.DEFAULTS={dispatch:function(t,e,n){if(e.compiledMasks.length){var u=e.rawInputValue,i=e.compiledMasks.map(function(e,i){return e.rawInputValue=u,e.append(t,n),{weight:e.rawInputValue.length,index:i}});return i.sort(function(t,e){return e.weight-t.weight}),e.compiledMasks[i[0].index]}}},It.InputMask=Tt,It.Masked=gt,It.MaskedPattern=Ft,It.MaskedEnum=wt,It.MaskedRange=bt,It.MaskedNumber=xt,It.MaskedDate=Bt,It.MaskedRegExp=Pt,It.MaskedFunction=Mt,It.MaskedDynamic=Ot,It.createMask=_t,It.MaskElement=Dt,It.HTMLMaskElement=St,dt.IMask=It,It});

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('imask')) :
  typeof define === 'function' && define.amd ? define(['exports', 'imask'], factory) :
  (factory((global.VueIMask = {}),global.IMask));
}(this, (function (exports,IMask) { 'use strict';

  IMask = IMask && IMask.hasOwnProperty('default') ? IMask['default'] : IMask;

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function _objectSpread(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};
      var ownKeys = Object.keys(source);

      if (typeof Object.getOwnPropertySymbols === 'function') {
        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
          return Object.getOwnPropertyDescriptor(source, sym).enumerable;
        }));
      }

      ownKeys.forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    }

    return target;
  }

  var IMaskComponent = {
    name: 'imask-input',
    render: function render(createElement) {
      var _this = this;

      var props = {
        domProps: {
          value: this.maskRef ? this.maskRef.value : this.value
        },
        on: _objectSpread({}, this.$listeners)
      }; // if there is no mask use default input event

      if (!this.$props.mask) {
        props.on.input = function (event) {
          return _this.$emit('input', event.target.value);
        };
      } else {
        delete props.on.input;
      }

      return createElement('input', props);
    },
    mounted: function mounted() {
      if (!this.$props.mask) return;

      this._initMask();
    },
    destroyed: function destroyed() {
      this._destroyMask();
    },
    computed: {
      maskOptions: function maskOptions() {
        return this._extractOptionsFromProps(this.$props);
      }
    },
    watch: {
      '$props': {
        handler: function handler(props) {
          var maskOptions = this.maskOptions;

          if (maskOptions.mask) {
            if (this.maskRef) {
              this.maskRef.updateOptions(maskOptions);

              if ('value' in props && (props.value !== this._maskValue() || // handle cases like Number('') === 0,
              // for details see https://github.com/uNmAnNeR/imaskjs/issues/134
              typeof props.value !== 'string' && this.maskRef.value === '')) {
                this._updateValue();
              }
            } else {
              this._initMask(maskOptions);

              if (props.value !== this._maskValue()) this._onAccept();
            }
          } else {
            this._destroyMask();

            if ('value' in props) this.$el.value = props.value;
          }
        },
        deep: true
      }
    },
    methods: {
      _extractOptionsFromProps: function _extractOptionsFromProps(props) {
        props = _objectSpread({}, props); // keep only defined props

        Object.keys(props).filter(function (prop) {
          return props[prop] === undefined;
        }).forEach(function (undefinedProp) {
          delete props[undefinedProp];
        });
        delete props.value;
        delete props.unmask;
        return props;
      },
      _maskValue: function _maskValue() {
        if (this.unmask === 'typed') return this.maskRef.typedValue;
        if (this.unmask) return this.maskRef.unmaskedValue;
        return this.maskRef.value;
      },
      _updateValue: function _updateValue() {
        var value = this.value == null ? '' : this.value;
        if (this.unmask === 'typed') this.maskRef.typedValue = value;else if (this.unmask) this.maskRef.unmaskedValue = value;else this.maskRef.value = value;
      },
      _onAccept: function _onAccept() {
        var val = this._maskValue();

        this.$emit('input', val);
        this.$emit('accept', val);
      },
      _onComplete: function _onComplete() {
        this.$emit('complete', this._maskValue());
      },
      _initMask: function _initMask() {
        var maskOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.maskOptions;
        this.maskRef = new IMask(this.$el, maskOptions).on('accept', this._onAccept.bind(this)).on('complete', this._onComplete.bind(this));

        this._updateValue();
      },
      _destroyMask: function _destroyMask() {
        if (this.maskRef) {
          this.maskRef.destroy();
          delete this.maskRef;
        }
      }
    },
    props: {
      // common
      mask: {},
      value: {},
      unmask: {
        validator: function validator(value) {
          return value === 'typed' || typeof value === 'boolean';
        }
      },
      prepare: Function,
      validate: Function,
      commit: Function,
      // pattern
      placeholderChar: String,
      lazy: Boolean,
      definitions: Object,
      blocks: Object,
      // date
      pattern: String,
      format: Function,
      parse: Function,
      // number
      radix: String,
      thousandsSeparator: String,
      mapToRadix: Array,
      scale: Number,
      signed: Boolean,
      normalizeZeros: Boolean,
      padFractionalZeros: Boolean,
      min: [Number, Date],
      max: [Number, Date],
      // dynamic
      dispatch: Function
    }
  };

  var IMaskDirective = {
    name: 'imask',
    bind: function bind(el, _ref) {
      var options = _ref.value;
      if (!options) return;
      initMask(el, options);
    },
    update: function update(el, _ref2) {
      var options = _ref2.value;

      if (options) {
        if (el.maskRef) el.maskRef.updateOptions(options);else initMask(el, options);
      } else {
        destroyMask(el);
      }
    },
    unbind: function unbind(el) {
      destroyMask(el);
    }
  };

  function fireEvent(el, eventName, data) {
    var e = document.createEvent('CustomEvent');
    e.initCustomEvent(eventName, true, true, data);
    el.dispatchEvent(e);
  }

  function initMask(el, opts) {
    el.maskRef = new IMask(el, opts).on('accept', function () {
      fireEvent(el, 'accept', el.maskRef);
    }).on('complete', function () {
      fireEvent(el, 'complete', el.maskRef);
    });
  }

  function destroyMask(el) {
    if (el.maskRef) {
      el.maskRef.destroy();
      delete el.maskRef;
    }
  }

  exports.IMaskComponent = IMaskComponent;
  exports.IMaskDirective = IMaskDirective;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
Vue.component('imask-input', VueIMask.IMaskComponent);
Vue.directive('imask', VueIMask.IMaskDirective);
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vuex=e()}(this,function(){"use strict";var t=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},e="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function o(t,e){if(!t)throw new Error("[vuex] "+e)}var r=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},i={namespaced:{configurable:!0}};i.namespaced.get=function(){return!!this._rawModule.namespaced},r.prototype.addChild=function(t,e){this._children[t]=e},r.prototype.removeChild=function(t){delete this._children[t]},r.prototype.getChild=function(t){return this._children[t]},r.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},r.prototype.forEachChild=function(t){n(this._children,t)},r.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},r.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},r.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(r.prototype,i);var s=function(t){this.register([],t,!1)};s.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},s.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},s.prototype.update=function(t){!function t(e,n,o){f(e,o);n.update(o);if(o.modules)for(var r in o.modules){if(!n.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");t(e.concat(r),n.getChild(r),o.modules[r])}}([],this.root,t)},s.prototype.register=function(t,e,o){var i=this;void 0===o&&(o=!0),f(t,e);var s=new r(e,o);0===t.length?this.root=s:this.get(t.slice(0,-1)).addChild(t[t.length-1],s);e.modules&&n(e.modules,function(e,n){i.register(t.concat(n),e,o)})},s.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var a,u={assert:function(t){return"function"==typeof t},expected:"function"},c={getters:u,mutations:u,actions:{assert:function(t){return"function"==typeof t||"object"==typeof t&&"function"==typeof t.handler},expected:'function or object with "handler" function'}};function f(t,e){Object.keys(c).forEach(function(r){if(e[r]){var i=c[r];n(e[r],function(e,n){o(i.assert(e),function(t,e,n,o,r){var i=e+" should be "+r+' but "'+e+"."+n+'"';t.length>0&&(i+=' in module "'+t.join(".")+'"');return i+=" is "+JSON.stringify(o)+"."}(t,r,n,e,i.expected))})}})}var l=function t(n){var r=this;void 0===n&&(n={}),!a&&"undefined"!=typeof window&&window.Vue&&_(window.Vue),o(a,"must call Vue.use(Vuex) before creating a store instance."),o("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser."),o(this instanceof t,"Store must be called with the new operator.");var i=n.plugins;void 0===i&&(i=[]);var u=n.strict;void 0===u&&(u=!1);var c=n.state;void 0===c&&(c={}),"function"==typeof c&&(c=c()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(n),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new a;var f,l=this,p=this.dispatch,h=this.commit;this.dispatch=function(t,e){return p.call(l,t,e)},this.commit=function(t,e,n){return h.call(l,t,e,n)},this.strict=u,v(this,c,[],this._modules.root),m(this,c),i.forEach(function(t){return t(r)}),a.config.devtools&&(f=this,e&&(f._devtoolHook=e,e.emit("vuex:init",f),e.on("vuex:travel-to-state",function(t){f.replaceState(t)}),f.subscribe(function(t,n){e.emit("vuex:mutation",t,n)})))},p={state:{configurable:!0}};function h(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function d(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),m(t,n,e)}function m(t,e,r){var i=t._vm;t.getters={};var s={};n(t._wrappedGetters,function(e,n){s[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var u,c=a.config.silent;a.config.silent=!0,t._vm=new a({data:{$$state:e},computed:s}),a.config.silent=c,t.strict&&(u=t)._vm.$watch(function(){return this._data.$$state},function(){o(u._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0}),i&&(r&&t._withCommit(function(){i._data.$$state=null}),a.nextTick(function(){return i.$destroy()}))}function v(t,e,n,o,r){var i=!n.length,s=t._modules.getNamespace(n);if(o.namespaced&&(t._modulesNamespaceMap[s]=o),!i&&!r){var u=y(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a.set(u,c,o.state)})}var f,l,p,h,d,m=o.context=(f=t,p=n,d={dispatch:(h=""===(l=s))?f.dispatch:function(t,e,n){var o=g(t,e,n),r=o.payload,i=o.options,s=o.type;if(i&&i.root||(s=l+s,f._actions[s]))return f.dispatch(s,r);console.error("[vuex] unknown local action type: "+o.type+", global type: "+s)},commit:h?f.commit:function(t,e,n){var o=g(t,e,n),r=o.payload,i=o.options,s=o.type;i&&i.root||(s=l+s,f._mutations[s])?f.commit(s,r,i):console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+s)}},Object.defineProperties(d,{getters:{get:h?function(){return f.getters}:function(){return t=f,n={},o=(e=l).length,Object.keys(t.getters).forEach(function(r){if(r.slice(0,o)===e){var i=r.slice(o);Object.defineProperty(n,i,{get:function(){return t.getters[r]},enumerable:!0})}}),n;var t,e,n,o}},state:{get:function(){return y(f.state,p)}}}),d);o.forEachMutation(function(e,n){var o,r,i,a;r=s+n,i=e,a=m,((o=t)._mutations[r]||(o._mutations[r]=[])).push(function(t){i.call(o,a.state,t)})}),o.forEachAction(function(e,n){var o,r,i,a,u=e.root?n:s+n,c=e.handler||e;r=u,i=c,a=m,((o=t)._actions[r]||(o._actions[r]=[])).push(function(t,e){var n,r=i.call(o,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:o.getters,rootState:o.state},t,e);return(n=r)&&"function"==typeof n.then||(r=Promise.resolve(r)),o._devtoolHook?r.catch(function(t){throw o._devtoolHook.emit("vuex:error",t),t}):r})}),o.forEachGetter(function(e,n){!function(t,e,n,o){if(t._wrappedGetters[e])return void console.error("[vuex] duplicate getter key: "+e);t._wrappedGetters[e]=function(t){return n(o.state,o.getters,t.state,t.getters)}}(t,s+n,e,m)}),o.forEachChild(function(o,i){v(t,e,n.concat(i),o,r)})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function g(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),o("string"==typeof t,"Expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:n}}function _(e){a&&e===a?console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):t(a=e)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(t){o(!1,"Use store.replaceState() to explicit replace store state.")},l.prototype.commit=function(t,e,n){var o=this,r=g(t,e,n),i=r.type,s=r.payload,a=r.options,u={type:i,payload:s},c=this._mutations[i];c?(this._withCommit(function(){c.forEach(function(t){t(s)})}),this._subscribers.forEach(function(t){return t(u,o.state)}),a&&a.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+i)},l.prototype.dispatch=function(t,e){var n=this,o=g(t,e),r=o.type,i=o.payload,s={type:r,payload:i},a=this._actions[r];if(a)return this._actionSubscribers.forEach(function(t){return t(s,n.state)}),a.length>1?Promise.all(a.map(function(t){return t(i)})):a[0](i);console.error("[vuex] unknown action type: "+r)},l.prototype.subscribe=function(t){return h(t,this._subscribers)},l.prototype.subscribeAction=function(t){return h(t,this._actionSubscribers)},l.prototype.watch=function(t,e,n){var r=this;return o("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},l.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},l.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),o(Array.isArray(t),"module path must be a string or an Array."),o(t.length>0,"cannot register the root module by using registerModule."),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),m(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),o(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var n=y(e.state,t.slice(0,-1));a.delete(n,t[t.length-1])}),d(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),d(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,p);var b=O(function(t,e){var n={};return M(e).forEach(function(e){var o=e.key,r=e.val;n[o]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var o=j(this.$store,"mapState",t);if(!o)return;e=o.context.state,n=o.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[o].vuex=!0}),n}),w=O(function(t,e){var n={};return M(e).forEach(function(e){var o=e.key,r=e.val;n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var o=this.$store.commit;if(t){var i=j(this.$store,"mapMutations",t);if(!i)return;o=i.context.commit}return"function"==typeof r?r.apply(this,[o].concat(e)):o.apply(this.$store,[r].concat(e))}}),n}),x=O(function(t,e){var n={};return M(e).forEach(function(e){var o=e.key,r=e.val;r=t+r,n[o]=function(){if(!t||j(this.$store,"mapGetters",t)){if(r in this.$store.getters)return this.$store.getters[r];console.error("[vuex] unknown getter: "+r)}},n[o].vuex=!0}),n}),$=O(function(t,e){var n={};return M(e).forEach(function(e){var o=e.key,r=e.val;n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var o=this.$store.dispatch;if(t){var i=j(this.$store,"mapActions",t);if(!i)return;o=i.context.dispatch}return"function"==typeof r?r.apply(this,[o].concat(e)):o.apply(this.$store,[r].concat(e))}}),n});function M(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function O(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function j(t,e,n){var o=t._modulesNamespaceMap[n];return o||console.error("[vuex] module namespace not found in "+e+"(): "+n),o}return{Store:l,install:_,version:"3.0.1",mapState:b,mapMutations:w,mapGetters:x,mapActions:$,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:x.bind(null,t),mapMutations:w.bind(null,t),mapActions:$.bind(null,t)}}}});
function MyObject(options) {
  for (var field in options) {
    this[field] = options[field];
  }
}
var ProfileType = {
    GSM : 'GSM',
    BLM : 'BLM',
    FFTH: 'FFTH',
    ASDL: 'ASDL',
    ACCOUNT : 'ACCOUNT',
};
var CustomerType = {
    CONSUMER: 'CONSUMER',
    BUSINESS: 'BUSINESS'
};
function SelectedItem(){
    me = this;
    MyObject.apply(this,arguments);
    this.isDelegated = function(){
        return me.hasOwnProperty('delegator');
    };
    this.isService = function(){
        return !me.profile || (me.profile != ProfileType.ACCOUNT);
    };

    this.isServiceDelegated = function(){
        return me.isDelegated() && me.isService();
    };
    this.getPermissions = function(){
        return this.permissions || [];
    };
    this.canSeeInvoices = function(){
        return me.isService() || me.hasPaymentResponsability ||
        me.canSeePayments();
    };
    this.canSeePayments = function(){
        return !this.isService() && this.hasPaymentResponsability ||
            this.singleService ||
            this.consolidateAccount ||
            this.isConsumer();

    };
    this.canSeeExtracts = function(){
        return me.isService() || (!me.isService() && !me.hasPaymentResponsability) ;
    };

    this.getProfile = function(){
        return this.profile;
    };

    this.getType = function(){
        return this.customerType;
    };

    this.isConsumer = function(){
        return this.customerType == CustomerType.CONSUMER;
    };

    this.isRoot = function(){
        var me = this;
        return portfolioDesktop.portfolio.portfolioItems.filter(function(item){ return item.assetName == me.assetName}).length > 0
    };

    this.isPosBusiness = function(){
        return !(this.isPrePaid) && !this.isConsumer() && this.isService();
    };

    this.isPosConsumer = function(){
        return !(this.isPrePaid) && (this.isConsumer() && this.isService());
    };
    this.hasAmountDue = function(){
        return this.amountDue != 'NO_PAYMENTS' && this.amountDue != null;
    };
    this.isPostPaidConsumer = function(){
        return !(this.isPrePaid) && this.isConsumer();
    };
    this.profileNamed = function(){
        let a = me.isConsumer() ? 'CON':'EMP'
        let b = me.isPrePaid ? 'PRE' : 'POS';
        let c = me.isService() ? me.profile
                    : (me.isConsumer() || me.hasPaymentResponsability) ? 'ACC'
                    : me.isMotherAccount ? 'ACCM'
                    : 'ACCF';
        let named = a + '-' + b + '-' + c
        if(!me.isService() && !me.isConsumer()) {
            named += "-" + (me.hasPaymentResponsability ? 'CRP' : 'SRP');
        }
        return named;
    }

}

/* global $, window, Granite, localStorage , XMLHttpRequest, Uint8Array, navigator, document, setTimeout, defaultMime, btoa*/

const myStore = new Vuex.Store({
  state: {
      selectedItem: new SelectedItem(),
      delegations: [],
      errorPortfolio: false
  },
  mutations: {
    changeSelectedItem: function(state,selectedItem) {
      // mutate state
      state.selectedItem = selectedItem;
    },
    itemError: function(state,error) {
        state.selectedItem.error = error;
    },
    hasItemError : function(state){
       state.selectedItem.error = true;
    },
    setErrorPortfolio: function(state,b){
        state.errorPortfolio = b;
    },
    setAmountDue: function(state,amountDue){
        state.selectedItem.amountDue = amountDue;
    }
  },
  actions: {
    changeSelectedItem: function(context,selectedItem) {
        context.commit('changeSelectedItem',new SelectedItem(selectedItem));
        context.commit('itemError',false);
    },
    setErrorPortfolio: function(context){
        context.commit("setErrorPortfolio",true);
    },
    removeErrorPortfolio: function(context){
        context.commit("setErrorPortfolio",false);
    },
    setAmountDue: function(context,amountDue){
        context.getters.selectedItem.amountDue = amountDue;
        context.commit("changeSelectedItem",new SelectedItem(context.getters.selectedItem));
    }

  },
  getters:{
    selectedItem: function(state) {
        return state.selectedItem;
    },
    isDelegated: function(state) {
        return state.selectedItem.isDelegated();
    },
    isService: function(state) {
        return state.selectedItem.isService();
    },
    hasErrorLoadingPortfolio: function(state){
        return state.errorPortfolio;
    }
  }
});

var PermissionBus = new Vue ({
    mixins: [requestHandler, requestValidations, utils, loadingAnimations],
    data: function() {
        return {
            delegationsThrottle: false
        }
    },
    created: function () {
        var me = this;
        this.throttleUtils().validateThrottlePromise("delegations").then(function(e){
            me.delegationsThrottle = e;
        });
    },
    methods : {
        hasPermission : function (permissions) {
            for(var i in permissions){
                if(myStore.state.selectedItem.getPermissions().indexOf(permissions[i]) > -1){
                    return true;
                }
            }
            return false;
        },
        error : function () {
            if( !myStore.state.selectedItem.hasOwnProperty('delegator')){
                return;
            }
            if(document.getElementById('sidebar--content--loading')) {
                this.removeAnimation('sidebar--content--loading');
            }

            myStore.commit("hasItemError");
        },
        hasError : function () {
            return myStore.state.selectedItem.error;
        },
        getDelegationThrottle: function(){
            return this.delegationsThrottle;
        }
    }
});

var div_authorizable = Vue.component('authorizable', {
    template: '<span v-if="isAuthorizable"><slot></slot></span>',
    props: {
        authList: Array,
        andCondition: {
            default: true,
            type: Boolean
        }

    },
    data: function(){
        return {

        }
    },
    created: function(){
        if(!this.authList){
            this.authList = [];
        }
        this.authList.push('NA');
    },
    computed: {
        isAuthorizable:function(){
            for(var i in this.authList){
                if(myStore.state.selectedItem.getPermissions().indexOf(this.authList[i]) > -1){
                    return true && this.andCondition;
                }
            }
            return false;
        }
    },
    methods: {
    }
});

addBeforeUnloadBehaviour = function(vueObject, handler){
    if (vueObject.isIE() || vueObject.isBrowserSafari()) {
        try{
            window.addEventListener('beforeunload', handler());
        }catch(e){
            window.addEventListener('beforeunload', handler);
        }
    } else {
        window.addEventListener('beforeunload', handler);
    }
};

removeBeforeUnloadBehaviour = function(vueObject, handler){
    if (vueObject.isIE() || vueObject.isBrowserSafari()) {
        try{
            window.removeEventListener('beforeunload', handler());
        }catch(e){
            window.removeEventListener('beforeunload', handler);
        }
    } else {
        window.removeEventListener('beforeunload', handler);
    }
};

addBeforeUnloadBehaviourInvoiceDetail = function(vueObject, handler){
    if (vueObject.isIE() || vueObject.isBrowserSafari()) {
        try{
            window.addEventListener('beforeunload', handler);
        }catch(e){
            window.addEventListener('beforeunload', handler);
        }
    } else {
        window.addEventListener('beforeunload', handler);
    }
};

removeBeforeUnloadBehaviourInvoiceDetail = function(vueObject, handler){
    if (vueObject.isIE() || vueObject.isBrowserSafari()) {
        try{
            window.removeEventListener('beforeunload', handler);
        }catch(e){
            window.removeEventListener('beforeunload', handler);
        }
    } else {
        window.removeEventListener('beforeunload', handler);
    }
};

var ReportsPermissions = new Vue({
    data: function() {
        return{
            selectedItem: {}
        }
    },
    created: function(){
        this.selectedItem = myStore.getters.selectedItem;
    },


    computed: {
        'displayCommunications': function() {
            //const item = this.selectedItem;
            /* visível para todos os tipos de serviços GSM e todos os tipos de contas */
            return this.isGSM(myStore.getters.selectedItem) || this.isAccount(myStore.getters.selectedItem);
        },
        'displayCurrentCharges': function() {
            /* visível para uniserviço pós-pago GSM, multisserviços GSM e todos os tipos de contas */
            return (this.isGSM(myStore.getters.selectedItem) &&
                !this.isPrepaid(myStore.getters.selectedItem))
                || this.isAccount(myStore.getters.selectedItem);
        },
        'displayCostCenter': function() {
            /* visível para todos os tipos de contas */
            return this.isAccount(myStore.getters.selectedItem);
        },

        'displayLastDownloads': function() {
            /* visível para todos os tipos de serviços GSM e todos os tipos de contas */
            return this.isGSM(myStore.getters.selectedItem) || this.isAccount(myStore.getters.selectedItem);
        },
        'displayCurrentAccountExtract': function() {
            /*  visível para uniserviço pós-pag GSM, multisserviços GSM do segmento consumo e todos os tipos de contas. */
            const gsm = this.isGSM(myStore.getters.selectedItem);
            const uniPosPaid = gsm && !this.isMultiService(myStore.getters.selectedItem) && !this.isPrepaid(myStore.getters.selectedItem);
            const multiGSM = gsm && this.isMultiService(myStore.getters.selectedItem) && this.isConsumer(myStore.getters.selectedItem);
            const account = this.isAccount(myStore.getters.selectedItem);

            return account || multiGSM || uniPosPaid;
        },
        'displayEnterpriseAccount': function() {
            return this.isAccount(myStore.getters.selectedItem) && !this.isConsumer(myStore.getters.selectedItem);
        },
        'displayInvoiceSummary': function(){
            // visivel para conta empresarial e servico pós pago empresarial
            const isEntreprise = !this.isConsumer(myStore.getters.selectedItem);
            return (!this.isPrepaid(myStore.getters.selectedItem) && isEntreprise) || (this.isAccount(myStore.getters.selectedItem) && isEntreprise);
        },
        'isOnlyOne' : function() {
            return (this.displayCommunications  + this.displayCurrentCharges + this.displayCostCenter  + this.displayCurrentAccountExtract + this.displayEnterpriseAccount + this.displayInvoiceSummary) <= 1;
        }
    },
       methods: {
            isPrepaid: function(item) {
                return myStore.getters.selectedItem.isPrePaid;
            },

            isGSM: function(item) {
                return item.profile === 'GSM' || item.profile === 'BLM' ;
            },
            isAccount: function(item) {
                return item.profile === 'ACCOUNT';
            },

            isMultiService: function(item) {
                return !item.singleService;
            },

            isConsumer: function(item) {
                return item.customerType === 'CONSUMER';
            }
        }

});


var delegationRouter = new Vue({
    mixins: [navigation],
    data: {
        map: {
           'faturacao.html' : {account:'pagamentos-movimentos',service:'extratos-consumos'}
        },
        paymentsPages: ['pagamentos-movimentos']
    },
    methods: {
        applyRule: function(){
           var item = (myStore.getters.selectedItem);
           if(item.isDelegated()){
               var currentPage = this.getCurrentPage();
               var exist = this.map[currentPage];
               if(exist){
                    this.redirectPage(item.isService() ? exist.service : exist.account);
                    return true;
               }
               var shortName = this.getShortPageName();

               if(shortName.indexOf("extratos-consumos") > -1 &&  (!(item.getPermissions().indexOf('IN') > -1) || !item.canSeeExtracts()) ){
                    this.redirectPage('home');
                    return true;
               }
           }

           return false;
        }
    }

 });
var portfolioMixin = {
    mixins: [navigation],
    methods: {
        delegatedRule: function(){
            var item = (myStore.getters.selectedItem);
            if(item.isDelegated()){
                currentPage = this.getCurrentPage();
                return true && (
                    //List of pages allowed for delegated
                    this.getCurrentPage().indexOf('pagamentos-movimentos.html') > -1 ||
                    this.getCurrentPage().indexOf('faturacao/pagamentos.html') > -1 ||
                    this.getCurrentPage().indexOf('contratos.html') > -1 ||
                    this.getCurrentPage().indexOf('utilizacao-atual.html') > -1 ||
                    this.getCurrentPage().indexOf('faturacao/resumo.html') > -1 ||
                    this.getCurrentPage().indexOf('faturas-delegadas.html') > -1 ||
                    this.getCurrentPage().indexOf('faturas-delegadas/detalhe.html') > -1 ||
                    this.getCurrentPage().indexOf('faturas-delegadas/fatura-eletronica.html') > -1 ||
                    this.getCurrentPage().indexOf('faturas-delegadas/alerta-sms.html') > -1 ||
                    this.getCurrentPage().indexOf('faturacao/debito-direto.html') > -1
                );
            }
            return item.isDelegated();
        },
        isUnavailable: function(status) {
            const unavailableStates = ['NO_ACCESS',
                'INACTIVE',
                'DEACTIVATED',
                'TERMINATED'];
            return unavailableStates.indexOf(status) >= 0;
        },
        changeSelectedItemInOtherComponents: function(item, fromPortfolioClick) {
            //ATTENTION THIS REDIRECT LOGIC SHOULD BE REVISITED WHEN PAGE BUSINESS CASES ARE ALL WELL DEFINED
            if(delegationRouter.applyRule()){
                return;
            }
            var isDelegated = this.delegatedRule();
            if (this.getCurrentPage() === 'extratos-consumos.html' || this.getCurrentPage() === 'extratos-consumos/detalhe.html') {
                if (this.getCurrentPage() === 'extratos-consumos.html' && !(item.customerType === 'BUSINESS' && !(item.isMotherAccount || (item.profile === 'ACCOUNT' && item.hasPaymentResponsability) || (item.singleService && item.hasPaymentResponsability)))) {
                    this.redirectPage('home');
                } else if (this.getCurrentPage() === 'extratos-consumos/detalhe.html') {
                    if (this.getCurrentPage() === this.getLastPage()) {
                        if (localStorage.getItem('invoiceDate')) {
                            PortfolioEventBus.$emit('selected-item', item);
                        } else {
                            this.redirectPage('extratos-consumos');
                        }
                    } else {
                        if (!localStorage.getItem('invoiceDate')) {
                            this.redirectPage('extratos-consumos');
                        } else {
                            PortfolioEventBus.$emit('selected-item', item);
                        }
                    }
                } else {
                    PortfolioEventBus.$emit('selected-item', item);
                }
            } else if (this.shouldRedirectToHomePage(item)) {
                this.redirectPage('home');
            } else if (this.getCurrentPage() !== 'home.html' &&
                item.consolidatedAccount &&
                !item.hasPaymentResponsability &&
                this.getCurrentPage() !== 'servicos-empresariais.html' &&
                this.getCurrentPage() !== 'gestao-acessos.html' &&
                this.getCurrentPage() !== 'gerir-delegacoes.html' &&
                this.getCurrentPage() !== 'editar-delegacao.html' &&
                this.getCurrentPage() !== 'criar-delegacao.html' && // PORQUE NECESSARIO || AQUI ?????? TODO
                this.getCurrentPage() !== 'home.html' &&
                (this.getCurrentPage() !== 'extratos-delegados.html' && this.getCurrentPage() !== 'faturas-delegadas.html' && this.getCurrentPage() !== 'contratos.html' && this.getCurrentPage() !== 'utilizacao-atual.html') &&
                item.hasOwnProperty('delegator') &&
                !isDelegated ) {

                this.redirectPage('home');
            } else if ((this.getCurrentPage() ===  'saldo-movimentos.html' || this.getCurrentPage() === 'saldo-movimentos/detalhe.html') && !item.isPrePaid) {
                this.redirectPage('faturacao');
            } else if (this.getCurrentPage() === 'servicos-empresariais.html' && item.customerType !== 'BUSINESS') {
                this.redirectPage('home');
            } else if (this.getCurrentPage() !== 'home.html' && this.isUnavailable(item.status)) {
                this.redirectPage('home');
            } else if (this.getCurrentPage() === 'produtos-servicos.html' && item.profile !== 'GSM' && item.profile !== 'ACCOUNT' && item.profile !== 'BLM') {
                this.redirectPage('home');
            } else if (this.getCurrentPage() === 'tarifarios-servicos/servicos.html' && item.profile !== 'GSM') {
                this.redirectPage('home');
            } else if (this.getCurrentPage() === 'tarifarios-servicos/aditivos.html' && (item.profile === 'FTTH' || item.profile === 'ADSL' || item.profile === 'FEMTOCELL')) {
                this.redirectPage('home');
            } else if (this.getCurrentPage() === 'tarifarios-servicos/tarifarios.html' && (item.profile === 'FTTH' || item.profile === 'ADSL' || item.profile === 'FEMTOCELL')) {
                this.redirectPage('home');
            } else if ((this.getCurrentPage() === 'gerir-delegacoes.html' || this.getCurrentPage() === 'gestao-acessos.html') && ((item.customerType !== 'BUSINESS' || item.profile !== 'ACCOUNT') )) {
                this.redirectPage('home');
            } else if ((item.profile === 'FEMTOCELL' || item.profile === 'ADSL' || item.profile === 'FTTH') && this.getCurrentPage().includes('faturacao')) {
                this.redirectPage('home');
            } else if (item.isPrePaid) {
                if (item.profile === 'GSM' || item.profile === 'BLM') {
                    if (this.getCurrentPage() === 'faturacao.html' || this.getCurrentPage() === 'faturas-delegadas.html') {
                        this.redirectPage('saldo-movimentos');
                    } else if ((this.getCurrentPage() === 'faturacao/detalhe.html' || this.getCurrentPage() === 'faturas-delegadas/detalhe.html' ) || this.getCurrentPage() === 'saldo-movimentos/detalhe.html' && fromPortfolioClick) {
                        this.redirectPage('saldo-movimentos');
                    } else if ((this.getCurrentPage() === 'faturacao/fatura-eletronica.html' || this.getCurrentPage() === 'faturas-delegadas/fatura-eletronica.html' ) && fromPortfolioClick) {
                        this.redirectPage('saldo-movimentos');
                    } else if (this.getCurrentPage() === 'faturacao/debito-direto.html') {
                        this.redirectPage('saldo-movimentos');
                    }else if (this.getCurrentPage() === 'faturacao/resumo.html') {
                        this.redirectPage('saldo-movimentos');
                    } else {
                        PortfolioEventBus.$emit('selected-item', item);
                    }
                } else {
                    PortfolioEventBus.$emit('selected-item', item);
                }
            } else {
                if (this.getCurrentPage() === 'saldo-movimentos.html') {
                    this.redirectPage('faturacao');
                } else if (this.getCurrentPage() === 'faturacao/fatura-eletronica.html' && fromPortfolioClick) {
                    this.redirectPage('faturacao');
                } else if (this.getCurrentPage() === 'faturas-delegadas/fatura-eletronica.html' && fromPortfolioClick) {
                    this.redirectPage('faturas-delegadas');
                } else if (this.getCurrentPage() === this.getLastPage()) {
                    if (this.getCurrentPage() === 'faturacao/detalhe.html' && localStorage.getItem('invoiceDate')) {
                        PortfolioEventBus.$emit('selected-item', item);
                    } else {
                        this.redirectPage(this.getLastPage());
                    }
                } else if (this.getCurrentPage() === 'faturacao/detalhe.html' && !localStorage.getItem('invoiceDate')) {
                    this.redirectPage('faturacao');
                } else if (this.getCurrentPage() === 'faturas-delegadas/detalhe.html' && !localStorage.getItem('invoiceDate')) {
                    this.redirectPage('faturas-delegadas');
                } else if (((item.profile !== 'ACCOUNT' && !item.singleService) || (item.profile === 'ACCOUNT' && !item.hasPaymentResponsability)) && (this.getCurrentPage() === 'faturacao/fatura-eletronica.html' || this.getCurrentPage() === 'faturacao/debito-direto.html')) {

                    this.redirectPage('home');
                } else {
                    PortfolioEventBus.$emit('selected-item', item);
                }
            }
        }

    }
};

var serviceMixins = {
    methods: {
        isSpecialNumber: function(service) {
            return service.endsWith('***');
        }
    }
};
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.deepmerge = factory());
}(this, (function () { 'use strict';

var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		Object.keys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	Object.keys(source).forEach(function(key) {
		if (!options.isMergeableObject(source[key]) || !target[key]) {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		} else {
			destination[key] = deepmerge(target[key], source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

return deepmerge_1;

})));

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.shvl={})}(this,function(e){e.get=function(e,t,n){return void 0===(e=(t.split?t.split("."):t).reduce(function(e,t){return e&&e[t]},e))?n:e},e.set=function(e,t,n,i){return(t=t.split?t.split("."):t).slice(0,-1).reduce(function(e,t){return e[t]=e[t]||{}},e)[t.pop()]=n,e}});
//# sourceMappingURL=shvl.umd.js.map

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("deepmerge"),require("shvl")):"function"==typeof define&&define.amd?define(["deepmerge","shvl"],t):e.createPersistedState=t(e.deepmerge,e.shvl)}(this,function(e,t){return e=e&&e.hasOwnProperty("default")?e.default:e,function(r,n,u){function o(e,t,r){try{return(r=t.getItem(e))&&void 0!==r?JSON.parse(r):void 0}catch(e){}}if(n=(r=r||{}).storage||window&&window.localStorage,u=r.key||"vuex",!function(e){try{return e.setItem("@@",1),e.removeItem("@@"),!0}catch(e){}return!1}(n))throw new Error("Invalid storage instance given");return function(i){var c=t.get(r,"getState",o)(u,n);"object"==typeof c&&null!==c&&i.replaceState(e(i.state,c,{arrayMerge:r.arrayMerger||function(e,t){return t},clone:!1})),(r.subscriber||function(e){return function(t){return e.subscribe(t)}})(i)(function(e,o){(r.filter||function(){return!0})(e)&&(r.setState||function(e,t,r){return r.setItem(e,JSON.stringify(t))})(u,(r.reducer||function(e,r){return 0===r.length?e:r.reduce(function(r,n){return t.set(r,n,t.get(e,n))},{})})(o,r.paths||[]),n)})}}});
//# sourceMappingURL=vuex-persistedstate.umd.js.map

/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/**
 * bluebird build version 3.5.5
 * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){var t,e,n;return function r(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,r,t,e,n)}return e[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new h(16),this._normalQueue=new h(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=p}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}function a(t){for(;t.length()>0;)c(t)}function c(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}var l;try{throw new Error}catch(u){l=u}var p=t("./schedule"),h=t("./queue"),f=t("./util");r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(r.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},r.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},r.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype._drainQueues=function(){a(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,a(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=r,e.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),u=new t(e);u._propagateFrom(this,1);var p=this._target();if(u._setBoundTo(l),l instanceof t){var h={promiseRejectionQueued:!1,promise:u,target:p,bindingPromise:l};p._then(e,s,void 0,u,h),l._then(a,c,void 0,u,h),u._setOnCancel(l)}else u._resolveCallback(p);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),c=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(c){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(c){var l=a._boundValue();t:for(var u=0;u<t.length;++u){var p=t[u];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return o(n).call(l,c)}else if("function"==typeof p){var h=o(p).call(l,c);if(h===s)return h;if(h)return o(n).call(l,c)}else if(r.isObject(c)){for(var f=i(p),_=0;_<f.length;++_){var d=f[_];if(p[d]!=c[d])continue t}return o(n).call(l,c)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e){return{promise:e}}function i(){return!1}function o(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+H.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?H.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function a(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function f(){this._trace=new O(this._peekContext())}function _(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);H.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),H.notEnumerableProp(t,"__stackCleaned__",!0)}}}function d(){this._trace=void 0}function v(t,e,n,r,i){if(void 0===t&&null!==e&&J){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=C(a),l=c.length-1;l>=0;--l){var u=c[l];if(!q.test(u)){var p=u.match($);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var h=c[0],l=0;l<a.length;++l)if(a[l]===h){l>0&&(s="\n"+a[l-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(f,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,n,r){if(at.warnings){var i,o=new N(t);if(n)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}nt("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}function C(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||Q.test(r),o=i&&it(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function j(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||Q.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?j(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:C(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(H.isObject(t)){var i=t.stack;r=e+G(i,t)}else r=e+String(t);"function"==typeof V?V(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function F(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){L.throwLater(o)}"unhandledRejection"===t?nt(t,n,r)||i||k(n,"Unhandled rejection "):nt(t,r)}function T(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():H.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+x(e)+">, no stack trace)"}function x(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function P(){return"function"==typeof st}function S(t){var e=t.match(ot);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function R(t,e){if(P()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,c=0;c<i.length;++c){var l=S(i[c]);if(l){n=l.fileName,s=l.line;break}}for(var c=0;c<o.length;++c){var l=S(o[c]);if(l){r=l.fileName,a=l.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(it=function(t){if(M.test(t))return!0;var e=S(t);return e&&e.fileName===n&&s<=e.line&&e.line<=a?!0:!1})}}function O(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);st(this,O),e>32&&this.uncycle()}var A,D,V,I=e._getDomain,L=e._async,N=t("./errors").Warning,H=t("./util"),B=t("./es5"),U=H.canAttachTrace,M=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,q=/\((?:timers\.js):\d+:\d+\)/,$=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Q=null,G=null,z=!1,X=!(0==H.env("BLUEBIRD_DEBUG")||!H.env("BLUEBIRD_DEBUG")&&"development"!==H.env("NODE_ENV")),W=!(0==H.env("BLUEBIRD_WARNINGS")||!X&&!H.env("BLUEBIRD_WARNINGS")),K=!(0==H.env("BLUEBIRD_LONG_STACK_TRACES")||!X&&!H.env("BLUEBIRD_LONG_STACK_TRACES")),J=0!=H.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(W||!!H.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){F("rejectionHandled",A,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),F("unhandledRejection",D,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return m(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var e=I();D="function"==typeof t?null===e?t:H.domainBind(e,t):void 0},e.onUnhandledRejectionHandled=function(t){var e=I();A="function"==typeof t?null===e?t:H.domainBind(e,t):void 0};var Y=function(){};e.longStackTraces=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&P()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,i=e.prototype._dereferenceTrace;at.longStackTraces=!0,Y=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=i,n.deactivateLongStackTraces(),L.enableTrampoline(),at.longStackTraces=!1},e.prototype._captureStackTrace=f,e.prototype._attachExtraTrace=_,e.prototype._dereferenceTrace=d,n.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return at.longStackTraces&&P()};var Z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return H.global.dispatchEvent(t),function(t,e){var n={detail:e,cancelable:!0};B.defineProperty(n,"promise",{value:e.promise}),B.defineProperty(n,"reason",{value:e.reason});var r=new CustomEvent(t.toLowerCase(),n);return!H.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return H.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,B.defineProperty(n,"promise",{value:e.promise}),B.defineProperty(n,"reason",{value:e.reason}),!H.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),H.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!H.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),tt=function(){return H.isNode?function(){return process.emit.apply(process,arguments)}:H.global?function(t){var e="on"+t.toLowerCase(),n=H.global[e];return n?(n.apply(H.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),et={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:r},nt=function(t){var e=!1;try{e=tt.apply(null,arguments)}catch(n){L.throwLater(n),e=!0}var r=!1;try{r=Z(t,et[t].apply(null,arguments))}catch(n){L.throwLater(n),r=!0}return r||e};e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&Y()),"warnings"in t){var n=t.warnings;at.warnings=!!n,J=at.warnings,H.isObject(n)&&"wForgottenReturn"in n&&(J=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=l,e.prototype._propagateFrom=u,e.prototype._onCancel=a,e.prototype._setOnCancel=c,e.prototype._attachCancellationCallback=s,e.prototype._execute=o,rt=u,at.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,e.prototype._fireEvent=nt):!t.monitoring&&at.monitoring&&(at.monitoring=!1,e.prototype._fireEvent=i)),e},e.prototype._fireEvent=i,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var rt=p,it=function(){return!1},ot=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;H.inherits(O,Error),n.CapturedTrace=O,O.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>a?(c._parent=e[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=r-2;u>=0;--u)e[u]._length=l,l++;return}}}},O.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(C(i.stack.split("\n"))),i=i._parent;w(r),b(r),H.notEnumerableProp(t,"stack",g(n,r)),H.notEnumerableProp(t,"__stackCleaned__",!0)}};var st=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():T(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,Q=t,G=e;var n=Error.captureStackTrace;return it=function(t){return M.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return Q=/@/,G=e,z=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(G=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?T(e):e.toString()},null):(Q=t,G=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(V=function(t){console.warn(t)},H.isNode&&process.stderr.isTTY?V=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:H.isNode||"string"!=typeof(new Error).stack||(V=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:W,longStackTraces:!1,cancellation:!1,monitoring:!1};return K&&e.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return rt},boundValueFunction:function(){return h},checkForgottenReturns:v,setBounds:R,warn:m,deprecated:y,CapturedTrace:O,fireDomEvent:Z,fireGlobalEvent:tt}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:e),p(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function i(t){return this instanceof i?(p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),c=a.freeze,l=t("./util"),u=l.inherits,p=l.notEnumerableProp,h=r("Warning","warning"),f=r("CancellationError","cancellation error"),_=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(v){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(d.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var g=0;d.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},u(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:f,TimeoutError:_,OperationalError:i,RejectionError:i,AggregateError:d}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},l=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},h=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:a,names:a,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function s(t,e){return null!=t.cancelPromise?(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0):!1}function a(){return l.call(this,this.promise._target()._settledValue())}function c(t){return s(this,t)?void 0:(h.e=t,h)}function l(t){var i=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(i._boundValue()):l.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var f=n(u,i);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var _=new p("late cancellation observer");return i._attachExtraTrace(_),h.e=_,h}f.isPending()&&f._attachCancellationCallback(new o(this))}return f._then(a,c,void 0,this,void 0)}}}return i.isRejected()?(s(this),h.e=t,h):(s(this),t)}var u=t("./util"),p=e.CancellationError,h=u.errorObj,f=t("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,l,l)},e.prototype.tap=function(t){return this._passThrough(t,1,l)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,l);var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var s=arguments[r];if(!u.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(s)));i[o++]=s}i.length=o;var a=arguments[r];return this._passThrough(f(i,a,this),1,void 0,l)},i}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=f(n[o])(t);if(r._popContext(),s===h){r._pushContext();var a=e.reject(h.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}function c(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return c}),a._captureStackTrace(),a._setOnCancel(this)}else{var l=this._promise=new e(r);l._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}var l=t("./errors"),u=l.TypeError,p=t("./util"),h=p.errorObj,f=p.tryCatch,_=[];p.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=f(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=f(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),
null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=c,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+p.classString(t));_.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function c(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var l=e._getDomain,u=t("./util"),p=u.tryCatch,h=u.errorObj,f=e._async;u.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,c=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var l=this._promise,u=this._callback,f=l._boundValue();l._pushContext();var _=p(u).call(f,t,n,o),d=l._popContext();if(s.checkForgottenReturns(_,d,null!==a?"Promise.filter":"Promise.map",l),_===h)return this._reject(_.e),!0;var v=i(_,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return c>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);_=v._value()}r[n]=_}var m=++this._totalResolved;return m>=o?(null!==a?this._filter(r,a):this._resolve(r),!0):!1},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return c(this,t,e,null)},e.map=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=s.isArray(l)?a(t).apply(u,l):a(t).call(u,l)}else c=a(t)();var p=r._popContext();return o.checkForgottenReturns(c,p,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&u.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=u.keys(t),i=0;i<n.length;++i){var o=n[i];p.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,c=t("./errors"),l=c.OperationalError,u=t("./es5"),p=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===c&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===c&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===c&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,c=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){function n(){}function r(t,e){if(null==t||t.constructor!==i)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new m("expecting a function but got "+f.classString(e))}function i(t){t!==b&&r(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function a(t){var e=new i(b);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},p=function(t){return i.reject(new m(t))},h={},f=t("./util");c=f.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},f.notEnumerableProp(i,"_getDomain",c);var _=t("./es5"),d=t("./async"),v=new d;_.defineProperty(i,"_async",{value:v});var y=t("./errors"),m=i.TypeError=y.TypeError;i.RangeError=y.RangeError;var g=i.CancellationError=y.CancellationError;i.TimeoutError=y.TimeoutError,i.OperationalError=y.OperationalError,i.RejectionError=y.OperationalError,i.AggregateError=y.AggregateError;var b=function(){},w={},C={},j=t("./thenables")(i,b),E=t("./promise_array")(i,b,j,p,n),k=t("./context")(i),F=k.create,T=t("./debuggability")(i,k),x=(T.CapturedTrace,t("./finally")(i,j,C)),P=t("./catch_filter")(C),S=t("./nodeback"),R=f.errorObj,O=f.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!f.isObject(o))return p("Catch statement predicate: expecting an object but got "+f.classString(o));r[i++]=o}if(r.length=i,t=arguments[n],"function"!=typeof t)throw new m("The last argument to .catch() must be a function, got "+f.toString(t));return this.then(void 0,P(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},i.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+f.classString(t);arguments.length>1&&(n+=", "+f.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+f.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},i.prototype.error=function(t){return this.caught(f.originatesFromRejection,t)},i.getNewLibraryCopy=e.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(b);e._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,r=O(t)(S(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new E(t).promise()},i.cast=function(t){var e=j(t);return e instanceof i||(e=new i(b),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(b);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new m("expecting a function but got "+f.classString(t));return v.setScheduler(t)},i.prototype._then=function(t,e,n,r,o){var s=void 0!==o,a=s?o:new i(b),l=this._target(),u=l._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var p=c();if(0!==(50397184&u)){var h,_,d=l._settlePromiseCtx;0!==(33554432&u)?(_=l._rejectionHandler0,h=t):0!==(16777216&u)?(_=l._fulfillmentHandler0,h=e,l._unsetRejectionIsUnhandled()):(d=l._settlePromiseLateCancellationObserver,_=new g("late cancellation observer"),l._attachExtraTrace(_),h=e),v.invoke(d,l,{handler:null===p?h:"function"==typeof h&&f.domainBind(p,h),promise:a,receiver:r,value:_})}else l._addCallbacks(t,e,a,r,p);return a},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===h?void 0:void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:f.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:f.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:f.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:f.domainBind(i,e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=j(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0===(50397184&o)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var c=new g("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},i.prototype._rejectCallback=function(t,e,n){var r=f.ensureErrorObject(t),i=r===t;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+f.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,e?i:!1),this._reject(t)},i.prototype._resolveFromExecutor=function(t){if(t!==b){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===w?n&&"number"==typeof n.length?o=O(t).apply(this._boundValue(),n):(o=R,o.e=new m("cannot .spread() a non-array: "+f.classString(n))):o=O(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,r,o){var s=t instanceof i,a=this._bitField,c=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),r instanceof x&&r.isFinallyHandler()?(r.cancelPromise=t,O(e).call(r,o)===R&&t._reject(R.e)):e===u?t._fulfill(u.call(r)):r instanceof n?r._promiseCancelled(t):s||t instanceof E?t._cancel():r.cancel()):"function"==typeof e?s?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,o,t)):e.call(r,o,t):r instanceof n?r._isResolved()||(0!==(33554432&a)?r._promiseFulfilled(o,t):r._promiseRejected(o,t)):s&&(c&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():v.settlePromises(this),this._dereferenceTrace())}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?v.fatalError(t,f.isNode):void((65535&e)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&_.defineProperty(i.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),i.defer=i.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new i(b);return{promise:t,resolve:o,reject:s}},f.notEnumerableProp(i,"_makeSelfResolutionError",l),t("./method")(i,b,j,p,T),t("./bind")(i,b,j,T),t("./cancel")(i,E,p,T),t("./direct_resolve")(i),t("./synchronous_inspection")(i),t("./join")(i,E,j,b,v,c),i.Promise=i,i.version="3.5.5",t("./call_get.js")(i),t("./generators.js")(i,p,b,j,n,T),t("./map.js")(i,E,p,j,b,T),t("./nodeify.js")(i),t("./promisify.js")(i,b),t("./props.js")(i,E,j,p),t("./race.js")(i,b,j,p),t("./reduce.js")(i,E,p,j,b,T),t("./settle.js")(i,E,T),t("./some.js")(i,E,p),t("./timers.js")(i,b,T),t("./using.js")(i,p,j,F,b,T),t("./any.js")(i),t("./each.js")(i,b),t("./filter.js")(i,b),f.toFastProperties(i),f.toFastProperties(i.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new i(b)),T.setBounds(d.firstLineError,f.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");c.isArray;return c.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function l(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(l,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=c.asArray(o),null===o){var u=i("expecting an array or an iterable object but got "+c.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var c=r(t[a],i);c instanceof e?(c=c._target(),s=c._bitField):s=null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0===(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!==(33554432&s)?this._promiseFulfilled(c._value(),a):0!==(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!C.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=f.getDataPropertyOrDefault(t,e+n,b);return r?i(r):!1}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=f.inheritedDataKeys(t),c=[],l=0;l<a.length;++l){var u=a[l],p=t[u],h=r===j?!0:j(u,p,t);"function"!=typeof p||i(p)||o(t,u,e)||!r(u,p,t,h)||c.push(u,p)}return s(c,e,n),c}function c(t,r,i,o,s,a){function c(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof u&&this!==l?this[u]:t,c=_(o,a);try{s.apply(i,d(arguments,c))}catch(p){o._rejectCallback(v(p),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),u=t;return"string"==typeof u&&(t=o),f.notEnumerableProp(c,"__isPromisified__",!0),c}function l(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),c=0,l=s.length;l>c;c+=2){var u=s[c],p=s[c+1],_=u+e;if(r===k)t[_]=k(u,h,u,p,e,i);else{var d=r(p,function(){return k(u,h,u,p,e,i)});f.notEnumerableProp(d,"__isPromisified__",!0),t[_]=d}}return f.toFastProperties(t),t}function u(t,e,n){return k(t,e,void 0,t,null,n)}var p,h={},f=t("./util"),_=t("./nodeback"),d=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],C=new RegExp("^(?:"+w.join("|")+")$"),j=function(t){return f.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?p:c;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+f.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,s=u(t,n,o);return f.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=j);var o=e.promisifier;if("function"!=typeof o&&(o=k),!f.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=f.inheritedDataKeys(t),a=0;a<s.length;++a){var c=t[s[a]];"constructor"!==s[a]&&f.isClass(c)&&(l(c.prototype,r,i,o,n),l(c,r,i,o,n))}return l(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=p(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function s(t){var n,s=r(t);return l(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,c=t("./util"),l=c.isObject,u=t("./es5");"function"==typeof Map&&(a=Map);var p=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var c=r(t);if(c instanceof e)return a(c);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var l=new e(n);void 0!==o&&l._propagateFrom(o,3);for(var u=l._fulfill,p=l._reject,h=0,f=t.length;f>h;++h){var _=t[h];(void 0!==_||h in t)&&e.cast(_)._then(u,p,void 0,l,null)}return l}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=h();this._fn=null===s?n:f.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function l(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+f.classString(e));var o=new a(t,e,n,i);return o.promise()}function u(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n=this.array,r=n._promise,i=_(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,f=t("./util"),_=f.tryCatch;f.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},e.prototype.reduce=function(t,e){return l(this,t,e,null)},e.reduce=function(t,e,n,r){return l(t,e,n,r)}}},{"./util":36}],29:[function(t,e,n){"use strict";var r,i=t("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var a=global.setImmediate,c=process.nextTick;r=i.isRecentNode?function(t){a.call(global,t)}:function(t){c.call(process,t)}}else if("function"==typeof s&&"function"==typeof s.resolve){var l=s.resolve();r=function(t){l.then(t)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}():"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:o;e.exports=r},{"./util":36
}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,c=t("./errors").AggregateError,l=s.isArray,u={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new c,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(u(t)){if(t instanceof e)return t;var i=o(t);if(i===l){r&&r._pushContext();var c=e.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(s(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return l.e=e,l}}function s(t){try{return p.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,p,!0),a=null)}var a=new e(n),u=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var p=!0,h=c.tryCatch(r).call(t,o,s);return p=!1,a&&h===l&&(a._rejectCallback(h.e,!0,!0),a=null),u}var c=t("./util"),l=c.errorObj,u=c.isObject,p={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),c=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(l,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return u(t,this)};var p=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new c("operation timed out"):new c(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,c=new i(setTimeout(function(){n.isPending()&&p(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,s,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function c(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function l(t,n){function i(){if(s>=l)return u._fulfill();var o=c(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(p){return a(p)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,l=t.length,u=new e(o);return i(),u}function u(t,e,n){this._data=t,this._promise=e,this._context=n}function p(t,e,n){this.constructor$(t,e,n)}function h(t){return u.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function f(t){this.length=t,this.promise=null,this[t-1]=null}var _=t("./util"),d=t("./errors").TypeError,v=t("./util").inherits,y=_.errorObj,m=_.tryCatch,g={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},u.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},u.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(p,u),p.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},f.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+_.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var c=new f(t),p=0;t>p;++p){var d=o[p];if(u.isDisposer(d)){var v=d;d=d.promise(),d._setDisposable(v)}else{var g=r(d);g instanceof e&&(d=g._then(h,null,null,{resources:c,index:p},void 0))}c[p]=d}for(var b=new Array(c.length),p=0;p<b.length;++p)b[p]=e.resolve(c[p]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}C._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=C._popContext();return s.checkForgottenReturns(r,o,"Promise.using",C),r}),C=w.lastly(function(){var t=new e.PromiseInspection(w);return l(c,t)});return c.promise=C,C._setOnCancel(c),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new p(t,this,i());throw new d}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";function r(){try{var t=P;return P=null,t.apply(this,arguments)}catch(e){return x.e=e,x}}function i(t){return P=t,r}function o(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return o(t)?new Error(v(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function u(t,e,n){if(o(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function p(t){throw t}function h(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=A.test(t+"")&&F.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function f(t){function e(){}function n(){return typeof r.foo}e.prototype=t;var r=new e;return n(),n(),t}function _(t){return D.test(t)}function d(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function m(t){try{u(t,"isOperational",!0)}catch(e){}}function g(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function b(t){return y(t)&&F.propertyIsWritable(t,"stack")}function w(t){return{}.toString.call(t)}function C(t,e,n){for(var r=F.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{F.defineProperty(e,o,F.getDescriptor(t,o))}catch(s){}}}function j(t){return H?process.env[t]:void 0}function E(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function k(t,e){return t.bind(e)}var F=t("./es5"),T="undefined"==typeof navigator,x={e:{}},P,S="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,R=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},O=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var c=o[a];if(!i[c]){i[c]=!0;var l=Object.getOwnPropertyDescriptor(t,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),A=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,V=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(v(t))}:function(t){if(b(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),I=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var L="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};I=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?L(t):null}}var N="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),H="undefined"!=typeof process&&"undefined"!=typeof process.env,B={isClass:h,isIdentifier:_,inheritedDataKeys:O,getDataPropertyOrDefault:l,thrower:p,isArray:F.isArray,asArray:I,notEnumerableProp:u,isPrimitive:o,isObject:s,isError:y,canEvaluate:T,errorObj:x,tryCatch:i,inherits:R,withAppended:c,maybeWrapAsError:a,toFastProperties:f,filledRange:d,toString:v,canAttachTrace:b,ensureErrorObject:V,originatesFromRejection:g,markAsOriginatingFromRejection:m,classString:w,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,hasEnvVariables:H,env:j,global:S,getNativePromise:E,domainBind:k};B.isRecentNode=B.isNode&&function(){var t;return process.versions&&process.versions.node?t=process.versions.node.split(".").map(Number):process.version&&(t=process.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(U){B.lastLineError=U}e.exports=B},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);
var LZString=function(){function o(o,r){if(!t[o]){t[o]={};for(var n=0;n<o.length;n++)t[o][o.charAt(n)]=n}return t[o][r]}var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",t={},i={compressToBase64:function(o){if(null==o)return"";var r=i._compress(o,6,function(o){return n.charAt(o)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(r){return null==r?"":""==r?null:i._decompress(r.length,32,function(e){return o(n,r.charAt(e))})},compressToUTF16:function(o){return null==o?"":i._compress(o,15,function(o){return r(o+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;t>e;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(o){if(null===o||void 0===o)return i.decompress(o);for(var n=new Array(o.length/2),e=0,t=n.length;t>e;e++)n[e]=256*o[2*e]+o[2*e+1];var s=[];return n.forEach(function(o){s.push(r(o))}),i.decompress(s.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":i._compress(o,6,function(o){return e.charAt(o)})},decompressFromEncodedURIComponent:function(r){return null==r?"":""==r?null:(r=r.replace(/ /g,"+"),i._decompress(r.length,32,function(n){return o(e,r.charAt(n))}))},compress:function(o){return i._compress(o,16,function(o){return r(o)})},_compress:function(o,r,n){if(null==o)return"";var e,t,i,s={},p={},u="",c="",a="",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(""!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(o,n,e){var t,i,s,p,u,c,a,l,f=[],h=4,d=4,m=3,v="",w=[],A={val:e(0),position:n,index:1};for(i=0;3>i;i+=1)f[i]=i;for(p=0,c=Math.pow(2,2),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(t=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 2:return""}for(f[3]=l,s=l,w.push(l);;){if(A.index>o)return"";for(p=0,c=Math.pow(2,m),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(l=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 2:return w.join("")}if(0==h&&(h=Math.pow(2,m),m++),f[l])v=f[l];else{if(l!==d)return null;v=s+s.charAt(0)}w.push(v),f[d++]=s+v.charAt(0),h--,s=v,0==h&&(h=Math.pow(2,m),m++)}}};return i}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);
